{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usman\\\\Desktop\\\\erp_system_talha_project\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STR = {\n  en: {\n    addProduct: 'Add Product',\n    addCustomer: 'Add Customer',\n    paidNow: 'Paid Now',\n    remaining: 'Remaining',\n    previousPending: 'Previous Pending',\n    savePrint: 'Save & Print',\n    products: 'Products',\n    customers: 'Customers',\n    purchases: 'Purchases',\n    sales: 'Sales',\n    reports: 'Reports',\n    debits: 'Debits',\n    settings: 'Settings',\n    login: 'Welcome Back',\n    username: 'Username',\n    password: 'Password',\n    loginBtn: 'Login',\n    vendorName: 'Vendor Name',\n    modeOfPayment: 'Mode of Payment',\n    cash: 'Cash',\n    card: 'Card',\n    cheque: 'Cheque',\n    online: 'Online',\n    availableproducts: 'Available Products',\n    recycleBin: 'Recycle Bin'\n  },\n  ur: {\n    addProduct: 'مصنوع شامل کریں',\n    addCustomer: 'کسٹمر شامل کریں',\n    paidNow: 'ادائیگی',\n    remaining: 'بقیہ',\n    previousPending: 'پچھلا بقایا',\n    savePrint: 'محفوظ کریں اور پرنٹ کریں',\n    products: 'پراڈکٹس',\n    customers: 'کسٹمرز',\n    purchases: 'خریداری',\n    sales: 'فروخت',\n    reports: 'رپورٹس',\n    debits: 'ادائیگیاں',\n    settings: 'سیٹنگز',\n    login: 'لاگ ان کریں',\n    username: 'یوزر',\n    password: 'پاس ورڈ',\n    loginBtn: 'لاگ ان',\n    vendorName: 'سپلائر کا نام',\n    modeOfPayment: 'ادائیگی کا طریقہ',\n    cash: 'نقد',\n    card: 'کارڈ',\n    cheque: 'چیک',\n    online: 'آن لائن',\n    availableproducts: 'دستیاب مصنوعات',\n    recycleBin: 'ری سائیکل بن',\n    login: 'خوش آمدید'\n  }\n};\nfunction App() {\n  _s();\n  const [lang, setLang] = useState(localStorage.getItem('erp_lang') || 'en');\n  const [route, setRoute] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [logo, setLogo] = useState(localStorage.getItem('erp_logo') || '');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(window.innerWidth > 768);\n  function t(k) {\n    return STR[lang][k] || k;\n  }\n  useEffect(() => {\n    if (user) setRoute('dashboard');\n  }, [user]);\n  useEffect(() => {\n    const handleResize = () => {\n      setIsSidebarOpen(window.innerWidth > 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onSuccess: u => {\n        setUser(u);\n      },\n      logo: logo,\n      t: t,\n      setLang: setLang,\n      lang: lang\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n  const titleMap = {\n    dashboard: 'Dashboard',\n    products: t('products'),\n    sales: t('sales'),\n    purchases: t('purchases'),\n    reports: t('reports'),\n    debits: t('debits'),\n    settings: t('settings'),\n    RecycleBin: t('Recycle Bin')\n  };\n  const currentTitle = titleMap[route] || 'Recycle Bin';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex flex-col md:flex-row bg-slate-100 text-slate-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md:hidden bg-slate-950 text-white p-3 flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsSidebarOpen(!isSidebarOpen),\n          className: \"p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M4 6h16M4 12h16M4 18h16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-white text-sm\",\n            children: \"Ethehad Traders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-cyan-400\",\n            children: \"ET & Co\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: lang,\n          onChange: e => {\n            const l = e.target.value;\n            setLang(l);\n            localStorage.setItem('erp_lang', l);\n          },\n          className: \"bg-slate-800 border border-slate-700 rounded px-2 py-1 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"en\",\n            children: \"EN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ur\",\n            children: \"UR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setUser(null);\n            setRoute('login');\n          },\n          className: \"text-red-400 hover:text-red-300 text-sm\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: `\n        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'} \n        md:translate-x-0 fixed md:static inset-y-0 left-0 z-40\n        w-64 bg-slate-950 text-slate-50 flex flex-col transition-transform duration-300\n        md:w-64 md:flex\n      `,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 flex items-center gap-3 border-b border-slate-800\",\n        children: [logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"DP\",\n          className: \"h-12 w-12 rounded-full object-cover ring-2 ring-cyan-400 shadow-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-12 w-12 rounded-full bg-slate-800 flex items-center justify-center text-sm font-semibold\",\n          children: \"Recycle Bin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-white\",\n            children: \"Ethehad Traders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-cyan-400\",\n            children: \"ET & Co\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsSidebarOpen(false),\n          className: \"md:hidden ml-auto p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-1 px-2 py-4 space-y-1 overflow-y-auto\",\n        children: [['dashboard', 'Dashboard'], ['products', t('products')], ['sales', t('sales')], ['purchases', t('purchases')], ['reports', t('reports')], ['debits', t('debits')], ['settings', t('settings')], ['recycleBin', t('Recycle Bin')]].map(([value, label]) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setRoute(value);\n            if (window.innerWidth < 768) setIsSidebarOpen(false);\n          },\n          className: `\n                w-full flex items-center px-3 py-3 rounded-lg text-sm text-left transition\n                ${route === value ? 'bg-gradient-to-r from-cyan-500/20 via-sky-500/10 to-transparent text-white border-l-4 border-cyan-400' : 'text-slate-300 hover:bg-slate-800/60'}\n              `,\n          children: label\n        }, value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden md:block px-4 py-4 border-t border-slate-800 text-xs text-slate-400 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: user === null || user === void 0 ? void 0 : user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: lang,\n            onChange: e => {\n              const l = e.target.value;\n              setLang(l);\n              localStorage.setItem('erp_lang', l);\n            },\n            className: \"bg-slate-900 border border-slate-700 rounded px-1 py-0.5 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"en\",\n              children: \"EN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ur\",\n              children: \"UR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setUser(null);\n              setRoute('login');\n            },\n            className: \"text-red-400 hover:text-red-300\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/50 z-30 md:hidden\",\n      onClick: () => setIsSidebarOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 relative overflow-x-hidden\",\n      children: [logo && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"background\",\n        className: \"pointer-events-none select-none absolute inset-0 w-full h-full object-cover opacity-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative h-full p-3 md:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 md:mb-6 bg-white/80 backdrop-blur-xl shadow-lg rounded-xl md:rounded-2xl px-4 md:px-6 py-3 md:py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-lg md:text-xl font-semibold text-slate-800\",\n            children: currentTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative z-10\",\n          children: [route === 'dashboard' && /*#__PURE__*/_jsxDEV(Dashboard, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 39\n          }, this), route === 'products' && /*#__PURE__*/_jsxDEV(Products, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 38\n          }, this), route === 'sales' && /*#__PURE__*/_jsxDEV(Sales, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 35\n          }, this), route === 'purchases' && /*#__PURE__*/_jsxDEV(Purchases, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 39\n          }, this), route === 'reports' && /*#__PURE__*/_jsxDEV(Reports, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 37\n          }, this), route === 'debits' && /*#__PURE__*/_jsxDEV(Debits, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 36\n          }, this), route === 'recycleBin' && /*#__PURE__*/_jsxDEV(RecycleBin, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 40\n          }, this), route === 'settings' && /*#__PURE__*/_jsxDEV(Settings, {\n            t: t,\n            onLogoChange: l => {\n              setLogo(l);\n              localStorage.setItem('erp_logo', l);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rNKtIerbBR3eALbJcXRvXJtD3C0=\");\n_c = App;\nfunction Header({\n  setRoute,\n  setUser,\n  logo,\n  setLogo,\n  lang,\n  setLang,\n  t\n}) {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-white shadow mb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-2 sm:px-4 md:px-6 py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\",\n          className: \"h-10 w-10 object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-10 w-10 bg-sky-100 rounded flex items-center justify-center text-sky-600\",\n          children: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-lg md:text-xl font-semibold text-sky-600\",\n          children: \"ERP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex flex-wrap items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('dashboard'),\n          children: t('Dashboard')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('products'),\n          children: t('products')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('sales'),\n          children: t('sales')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('purchases'),\n          children: t('purchases')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('reports'),\n          children: t('reports')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('debits'),\n          children: t('debits')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('settings'),\n          children: t('settings')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: lang,\n          onChange: e => {\n            setLang(e.target.value);\n            localStorage.setItem('erp_lang', e.target.value);\n          },\n          className: \"border rounded px-2 py-1 text-xs sm:text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"en\",\n            children: \"EN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ur\",\n            children: \"UR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md bg-sky-600 text-white hover:bg-sky-700 transition text-xs sm:text-sm\",\n          onClick: () => {\n            setUser(null);\n            localStorage.removeItem('erp_lang');\n          },\n          children: t('login')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Header;\nfunction Login({\n  onSuccess,\n  logo,\n  t,\n  setLang,\n  lang\n}) {\n  _s2();\n  const [u, setU] = useState('admin');\n  const [p, setP] = useState('admin');\n  const [err, setErr] = useState('');\n  async function submit(e) {\n    e.preventDefault();\n    try {\n      const res = await fetch('http://localhost:4000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: u,\n          password: p\n        })\n      });\n      if (!res.ok) throw new Error('login failed');\n      const j = await res.json();\n      onSuccess(j.user);\n    } catch (err) {\n      setErr('Wrong Password or Username');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-screen p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-xl shadow-md p-6 md:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-4\",\n        children: logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          className: \"h-20 md:h-24 w-20 md:w-24 object-contain\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-20 md:h-24 w-20 md:w-24 bg-sky-100 rounded-full flex items-center justify-center text-sky-600\",\n          children: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-xl font-semibold text-gray-700 mb-4\",\n        children: t('login')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: t('username'),\n          className: \"w-full px-4 py-2 border rounded-md focus:outline-sky-300 text-sm md:text-base\",\n          value: u,\n          onChange: e => setU(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: t('password'),\n          className: \"w-full px-4 py-2 border rounded-md focus:outline-sky-300 text-sm md:text-base\",\n          value: p,\n          onChange: e => setP(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: lang,\n            onChange: e => {\n              setLang(e.target.value);\n              localStorage.setItem('erp_lang', e.target.value);\n            },\n            className: \"border p-2 rounded text-sm md:text-base flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"en\",\n              children: \"EN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ur\",\n              children: \"UR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full sm:flex-1 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition text-sm md:text-base\",\n            children: t('loginBtn')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 mt-3 text-sm\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 5\n  }, this);\n}\n_s2(Login, \"cRRPyx4NDEbvEcjbMmSDHjuGfLE=\");\n_c3 = Login;\nfunction Dashboard({\n  t\n}) {\n  _s3();\n  const [activeTab, setActiveTab] = useState(\"customers\");\n  const [sales, setSales] = useState([]);\n  const [selectedCustomerName, setSelectedCustomerName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const logoUrl = localStorage.getItem(\"erp_logo\") || \"\";\n  const [stock, setStock] = useState([]);\n  const [movements, setMovements] = useState([]);\n  const [stockLoading, setStockLoading] = useState(false);\n  const [stockErr, setStockErr] = useState(\"\");\n  useEffect(() => {\n    loadSales();\n    loadStockData();\n  }, []);\n  async function loadSales() {\n    try {\n      setLoading(true);\n      setErr(\"\");\n      const res = await fetch(\"http://localhost:4000/api/sales\");\n      const j = await res.json();\n      if (!j.ok) {\n        setErr(j.message || \"Failed to load sales\");\n        return;\n      }\n      setSales(j.sales || []);\n    } catch (e) {\n      console.error(e);\n      setErr(\"Failed to load sales\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function loadStockData() {\n    try {\n      setStockLoading(true);\n      setStockErr(\"\");\n      const [pRes, sRes] = await Promise.all([fetch(\"http://localhost:4000/api/purchases\"), fetch(\"http://localhost:4000/api/sales\")]);\n      const [pJson, sJson] = await Promise.all([pRes.json(), sRes.json()]);\n      if (!pJson.ok) throw new Error(pJson.message || \"Failed to load purchases\");\n      if (!sJson.ok) throw new Error(sJson.message || \"Failed to load sales\");\n      const purchases = pJson.purchases || [];\n      const salesData = sJson.sales || [];\n      const mvts = [];\n      purchases.forEach(p => {\n        (p.products || p.lines || []).forEach(line => {\n          mvts.push({\n            date: p.date,\n            type: \"Purchase\",\n            productName: line.productName || \"\",\n            bagWeight: Number(line.weight || 0),\n            bagsDelta: Number(line.qty || line.quantity || 0)\n          });\n        });\n      });\n      salesData.forEach(s => {\n        (s.products || s.lines || []).forEach(line => {\n          mvts.push({\n            date: s.date,\n            type: \"Sale\",\n            productName: line.productName || \"\",\n            bagWeight: Number(line.weight || 0),\n            bagsDelta: Number(line.quantity || line.qty || 0)\n          });\n        });\n      });\n      setMovements(mvts);\n      setStock(mvts);\n    } catch (e) {\n      console.error(e);\n      setStockErr(e.message || \"Failed to load stock data\");\n    } finally {\n      setStockLoading(false);\n    }\n  }\n  const customerGroup = new Map();\n  (sales || []).forEach(s => {\n    const name = s.customerName || \"Unknown\";\n    if (!customerGroup.has(name)) {\n      customerGroup.set(name, {\n        customerName: name,\n        invoices: [],\n        totalGrand: 0,\n        totalPaid: 0\n      });\n    }\n    const entry = customerGroup.get(name);\n    entry.invoices.push(s);\n    entry.totalGrand += Number(s.grandTotal || 0);\n    entry.totalPaid += Number(s.paidNow || 0);\n  });\n  const customersWithPending = Array.from(customerGroup.values()).map(entry => {\n    const sortedInvoices = [...entry.invoices].sort((a, b) => new Date(a.date || 0) - new Date(b.date || 0));\n    const last = sortedInvoices[sortedInvoices.length - 1];\n    const latestPending = Number((last === null || last === void 0 ? void 0 : last.pending) || 0);\n    return {\n      ...entry,\n      invoices: sortedInvoices,\n      totalPending: latestPending\n    };\n  }).filter(entry => entry.totalPending > 0).sort((a, b) => b.totalPending - a.totalPending);\n  const selectedCustomer = customersWithPending.find(c => c.customerName === selectedCustomerName) || null;\n  const stockSummaryMap = new Map();\n  (movements || []).forEach(mv => {\n    const name = mv.productName || '';\n    const bagWt = Number(mv.bagWeight || mv.bagWt || 0);\n    if (!name || !bagWt) return;\n    const key = `${name}||${bagWt}`;\n    if (!stockSummaryMap.has(key)) {\n      stockSummaryMap.set(key, {\n        productName: name,\n        bagWeight: bagWt,\n        purchased: 0,\n        sold: 0\n      });\n    }\n    const row = stockSummaryMap.get(key);\n    const qty = Number(mv.bagsDelta || mv.qty || mv.bags || 0);\n    if (mv.type === 'Purchase') {\n      row.purchased += Math.abs(qty);\n    } else if (mv.type === 'Sale') {\n      row.sold += Math.abs(qty);\n    }\n  });\n  const stockSummaryRows = Array.from(stockSummaryMap.values()).map(r => ({\n    ...r,\n    available: r.purchased - r.sold\n  })).sort((a, b) => a.productName.localeCompare(b.productName) || a.bagWeight - b.bagWeight);\n  const maxStockValue = stockSummaryRows.length === 0 ? 1 : Math.max(...stockSummaryRows.map(r => Math.max(r.purchased, r.sold, r.available)), 1);\n  const productTotalsMap = new Map();\n  stockSummaryRows.forEach(r => {\n    if (!productTotalsMap.has(r.productName)) {\n      productTotalsMap.set(r.productName, {\n        productName: r.productName,\n        purchased: 0,\n        sold: 0,\n        available: 0\n      });\n    }\n    const entry = productTotalsMap.get(r.productName);\n    entry.purchased += r.purchased;\n    entry.sold += r.sold;\n    entry.available += r.available;\n  });\n  const productTotals = Array.from(productTotalsMap.values()).sort((a, b) => b.available - a.available);\n  const maxProductValue = productTotals.length === 0 ? 1 : Math.max(...productTotals.map(p => Math.max(p.purchased, p.sold, p.available)), 1);\n  const totalAvailableBags = productTotals.reduce((sum, p) => sum + Math.max(p.available, 0), 0);\n  const totalProductsInStock = productTotals.filter(p => p.available > 0).length;\n  const lowStockCount = productTotals.filter(p => p.available > 0 && p.available <= 20).length;\n  const topProductsForBars = productTotals.slice(0, 8);\n  function printInvoiceForRecord(record) {\n    if (!record) return;\n    const dateTime = record.date ? new Date(record.date).toLocaleString() : new Date().toLocaleString();\n    const items = record.products || record.lines || [];\n    const customerTotal = Number(record.customerTotal || 0);\n    const previousPending = Number(record.previousPending || 0);\n    const grandTotal = Number(record.grandTotal || 0);\n    const paidNow = Number(record.paidNow || 0);\n    const remaining = Number(record.pending || 0);\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\n      <h2 style='text-align:center'>Invoice</h2>\n      <div>Customer: ${record.customerName || ''}</div>\n      <div>Date &amp; Time: ${dateTime}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n          <th>Weight</th>\n          <th>Price</th>\n          <th>Line Total</th>\n        </tr>\n        ${items.map((it, i) => `\n          <tr>\n            <td>${i + 1}</td>\n            <td>${it.productName || ''}</td>\n            <td>${it.quantity || it.qty || 0}</td>\n            <td>${it.weight || 0}</td>\n            <td>${it.pricePerKg || it.price || 0}</td>\n            <td>${Number(it.lineTotal || Number(it.quantity || it.qty || 0) * Number(it.pricePerKg || it.price || 0)).toFixed(2)}</td>\n          </tr>`).join('')}\n      </table>\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\n      <div>Previous Pending: ${previousPending.toFixed(2)}</div>\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\n      <div>Paid: ${paidNow.toFixed(2)}</div>\n      <div>Remaining: ${remaining.toFixed(2)}</div>\n      </body></html>\n    `;\n    const w = window.open(\"\", \"_blank\");\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n  async function deleteSaleFromDashboard(id) {\n    if (!window.confirm(\"Delete this sale?\")) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\n        method: \"DELETE\"\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || \"Failed to delete sale\");\n        return;\n      }\n      setSales(prev => prev.filter(s => s.id !== id));\n    } catch (e) {\n      console.error(e);\n      alert(\"Error deleting sale\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 738,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mb-4 gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"customers\"),\n        className: \"px-3 py-2 rounded text-sm \" + (activeTab === \"customers\" ? \"bg-sky-600 text-white\" : \"bg-white text-sky-700 border\"),\n        children: \"Customer Records\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"stock\"),\n        className: \"px-3 py-2 rounded text-sm \" + (activeTab === \"stock\" ? \"bg-sky-600 text-white\" : \"bg-white text-sky-700 border\"),\n        children: \"Stocks Updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 753,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (activeTab === \"customers\") {\n            loadSales();\n          } else if (activeTab === \"stock\") {\n            loadStockData();\n          }\n        },\n        className: \"ml-auto px-3 py-2 text-xs bg-gray-100 border rounded hover:bg-gray-200\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 7\n    }, this), activeTab === \"customers\" && loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-2\",\n      children: \"Loading sales\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 9\n    }, this), activeTab === \"customers\" && err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600 mb-2\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 9\n    }, this), activeTab === \"stock\" && stockLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-2\",\n      children: \"Loading stock\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 9\n    }, this), activeTab === \"stock\" && stockErr && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600 mb-2\",\n      children: stockErr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 9\n    }, this), activeTab === \"customers\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow lg:col-span-1 overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-sm\",\n          children: \"Customers with Remaining Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 13\n        }, this), customersWithPending.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"No customers with pending amounts.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-xs min-w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-left whitespace-nowrap\",\n                  children: \"Customer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 811,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-right whitespace-nowrap\",\n                  children: \"Pending\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: customersWithPending.map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-t cursor-pointer \" + (c.customerName === selectedCustomerName ? \"bg-sky-50\" : \"\"),\n                onClick: () => setSelectedCustomerName(c.customerName),\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 whitespace-nowrap\",\n                  children: c.customerName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-right whitespace-nowrap\",\n                  children: c.totalPending.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 25\n                }, this)]\n              }, c.customerName, true, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow lg:col-span-2 overflow-x-auto\",\n        children: !selectedCustomer ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Select a customer on the left to see full record of their purchases, paid amounts, and remaining balance.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col md:flex-row md:justify-between mb-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 md:mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: selectedCustomer.customerName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-500 text-xs\",\n                children: [\"Total Pending:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedCustomer.totalPending.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 855,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Grand:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedCustomer.totalGrand.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 863,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Paid:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedCustomer.totalPaid.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 869,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 17\n          }, this), selectedCustomer.invoices.map(inv => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded mb-3 p-3 text-xs overflow-x-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col md:flex-row md:justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1 md:mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: \"Date: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 25\n                }, this), inv.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Grand: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 887,\n                    columnNumber: 31\n                  }, this), inv.grandTotal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"|\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Paid: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 31\n                  }, this), inv.paidNow]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"|\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Remaining: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 891,\n                    columnNumber: 31\n                  }, this), inv.pending]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 891,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-[11px] border mt-1 min-w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 899,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 900,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 901,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Weight\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 902,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 903,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Line Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 904,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 898,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: (inv.products || inv.lines || []).map((p, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: idx + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 910,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: p.productName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 911,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: p.quantity || p.qty\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 914,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: p.weight\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 917,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: p.pricePerKg || p.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 920,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: p.lineTotal\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 923,\n                      columnNumber: 31\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 909,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 flex flex-wrap justify-end gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => printInvoiceForRecord(inv),\n                className: \"px-2 py-1 bg-indigo-600 text-white rounded text-xs\",\n                children: \"Print Invoice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteSaleFromDashboard(inv.id),\n                className: \"px-2 py-1 bg-red-600 text-white rounded text-xs\",\n                children: \"\\uD83D\\uDDD1 Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 21\n            }, this)]\n          }, inv.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 9\n    }, this), activeTab === 'stock' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-base mb-2 md:mb-0\",\n          children: \"Stock Updates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 958,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadStockData,\n          className: \"md:ml-auto px-3 py-1 text-xs border rounded hover:bg-gray-50\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 957,\n        columnNumber: 11\n      }, this), stockLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mb-2\",\n        children: \"Loading stock\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 968,\n        columnNumber: 13\n      }, this), stockErr && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-red-600 mb-2\",\n        children: stockErr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 971,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg px-3 py-2 bg-sky-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[11px] text-sky-700 uppercase\",\n            children: \"Total Products in Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: totalProductsInStock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 975,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg px-3 py-2 bg-emerald-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[11px] text-emerald-700 uppercase\",\n            children: \"Total Available Bags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: totalAvailableBags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 987,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 983,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg px-3 py-2 bg-amber-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[11px] text-amber-700 uppercase\",\n            children: \"Low Stock Items (\\u2264 20 bags)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: lowStockCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 995,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 974,\n        columnNumber: 11\n      }, this), stockSummaryRows.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500\",\n        children: \"No stock calculated yet. Add some purchases / sales first.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-sm mb-2\",\n              children: \"Available Stock (by product & bag weight)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-xs mb-4 min-w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-left whitespace-nowrap\",\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1015,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right whitespace-nowrap\",\n                    children: \"Bag Wt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right whitespace-nowrap\",\n                    children: \"Purchased\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1017,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right whitespace-nowrap\",\n                    children: \"Sold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right whitespace-nowrap\",\n                    children: \"Available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1014,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: stockSummaryRows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-t\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 whitespace-nowrap\",\n                    children: r.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1028,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right\",\n                    children: r.bagWeight\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1029,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right\",\n                    children: r.purchased\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1030,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right\",\n                    children: r.sold\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1031,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: 'p-2 text-right ' + (r.available < 0 ? 'text-red-600 font-semibold' : ''),\n                    children: r.available\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 27\n                  }, this)]\n                }, `${r.productName}-${r.bagWeight}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1024,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-sm mb-2\",\n              children: \"Stock Overview by Product (bags)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 19\n            }, this), topProductsForBars.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"No products with stock yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: topProductsForBars.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col sm:flex-row sm:justify-between text-[11px] mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"truncate\",\n                    children: p.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1062,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Available: \", p.available]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1063,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1061,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-3 bg-gray-100 rounded overflow-hidden flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: p.purchased / maxProductValue * 100 + '%'\n                    },\n                    className: \"bg-blue-500\",\n                    title: `Purchased: ${p.purchased}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1067,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: p.sold / maxProductValue * 100 + '%'\n                    },\n                    className: \"bg-red-400\",\n                    title: `Sold: ${p.sold}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1075,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: Math.max(p.available, 0) / maxProductValue * 100 + '%'\n                    },\n                    className: \"bg-green-500\",\n                    title: `Available: ${p.available}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1083,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1066,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col xs:flex-row xs:justify-between text-[10px] text-gray-500 mt-0.5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Purchased: \", p.purchased]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1096,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Sold: \", p.sold]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1097,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Available: \", p.available]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1098,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1095,\n                  columnNumber: 27\n                }, this)]\n              }, `prod-bar-${p.productName}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3 text-[10px] text-gray-500 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-3 h-3 bg-blue-500 inline-block rounded-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1107,\n                  columnNumber: 23\n                }, this), ' ', \"Purchased\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1106,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-3 h-3 bg-red-400 inline-block rounded-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1111,\n                  columnNumber: 23\n                }, this), ' ', \"Sold\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1110,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-3 h-3 bg-green-500 inline-block rounded-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 23\n                }, this), ' ', \"Available\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 956,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 737,\n    columnNumber: 5\n  }, this);\n}\n_s3(Dashboard, \"B/HgnyQfkNdZ+FnHwBBXPOq655Q=\");\n_c4 = Dashboard;\nfunction Products({\n  t\n}) {\n  _s4();\n  const [name, setName] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [list, setList] = useState([]);\n  useEffect(() => {\n    loadProducts();\n  }, []);\n  async function loadProducts() {\n    try {\n      const res = await fetch('http://localhost:4000/api/products');\n      const j = await res.json();\n      if (j.ok) {\n        setList(j.products || []);\n      }\n    } catch (error) {\n      console.error('Failed to load products', error);\n    }\n  }\n  async function add() {\n    if (!name) return alert('Enter product name');\n    try {\n      const res = await fetch('http://localhost:4000/api/products', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name,\n          quantity\n        })\n      });\n      const j = await res.json();\n      if (j.ok) {\n        await loadProducts();\n        setName('');\n        setQuantity(1);\n      }\n    } catch (error) {\n      console.error('Failed to add product', error);\n      alert('Failed to add product');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: t('products')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-3 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Product name\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"border p-2 rounded text-sm md:text-base\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: quantity,\n          onChange: e => setQuantity(Number(e.target.value)),\n          className: \"border p-2 rounded text-sm md:text-base\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: add,\n          className: \"bg-sky-600 text-white px-4 rounded hover:bg-sky-700 transition text-sm md:text-base\",\n          children: t('addProduct')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2\",\n        children: \"Available Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-sm min-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: list.map(p => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: p.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: p.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1209,\n              columnNumber: 17\n            }, this)]\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1170,\n    columnNumber: 5\n  }, this);\n}\n_s4(Products, \"u24eUYqyCwMDG4Em+ogP0yKqQyY=\");\n_c5 = Products;\nfunction Sales({\n  t\n}) {\n  _s5();\n  const [customers, setCustomers] = useState([]);\n  const [productsList, setProductsList] = useState([]);\n  const [selectedCustomerId, setSelectedCustomerId] = useState('');\n  const [customerName, setCustomerName] = useState('');\n  const [previousPending, setPreviousPending] = useState(0);\n  const [items, setItems] = useState([{\n    productName: '',\n    quantity: 1,\n    weight: 0,\n    pricePerKg: 0\n  }]);\n  const [paidNow, setPaidNow] = useState(0);\n  const [calc, setCalc] = useState(null);\n  const [salesRecords, setSalesRecords] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  useEffect(() => {\n    loadCustomers();\n    loadProducts();\n    loadSales();\n  }, []);\n  async function loadCustomers() {\n    try {\n      const res = await fetch('http://localhost:4000/api/customers');\n      const j = await res.json();\n      if (j.ok) setCustomers(j.customers || []);\n    } catch (error) {\n      console.error('Failed to load customers', error);\n    }\n  }\n  async function loadProducts() {\n    try {\n      const res = await fetch('http://localhost:4000/api/products');\n      const j = await res.json();\n      if (j.ok) setProductsList(j.products || []);\n    } catch (error) {\n      console.error('Failed to load products', error);\n    }\n  }\n  async function loadSales() {\n    try {\n      const res = await fetch('http://localhost:4000/api/sales');\n      const j = await res.json();\n      if (j.ok) setSalesRecords(j.sales || []);\n    } catch (error) {\n      console.error('Failed to load sales', error);\n    }\n  }\n  async function addCustomer() {\n    const name = prompt('Customer name');\n    if (!name) return;\n    const location = prompt('Location') || '';\n    const prev = Number(prompt('Previous Pending') || 0);\n    try {\n      const res = await fetch('http://localhost:4000/api/customers', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name,\n          location,\n          previousPending: prev\n        })\n      });\n      const j = await res.json();\n      if (j.ok) {\n        await loadCustomers();\n        alert('Customer added');\n      }\n    } catch (error) {\n      console.error('Failed to add customer', error);\n      alert('Failed to add customer');\n    }\n  }\n  function addItem() {\n    setItems(prev => [...prev, {\n      productName: '',\n      quantity: 1,\n      weight: 0,\n      pricePerKg: 0\n    }]);\n  }\n  function updateItem(i, key, value) {\n    const copy = [...items];\n    copy[i][key] = value;\n    setItems(copy);\n  }\n  function onSelectCustomer(id) {\n    setSelectedCustomerId(id);\n    if (!id) {\n      setPreviousPending(0);\n      setCustomerName('');\n      return;\n    }\n    const c = customers.find(x => x.id === id);\n    if (c) {\n      setCustomerName(c.name);\n      setPreviousPending(c.previous_pending || 0);\n    }\n  }\n  async function calculate() {\n    try {\n      const res = await fetch('http://localhost:4000/api/calculate-invoice', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          products: items,\n          previousPending\n        })\n      });\n      const j = await res.json();\n      setCalc(j);\n    } catch (error) {\n      console.error('Failed to calculate', error);\n      alert('Failed to calculate invoice');\n    }\n  }\n  const customerTotal = calc && typeof calc.customerTotal !== 'undefined' ? Number(calc.customerTotal || 0) : items.reduce((s, it) => s + Number(it.quantity || 0) * Number(it.pricePerKg || 0), 0);\n  const grandTotal = +(customerTotal + Number(previousPending || 0)).toFixed(2);\n  const remaining = +(grandTotal - Number(paidNow || 0)).toFixed(2);\n  const logoUrl = localStorage.getItem('erp_logo') || '';\n  function printGate() {\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:220px;opacity:0.9' />\n      <h2 style='text-align:center'>Gate Pass</h2>\n      <div>Customer: ${customerName}</div>\n      <div>Time: ${new Date().toLocaleString()}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Weight</th>\n          <th>Qty</th>\n        </tr>\n        ${items.map((it, i) => `<tr>\n            <td>${i + 1}</td>\n            <td>${it.productName}</td>\n            <td>${it.quantity}</td>\n            <td>${it.weight}</td>\n          </tr>`).join('')}\n      </table>\n      </body></html>`;\n    const w = window.open('', '_blank');\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n  function printInvoice(record) {\n    const dateTime = record && record.date ? new Date(record.date).toLocaleString() : new Date().toLocaleString();\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\n      <h2 style='text-align:center'>Invoice</h2>\n      <div>Customer: ${customerName}</div>\n      <div>Date &amp; Time: ${dateTime}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n          <th>Weight</th>\n          <th>Price</th>\n          <th>Line Total</th>\n        </tr>\n        ${items.map((it, i) => `\n          <tr>\n            <td>${i + 1}</td>\n            <td>${it.productName}</td>\n            <td>${it.quantity}</td>\n            <td>${it.weight}</td>\n            <td>${it.pricePerKg}</td>\n            <td>${(Number(it.quantity || 0) * Number(it.pricePerKg || 0)).toFixed(2)}</td>\n          </tr>`).join('')}\n      </table>\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\n      <div>Previous Pending: ${Number(previousPending || 0).toFixed(2)}</div>\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\n      <div>Paid: ${Number(paidNow || 0).toFixed(2)}</div>\n      <div>Remaining: ${remaining.toFixed(2)}</div>\n      </body></html>\n    `;\n    const w = window.open('', '_blank');\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n  async function saveAndPrint() {\n    try {\n      const res = await fetch('http://localhost:4000/api/save-sale', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          customerId: selectedCustomerId,\n          customerName,\n          previousPending,\n          products: items,\n          paidNow\n        })\n      });\n      const j = await res.json();\n      if (j.ok) {\n        alert('Saved. Remaining added to customer previous pending: ' + j.record.pending);\n        await loadSales();\n        await loadCustomers();\n        printInvoice(j.record);\n      } else {\n        alert(j.message || 'Failed to save sale');\n      }\n    } catch (error) {\n      console.error('Failed to save sale', error);\n      alert('Failed to save sale');\n    }\n  }\n  async function deleteSale(id) {\n    if (!window.confirm('Delete this sale?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (j.ok) {\n        await loadSales();\n      } else {\n        alert('Failed to delete sale');\n      }\n    } catch (error) {\n      console.error('Failed to delete sale', error);\n      alert('Failed to delete sale');\n    }\n  }\n  function editSales(index) {\n    const s = salesRecords[index];\n    if (!s) return;\n    setSelectedCustomerId(s.customerId || \"\");\n    setCustomerName(s.customerName || \"\");\n    setPreviousPending(Number(s.previousPending || 0));\n    setPaidNow(Number(s.paidNow || 0));\n    const restoredItems = (s.products || s.lines || []).map(item => {\n      var _ref, _item$quantity, _item$weight, _ref2, _item$pricePerKg;\n      return {\n        productName: item.productName || \"\",\n        quantity: Number((_ref = (_item$quantity = item.quantity) !== null && _item$quantity !== void 0 ? _item$quantity : item.qty) !== null && _ref !== void 0 ? _ref : 0),\n        weight: Number((_item$weight = item.weight) !== null && _item$weight !== void 0 ? _item$weight : 0),\n        pricePerKg: Number((_ref2 = (_item$pricePerKg = item.pricePerKg) !== null && _item$pricePerKg !== void 0 ? _item$pricePerKg : item.price) !== null && _ref2 !== void 0 ? _ref2 : 0)\n      };\n    });\n    setItems(restoredItems.length ? restoredItems : [{\n      productName: \"\",\n      quantity: 1,\n      weight: 0,\n      pricePerKg: 0\n    }]);\n    setEditingIndex(index);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: \"Sales / Invoice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1507,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 p-4 rounded shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border p-2 rounded text-sm md:text-base\",\n          value: selectedCustomerId,\n          onChange: e => onSelectCustomer(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1516,\n            columnNumber: 13\n          }, this), customers.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c.id,\n            children: [c.name, \" - \", c.location]\n          }, c.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1518,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Customer Name\",\n          value: customerName,\n          onChange: e => setCustomerName(e.target.value),\n          className: \"border p-2 rounded text-sm md:text-base\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Previous Pending\",\n          value: previousPending,\n          onChange: e => setPreviousPending(Number(e.target.value)),\n          className: \"border p-2 rounded text-sm md:text-base\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1529,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1510,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addCustomer,\n          className: \"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm md:text-base\",\n          children: t('addCustomer')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1538,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1537,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1509,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 p-4 rounded shadow mb-4 overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-sm min-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-sky-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1551,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1553,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Weight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1554,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1555,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Line Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1556,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1550,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1549,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: items.map((it, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1562,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-full text-sm md:text-base\",\n                value: it.productName,\n                onChange: e => updateItem(i, 'productName', e.target.value),\n                list: \"products-list\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1564,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-16 md:w-20 text-right text-sm md:text-base\",\n                type: \"number\",\n                value: it.quantity,\n                onChange: e => updateItem(i, 'quantity', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1574,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-20 md:w-24 text-right text-sm md:text-base\",\n                type: \"number\",\n                value: it.weight,\n                onChange: e => updateItem(i, 'weight', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1584,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1583,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-20 md:w-24 text-right text-sm md:text-base\",\n                type: \"number\",\n                value: it.pricePerKg,\n                onChange: e => updateItem(i, 'pricePerKg', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1594,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1593,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: (Number(it.quantity || 0) * Number(it.pricePerKg || 0)).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1603,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1561,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1559,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1548,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        id: \"products-list\",\n        children: productsList.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p.name\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1616,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1614,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-2 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addItem,\n          className: \"px-3 py-1 bg-white border rounded hover:shadow transition text-sm md:text-base\",\n          children: \"\\u2795 Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1621,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: calculate,\n          className: \"px-3 py-1 bg-sky-600 text-white rounded hover:bg-sky-700 transition text-sm md:text-base\",\n          children: \"Calculate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-auto flex flex-wrap items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm\",\n            children: \"Paid Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1635,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: paidNow,\n            onChange: e => setPaidNow(Number(e.target.value)),\n            className: \"border p-1 rounded w-24 md:w-28 text-right text-sm md:text-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1636,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveAndPrint,\n            className: \"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm md:text-base\",\n            children: t('savePrint')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1634,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: printGate,\n          className: \"px-3 py-1 bg-slate-700 text-white rounded hover:bg-slate-800 transition text-sm md:text-base\",\n          children: \"Gate Pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1650,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1620,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-3 bg-gray-50 rounded text-sm space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Customer Total:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: customerTotal.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1661,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1659,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Previous Pending:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: Number(previousPending || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1665,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Grand Total:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: grandTotal.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1669,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Paid Now:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: Number(paidNow || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1673,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1671,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Remaining:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: remaining.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1677,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1675,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1547,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 p-4 rounded shadow overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2 text-sm md:text-base\",\n        children: \"Saved Invoices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1683,\n        columnNumber: 9\n      }, this), salesRecords.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500\",\n        children: \"No invoices saved yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1685,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-xs min-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1691,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Date/Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Grand Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1693,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1694,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Remaining\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1695,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-center whitespace-nowrap\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1696,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1689,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1688,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: salesRecords.map((s, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1702,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: s.customerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1703,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: s.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1704,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: s.grandTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1705,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: s.paidNow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1706,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: s.pending\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1707,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editSales(idx),\n                className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1709,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteSale(s.id),\n                className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                children: \"\\uD83D\\uDDD1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1715,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1708,\n              columnNumber: 19\n            }, this)]\n          }, s.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1701,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1699,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1687,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1682,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1506,\n    columnNumber: 5\n  }, this);\n}\n_s5(Sales, \"kSG6FHcOzwR0BUYNgk3sHtKE374=\");\n_c6 = Sales;\nfunction VendorPurchaseManagement({\n  t\n}) {\n  _s6();\n  const [vendorsSummary, setVendorsSummary] = useState([]);\n  const [selectedVendorName, setSelectedVendorName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  useEffect(() => {\n    loadVendorPurchases();\n  }, []);\n  async function loadVendorPurchases() {\n    try {\n      setLoading(true);\n      setErr(\"\");\n      const res = await fetch(\"http://localhost:4000/api/purchases-with-pending\");\n      const j = await res.json();\n      if (!j.ok) {\n        throw new Error(j.message || \"Failed to load vendor purchases\");\n      }\n      const list = j.purchases || [];\n      const map = new Map();\n      list.forEach(p => {\n        const name = p.vendorName || \"Unknown\";\n        if (!map.has(name)) {\n          map.set(name, {\n            vendorName: name,\n            totalPending: 0,\n            totalGrand: 0,\n            totalPaid: 0,\n            purchases: []\n          });\n        }\n        const g = map.get(name);\n        g.totalPending += Number(p.pending || 0);\n        g.totalGrand += Number(p.grandTotal || 0);\n        g.totalPaid += Number(p.paidNow || 0);\n        g.purchases.push(p);\n      });\n      const groups = Array.from(map.values()).sort((a, b) => b.totalPending - a.totalPending);\n      setVendorsSummary(groups);\n      if (!selectedVendorName && groups.length > 0) {\n        setSelectedVendorName(groups[0].vendorName);\n      }\n    } catch (e) {\n      console.error(e);\n      setErr(e.message || \"Failed to load vendor purchases\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function handleDeletePurchase(purchase) {\n    if (!purchase) return;\n    if (!window.confirm(\"Delete this purchase record?\")) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${purchase.id}`, {\n        method: \"DELETE\"\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || \"Purchase not found!\");\n        return;\n      }\n      await loadVendorPurchases();\n    } catch (e) {\n      console.error(e);\n      alert(\"Error deleting purchase\");\n    }\n  }\n  const selectedVendorSummary = vendorsSummary.find(v => v.vendorName === selectedVendorName) || null;\n  const totalPendingAll = vendorsSummary.reduce((sum, v) => sum + v.totalPending, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded shadow mt-4 overflow-x-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:items-center mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-sm md:text-base flex-1 mb-2 md:mb-0\",\n        children: \"Vendor Purchase Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1823,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadVendorPurchases,\n        className: \"px-2 py-1 text-xs border rounded\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1826,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1822,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500 mb-2\",\n      children: \"Loading vendor purchases\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1835,\n      columnNumber: 9\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-red-600 mb-2\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1837,\n      columnNumber: 15\n    }, this), vendorsSummary.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500\",\n      children: \"No purchases yet. Once you save purchases, you will see vendor-wise summary here.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1840,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1 border rounded p-3 overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-2 text-xs md:text-sm\",\n          children: \"Vendors (total purchase & pending)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1847,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-[11px] md:text-xs min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-1 text-left whitespace-nowrap\",\n                children: \"Vendor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1853,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-1 text-right whitespace-nowrap\",\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1854,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1852,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1851,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: vendorsSummary.map(v => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t cursor-pointer \" + (v.vendorName === selectedVendorName ? \"bg-sky-50\" : \"\"),\n              onClick: () => setSelectedVendorName(v.vendorName),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 whitespace-nowrap\",\n                children: v.vendorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1869,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 text-right whitespace-nowrap\",\n                children: v.totalPending.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1870,\n                columnNumber: 21\n              }, this)]\n            }, v.vendorName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1859,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1857,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1850,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 text-xs text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total Pending: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1879,\n            columnNumber: 15\n          }, this), totalPendingAll.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1878,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1846,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 border rounded p-3 overflow-x-auto\",\n        children: !selectedVendorSummary ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Select a vendor on the left to see full record of your purchases, paid amounts, and remaining balance for that vendor.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1886,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col md:flex-row md:justify-between mb-3 text-xs md:text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 md:mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: selectedVendorSummary.vendorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1894,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-500\",\n                children: [\"Total Pending:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedVendorSummary.totalPending.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1899,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1897,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1893,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Grand:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedVendorSummary.totalGrand.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1907,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1905,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Paid:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedVendorSummary.totalPaid.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1913,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1911,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1904,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1892,\n            columnNumber: 17\n          }, this), selectedVendorSummary.purchases.map(p => {\n            const items = p.products || [];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border rounded mb-3 p-2 text-[11px] md:text-xs overflow-x-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col md:flex-row md:justify-between mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-1 md:mb-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Date: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1929,\n                    columnNumber: 27\n                  }, this), p.date ? new Date(p.date).toLocaleString() : \"-\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1928,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: \"Grand: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1935,\n                      columnNumber: 33\n                    }, this), p.grandTotal]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1935,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1936,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: \"Paid: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1937,\n                      columnNumber: 33\n                    }, this), p.paidNow]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1937,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1938,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: \"Remaining: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1939,\n                      columnNumber: 33\n                    }, this), p.pending]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1939,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1934,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1927,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-[11px] md:text-xs border mt-1 min-w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1946,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1947,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1948,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Weight\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1949,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1950,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: \"Line Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1951,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1945,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1944,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: idx + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1957,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5 whitespace-nowrap\",\n                      children: it.productName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1960,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.qty || it.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1963,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.weight\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1966,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.pricePerKg || it.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1969,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.lineTotal\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1972,\n                      columnNumber: 31\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1956,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1954,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1943,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 flex flex-wrap justify-end gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => alert(\"Edit in form: we can wire this to Purchases later.\"),\n                  className: \"px-2 py-1 bg-sky-600 text-white rounded text-xs\",\n                  children: \"Edit in Form\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1981,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeletePurchase(p),\n                  className: \"px-2 py-1 bg-red-600 text-white rounded text-xs\",\n                  children: \"\\uD83D\\uDDD1 Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1991,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1980,\n                columnNumber: 23\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1923,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1884,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1845,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1821,\n    columnNumber: 5\n  }, this);\n}\n_s6(VendorPurchaseManagement, \"cVXa2hJG5b+rtPz51Xq2U7V5hYM=\");\n_c7 = VendorPurchaseManagement;\nfunction Purchases({\n  t\n}) {\n  _s7();\n  const [vendorName, setVendorName] = useState('');\n  const [rows, setRows] = useState([{\n    productName: '',\n    qty: 1,\n    weight: 0,\n    pricePerKg: 0\n  }]);\n  const [paidNow, setPaidNow] = useState(0);\n  const [mode, setMode] = useState('cash');\n  const [records, setRecords] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [filterDate, setFilterDate] = useState('');\n  const [selectedVendorName, setSelectedVendorName] = useState('');\n\n  // Load purchases from backend\n  useEffect(() => {\n    loadPurchases();\n  }, []);\n  async function loadPurchases() {\n    try {\n      const res = await fetch('http://localhost:4000/api/purchases');\n      const j = await res.json();\n      if (j.ok) {\n        setRecords(j.purchases || []);\n      }\n    } catch (error) {\n      console.error('Error loading purchases', error);\n    }\n  }\n  function addRow() {\n    setRows(prev => [...prev, {\n      productName: '',\n      qty: 1,\n      weight: 0,\n      pricePerKg: 0\n    }]);\n  }\n  function updateRow(i, key, value) {\n    const a = [...rows];\n    a[i][key] = value;\n    setRows(a);\n  }\n  const total = rows.reduce((s, r) => s + Number(r.qty || 0) * Number(r.pricePerKg || 0), 0);\n  const remaining = +(total - Number(paidNow || 0)).toFixed(2);\n  async function savePurchase() {\n    const payloadProducts = rows.map(r => ({\n      productName: r.productName,\n      qty: Number(r.qty || 0),\n      weight: Number(r.weight || 0),\n      pricePerKg: Number(r.pricePerKg || 0)\n    }));\n    const payload = {\n      vendorName,\n      products: payloadProducts,\n      paidNow,\n      modeOfPayment: mode\n    };\n    try {\n      let j;\n      if (editingIndex !== null && editingId) {\n        // UPDATE existing purchase\n        const res = await fetch(`http://localhost:4000/api/purchases/${editingId}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        });\n        j = await res.json();\n        if (!j.ok) {\n          alert(j.message || 'Failed to update purchase');\n          return;\n        }\n        alert('Purchase updated');\n      } else {\n        // CREATE new purchase\n        const res = await fetch('http://localhost:4000/api/save-purchase', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        });\n        j = await res.json();\n        if (!j.ok) {\n          alert(j.message || 'Failed to save purchase');\n          return;\n        }\n        alert('Purchase saved');\n      }\n\n      // Reset form and reload purchases\n      setEditingIndex(null);\n      setEditingId(null);\n      setVendorName('');\n      setPaidNow(0);\n      setMode('cash');\n      setRows([{\n        productName: '',\n        qty: 1,\n        weight: 0,\n        pricePerKg: 0\n      }]);\n      await loadPurchases();\n    } catch (e) {\n      console.error(e);\n      alert('Error saving purchase');\n    }\n  }\n  function editPurchase(index) {\n    const r = records[index];\n    if (!r) return;\n\n    // Fill form with this purchase\n    setVendorName(r.vendor_name || '');\n    setPaidNow(Number(r.paid_now || 0));\n    setMode(r.mode_of_payment || 'cash');\n    const restoredRows = (r.products || []).map(p => ({\n      productName: p.productName,\n      qty: p.qty || p.quantity || 0,\n      weight: p.weight || 0,\n      pricePerKg: p.pricePerKg || p.price || 0\n    }));\n    setRows(restoredRows.length ? restoredRows : [{\n      productName: '',\n      qty: 1,\n      weight: 0,\n      pricePerKg: 0\n    }]);\n\n    // Set editing state\n    setEditingIndex(index);\n    setEditingId(r.id);\n  }\n  async function deletePurchase(index) {\n    const r = records[index];\n    if (!r || !r.id) return;\n    if (!window.confirm('Delete this purchase?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${r.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete purchase');\n        return;\n      }\n      await loadPurchases();\n      alert('Purchase deleted');\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting purchase');\n    }\n  }\n\n  // Build a map: vendorName -> aggregated info + list of their purchases\n  const vendorMap = new Map();\n  (records || []).forEach(r => {\n    const name = r.vendor_name || 'Unknown';\n    if (!vendorMap.has(name)) {\n      vendorMap.set(name, {\n        vendorName: name,\n        totalGrand: 0,\n        totalPaid: 0,\n        totalPending: 0,\n        purchases: []\n      });\n    }\n    const entry = vendorMap.get(name);\n    entry.totalGrand += Number(r.grand_total || 0);\n    entry.totalPaid += Number(r.paid_now || 0);\n    entry.totalPending += Number(r.pending || 0);\n    entry.purchases.push(r);\n  });\n\n  // Sorted list of vendors (by pending desc)\n  const vendorsSummary = Array.from(vendorMap.values()).sort((a, b) => b.totalPending - a.totalPending);\n  const selectedVendorSummary = vendorsSummary.find(v => v.vendorName === selectedVendorName) || null;\n\n  // --- Filtered records by date (yyyy-mm-dd) ---\n  const displayedRecords = filterDate ? records.filter(r => {\n    if (!r.date) return false;\n    return r.date.slice(0, 10) === filterDate;\n  }) : records;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: t('purchases')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: t('vendorName'),\n        value: vendorName,\n        onChange: e => setVendorName(e.target.value),\n        className: \"border p-2 w-full mb-3 text-sm md:text-base\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-sm min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-sky-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left whitespace-nowrap\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left whitespace-nowrap\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left whitespace-nowrap\",\n                children: \"Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left whitespace-nowrap\",\n                children: \"Weight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left whitespace-nowrap\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left whitespace-nowrap\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rows.map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2240,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-1 w-full text-sm md:text-base\",\n                  value: r.productName,\n                  onChange: e => updateRow(i, 'productName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2242,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-1 w-16 md:w-20 text-sm md:text-base\",\n                  type: \"number\",\n                  value: r.qty,\n                  onChange: e => updateRow(i, 'qty', Number(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2251,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-1 w-20 md:w-24 text-sm md:text-base\",\n                  type: \"number\",\n                  value: r.weight,\n                  onChange: e => updateRow(i, 'weight', Number(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2261,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-1 w-24 md:w-28 text-sm md:text-base\",\n                  type: \"number\",\n                  value: r.pricePerKg,\n                  onChange: e => updateRow(i, 'pricePerKg', Number(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2271,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: (Number(r.qty || 0) * Number(r.pricePerKg || 0)).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2280,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2239,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-2 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addRow,\n          className: \"px-3 py-1 border rounded hover:shadow transition text-sm md:text-base\",\n          children: \"\\u2795 Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: mode,\n          onChange: e => setMode(e.target.value),\n          className: \"border p-1 rounded text-sm md:text-base\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cash\",\n            children: t('cash')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"card\",\n            children: t('card')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cheque\",\n            children: t('cheque')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"online\",\n            children: t('online')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-auto flex flex-wrap items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm\",\n            children: \"Amount Paid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: paidNow,\n            onChange: e => setPaidNow(Number(e.target.value)),\n            className: \"border p-1 w-24 md:w-28 text-sm md:text-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 py-2 bg-gray-50 rounded text-sm\",\n            children: [\"Remaining:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: remaining.toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: savePurchase,\n            className: \"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm md:text-base\",\n            children: editingIndex !== null ? 'Update Purchase' : 'Save Purchase'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VendorPurchaseManagement, {\n      t: t\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mt-4 overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-sm md:text-base mb-2 md:mb-0\",\n          children: \"Purchase Records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filterDate,\n            onChange: e => setFilterDate(e.target.value),\n            className: \"border p-1 rounded text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: loadPurchases,\n            className: \"px-3 py-1 text-xs border rounded hover:bg-gray-50\",\n            children: \"Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2338,\n        columnNumber: 9\n      }, this), displayedRecords.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"No purchase records found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2357,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-xs min-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Vendor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Grand Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2365,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Payment Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-center whitespace-nowrap\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2369,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: displayedRecords.map((record, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2375,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: record.vendor_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2376,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: record.date ? new Date(record.date).toLocaleDateString() : '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2377,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: Number(record.grand_total || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2380,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: Number(record.paid_now || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2381,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: Number(record.pending || 0).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 whitespace-nowrap\",\n              children: record.mode_of_payment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2383,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-center whitespace-nowrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editPurchase(index),\n                className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2385,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deletePurchase(index),\n                className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                children: \"\\uD83D\\uDDD1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2391,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2384,\n              columnNumber: 19\n            }, this)]\n          }, record.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2374,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2372,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2337,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2214,\n    columnNumber: 5\n  }, this);\n}\n_s7(Purchases, \"IdGOJVR4JGURxeJvORJnWotOjss=\");\n_c8 = Purchases;\nfunction Reports({\n  t\n}) {\n  _s8();\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const [report, setReport] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n  async function loadReport(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    if (!date) {\n      alert('Select a date');\n      return;\n    }\n    setLoading(true);\n    setErr('');\n    setReport(null);\n    try {\n      const res = await fetch(`http://localhost:4000/api/reports/day?date=${date}`);\n      const j = await res.json();\n      if (!j.ok) throw new Error(j.message || 'Failed to load report');\n      setReport(j);\n    } catch (e) {\n      console.error(e);\n      setErr('Failed to load report');\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: \"Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: loadReport,\n        className: \"flex flex-col sm:flex-row sm:items-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-1\",\n            children: \"Select Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: date,\n            onChange: e => setDate(e.target.value),\n            className: \"border p-2 rounded w-full text-sm md:text-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition text-sm md:text-base\",\n          children: loading ? 'Loading…' : 'Load Report'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2451,\n          columnNumber: 11\n        }, this), err && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-600 text-sm ml-2\",\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2457,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2441,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2440,\n      columnNumber: 7\n    }, this), !report && !loading && !err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: \"Select a date and click \\\"Load Report\\\" to view details.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2462,\n      columnNumber: 9\n    }, this), report && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Total Sales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: Number(report.totalSales || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2470,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2468,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Amount Received\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: Number(report.totalReceived || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2476,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2474,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Number of Bills\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: (report.invoices || []).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2482,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow mb-4 overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: [\"Products Sold on \", report.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2489,\n          columnNumber: 13\n        }, this), (report.productsSummary || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"No products sold on this date.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2491,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-sm border min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"border px-2 py-1 text-left whitespace-nowrap\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2496,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"border px-2 py-1 text-right whitespace-nowrap\",\n                children: \"Total Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2497,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"border px-2 py-1 text-right whitespace-nowrap\",\n                children: \"Total Weight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2498,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2495,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2494,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: report.productsSummary.map((p, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 whitespace-nowrap\",\n                children: p.productName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2504,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-right\",\n                children: p.totalQty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2505,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-right\",\n                children: p.totalWeight\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2506,\n                columnNumber: 23\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2503,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2501,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2493,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2488,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: \"Bills / Invoices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2515,\n          columnNumber: 13\n        }, this), (report.invoices || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"No invoices on this date.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2517,\n          columnNumber: 15\n        }, this), (report.invoices || []).map(inv => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded mb-4 p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col md:flex-row md:justify-between text-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-1 md:mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Customer: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2523,\n                columnNumber: 21\n              }, this), inv.customerName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2522,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Time: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2527,\n                columnNumber: 21\n              }, this), inv.date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2526,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2521,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4 text-sm mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Grand Total: \", inv.grandTotal]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2532,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Paid: \", inv.paidNow]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2533,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Pending:  \", inv.pending]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2534,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2531,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-xs border min-w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2540,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2541,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2542,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: \"Weight\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2543,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2544,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: \"Line Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2545,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2539,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2538,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: (inv.products || inv.lines || []).map((p, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: idx + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2551,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5 whitespace-nowrap\",\n                    children: p.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2552,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.quantity || p.qty\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2553,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.weight\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2554,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.pricePerKg || p.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2555,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.lineTotal\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2556,\n                    columnNumber: 27\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2550,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2548,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2537,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2536,\n            columnNumber: 17\n          }, this)]\n        }, inv.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2520,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2514,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2437,\n    columnNumber: 5\n  }, this);\n}\n_s8(Reports, \"ImpzpXrxzFU9LqLJ6vgctTLu2Q4=\");\n_c9 = Reports;\nfunction Debits({\n  t\n}) {\n  _s9();\n  var _vendors$find$remaini, _vendors$find;\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendorId, setSelectedVendorId] = useState('');\n  const [vendorName, setVendorName] = useState('');\n  const [vendorPlace, setVendorPlace] = useState('');\n  const [vendorCompany, setVendorCompany] = useState('');\n  const [editingVendorId, setEditingVendorId] = useState(null);\n  const [ledger, setLedger] = useState([]);\n  const [txType, setTxType] = useState('received');\n  const [txAmount, setTxAmount] = useState(0);\n  const [txMethod, setTxMethod] = useState('');\n  const [txBillRef, setTxBillRef] = useState('');\n  const [txDate, setTxDate] = useState('');\n  const [editingTxId, setEditingTxId] = useState(null);\n  const [purchaseDebits, setPurchaseDebits] = useState([]);\n  const [loadingPurchases, setLoadingPurchases] = useState(false);\n  useEffect(() => {\n    loadVendors();\n    loadPurchaseDebits();\n  }, []);\n  async function loadVendors() {\n    try {\n      const res = await fetch('http://localhost:4000/api/vendors');\n      const j = await res.json();\n      if (j.ok) setVendors(j.vendors || []);\n    } catch (error) {\n      console.error('Failed to load vendors', error);\n    }\n  }\n  async function loadLedger(vendorId) {\n    if (!vendorId) {\n      setLedger([]);\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendorId}/ledger`);\n      const j = await res.json();\n      if (j.ok) {\n        setLedger(j.ledger || []);\n        setVendors(prev => prev.map(v => v.id === vendorId ? j.vendor : v));\n      }\n    } catch (error) {\n      console.error('Failed to load ledger', error);\n    }\n  }\n  async function loadPurchaseDebits() {\n    try {\n      setLoadingPurchases(true);\n      const res = await fetch('http://localhost:4000/api/purchases-with-pending');\n      const j = await res.json();\n      if (j.ok) setPurchaseDebits(j.purchases || []);\n    } catch (error) {\n      console.error('Failed to load purchase debits', error);\n    } finally {\n      setLoadingPurchases(false);\n    }\n  }\n  function onSelectVendor(id) {\n    setSelectedVendorId(id);\n    setEditingTxId(null);\n    resetTxForm();\n    if (id) loadLedger(id);else setLedger([]);\n  }\n  function startNewVendor() {\n    setVendorName('');\n    setVendorPlace('');\n    setVendorCompany('');\n    setEditingVendorId(null);\n  }\n  function startEditVendor(vendor) {\n    setVendorName(vendor.name || '');\n    setVendorPlace(vendor.place || '');\n    setVendorCompany(vendor.company || '');\n    setEditingVendorId(vendor.id);\n  }\n  async function saveVendor() {\n    if (!vendorName) {\n      alert('Vendor name is required');\n      return;\n    }\n    const payload = {\n      id: editingVendorId || undefined,\n      name: vendorName,\n      place: vendorPlace,\n      company: vendorCompany\n    };\n    try {\n      const res = await fetch('http://localhost:4000/api/vendors', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to save vendor');\n        return;\n      }\n      const v = j.vendor;\n      setVendors(prev => {\n        const idx = prev.findIndex(x => x.id === v.id);\n        if (idx === -1) return [...prev, v];\n        const copy = [...prev];\n        copy[idx] = v;\n        return copy;\n      });\n      setVendorName('');\n      setVendorPlace('');\n      setVendorCompany('');\n      setEditingVendorId(null);\n    } catch (error) {\n      console.error(error);\n      alert('Error saving vendor');\n    }\n  }\n  async function deleteVendor(vendor) {\n    if (!window.confirm(`Delete vendor \"${vendor.name}\" and all its debits?`)) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendor.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete vendor');\n        return;\n      }\n      setVendors(prev => prev.filter(v => v.id !== vendor.id));\n      if (selectedVendorId === vendor.id) {\n        setSelectedVendorId('');\n        setLedger([]);\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Error deleting vendor');\n    }\n  }\n  async function deletePurchaseDebit(p) {\n    if (!p || !p.id) return;\n    if (!window.confirm('Delete this pending purchase?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${p.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete purchase');\n        return;\n      }\n      await loadPurchaseDebits();\n      alert('Purchase deleted');\n    } catch (error) {\n      console.error(error);\n      alert('Error deleting purchase');\n    }\n  }\n  function resetTxForm() {\n    setTxType('received');\n    setTxAmount(0);\n    setTxMethod('');\n    setTxBillRef('');\n    setTxDate('');\n    setEditingTxId(null);\n  }\n  function startEditTx(tx) {\n    setTxType(tx.type);\n    setTxAmount(tx.amount);\n    setTxMethod(tx.method || '');\n    setTxBillRef(tx.billRef || '');\n    setTxDate(tx.date ? tx.date.slice(0, 10) : '');\n    setEditingTxId(tx.id);\n  }\n  async function saveTransaction() {\n    if (!selectedVendorId) {\n      alert('Select a vendor first');\n      return;\n    }\n    if (!txAmount || Number(txAmount) <= 0) {\n      alert('Amount must be greater than 0');\n      return;\n    }\n    const payload = {\n      type: txType,\n      amount: Number(txAmount),\n      method: txMethod,\n      billRef: txBillRef,\n      date: txDate ? new Date(txDate).toISOString() : undefined\n    };\n    try {\n      let url = `http://localhost:4000/api/vendors/${selectedVendorId}/transactions`;\n      let method = 'POST';\n      if (editingTxId) {\n        url += `/${editingTxId}`;\n        method = 'PUT';\n      }\n      const res = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to save transaction');\n        return;\n      }\n      setLedger(j.ledger || []);\n      setVendors(prev => prev.map(v => v.id === selectedVendorId ? j.vendor : v));\n      resetTxForm();\n    } catch (error) {\n      console.error(error);\n      alert('Error saving transaction');\n    }\n  }\n  async function deleteTransaction(tx) {\n    if (!selectedVendorId) return;\n    if (!window.confirm('Delete this transaction?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${selectedVendorId}/transactions/${tx.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete');\n        return;\n      }\n      setLedger(j.ledger || []);\n      setVendors(prev => prev.map(v => v.id === selectedVendorId ? j.vendor : v));\n    } catch (error) {\n      console.error(error);\n      alert('Error deleting transaction');\n    }\n  }\n  async function editPurchaseDebit(p) {\n    if (!p || !p.id) return;\n    const newPaidStr = prompt('Enter new paid amount for this purchase:', String(p.paidNow || 0));\n    if (newPaidStr === null) return;\n    const newPaid = Number(newPaidStr);\n    if (isNaN(newPaid)) {\n      alert('Invalid amount');\n      return;\n    }\n    const payload = {\n      vendorName: p.vendor_name,\n      products: p.products || [],\n      paidNow: newPaid,\n      modeOfPayment: p.mode_of_payment\n    };\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${p.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to update purchase');\n        return;\n      }\n      await loadPurchaseDebits();\n      alert('Purchase updated');\n    } catch (error) {\n      console.error(error);\n      alert('Error updating purchase');\n    }\n  }\n  const totalReceived = ledger.filter(tx => tx.type === 'received').reduce((s, tx) => s + Number(tx.amount || 0), 0);\n  const totalPaid = ledger.filter(tx => tx.type === 'paid').reduce((s, tx) => s + Number(tx.amount || 0), 0);\n  const totalGoods = ledger.filter(tx => tx.type === 'goods').reduce((s, tx) => s + Number(tx.amount || 0), 0);\n  const remaining = (_vendors$find$remaini = (_vendors$find = vendors.find(v => v.id === selectedVendorId)) === null || _vendors$find === void 0 ? void 0 : _vendors$find.remaining) !== null && _vendors$find$remaini !== void 0 ? _vendors$find$remaini : 0;\n  const selectedVendor = vendors.find(v => v.id === selectedVendorId) || null;\n  const filteredPurchases = selectedVendor ? purchaseDebits.filter(p => (p.vendor_name || '').toLowerCase() === (selectedVendor.name || '').toLowerCase()) : purchaseDebits;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: \"Debits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2910,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-3 text-sm md:text-base\",\n            children: \"Vendor Debit Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2915,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-2 rounded w-full text-sm md:text-base\",\n              placeholder: \"Vendor Name\",\n              value: vendorName,\n              onChange: e => setVendorName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2917,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-2 rounded w-full text-sm md:text-base\",\n              placeholder: \"Place / Location\",\n              value: vendorPlace,\n              onChange: e => setVendorPlace(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2923,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-2 rounded w-full text-sm md:text-base\",\n              placeholder: \"Company Name\",\n              value: vendorCompany,\n              onChange: e => setVendorCompany(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2929,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: saveVendor,\n                className: \"px-3 py-1 bg-teal-600 text-white rounded hover:bg-teal-700 text-sm md:text-base\",\n                children: editingVendorId ? 'Update Vendor' : 'Save Vendor'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2936,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startNewVendor,\n                className: \"px-3 py-1 border rounded text-sm md:text-base\",\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2942,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2935,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2916,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2914,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow max-h-[400px] overflow-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-3 text-sm md:text-base\",\n            children: \"Vendors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2953,\n            columnNumber: 13\n          }, this), vendors.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"No vendors yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2955,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-xs min-w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-left whitespace-nowrap\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2961,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right whitespace-nowrap\",\n                    children: \"Remaining\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2962,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-center whitespace-nowrap\",\n                    children: \"Action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2963,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2960,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2959,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: vendors.map(v => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: 'border-t ' + (v.id === selectedVendorId ? 'bg-sky-50' : ''),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onSelectVendor(v.id),\n                      className: \"text-left text-xs hover:underline whitespace-nowrap\",\n                      children: [v.name, v.company ? ` (${v.company})` : '']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2976,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2975,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right whitespace-nowrap\",\n                    children: Number(v.remaining || 0).toFixed(2)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2984,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-center whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => startEditVendor(v),\n                      className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2988,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => deleteVendor(v),\n                      className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                      children: \"\\uD83D\\uDDD1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2994,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2987,\n                    columnNumber: 25\n                  }, this)]\n                }, v.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2968,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2966,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2958,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2957,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2952,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2913,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow overflow-x-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-3 text-sm md:text-base\",\n            children: selectedVendorId ? 'Vendor Ledger' : 'Select a Vendor'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3012,\n            columnNumber: 13\n          }, this), selectedVendorId && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Total Received\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3020,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: totalReceived.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3021,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3019,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Total Paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3026,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: totalPaid.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3027,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3025,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Goods Purchased\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3032,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: totalGoods.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3033,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3031,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Remaining\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3038,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: Number(remaining || 0).toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3039,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3037,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3018,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border rounded p-3 mb-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold mb-2\",\n                children: editingTxId ? 'Edit Transaction' : 'Add Transaction'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3046,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-5 gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"border p-2 rounded text-sm md:text-base\",\n                  value: txType,\n                  onChange: e => setTxType(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"received\",\n                    children: \"Received from Vendor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3055,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"paid\",\n                    children: \"Paid to Vendor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3056,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"goods\",\n                    children: \"Goods Purchased (vendor takes goods)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3057,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3050,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"border p-2 rounded text-sm md:text-base\",\n                  placeholder: \"Amount\",\n                  value: txAmount,\n                  onChange: e => setTxAmount(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3061,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"border p-2 rounded text-sm md:text-base\",\n                  value: txDate,\n                  onChange: e => setTxDate(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3068,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-2 rounded text-sm md:text-base\",\n                  placeholder: \"Payment Method\",\n                  value: txMethod,\n                  onChange: e => setTxMethod(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3074,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-2 rounded text-sm md:text-base\",\n                  placeholder: \"Remarks\",\n                  value: txBillRef,\n                  onChange: e => setTxBillRef(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3080,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3049,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: saveTransaction,\n                  className: \"px-3 py-1 bg-teal-600 text-white rounded text-sm md:text-base\",\n                  children: editingTxId ? 'Update Transaction' : 'Save Transaction'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3088,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetTxForm,\n                  className: \"px-3 py-1 border rounded text-sm md:text-base\",\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3094,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3087,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3045,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-h-[380px] overflow-auto text-xs\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full min-w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left whitespace-nowrap\",\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3107,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left whitespace-nowrap\",\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3108,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-right whitespace-nowrap\",\n                      children: \"Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3109,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left whitespace-nowrap\",\n                      children: \"Method\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3110,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left whitespace-nowrap\",\n                      children: \"Remarks\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3111,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-right whitespace-nowrap\",\n                      children: \"Balance After\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3112,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-center whitespace-nowrap\",\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3113,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3106,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3105,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [ledger.map(tx => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"border-t\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 whitespace-nowrap\",\n                      children: tx.date ? new Date(tx.date).toLocaleDateString() : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3119,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 capitalize whitespace-nowrap\",\n                      children: tx.type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3124,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 text-right whitespace-nowrap\",\n                      children: Number(tx.amount || 0).toFixed(2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3125,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 whitespace-nowrap\",\n                      children: tx.method\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3128,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 whitespace-nowrap\",\n                      children: tx.billRef\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3129,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 text-right whitespace-nowrap\",\n                      children: Number(tx.balance_after || 0).toFixed(2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3130,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 text-center whitespace-nowrap\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => startEditTx(tx),\n                        className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3134,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => deleteTransaction(tx),\n                        className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                        children: \"\\uD83D\\uDDD1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3140,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3133,\n                      columnNumber: 27\n                    }, this)]\n                  }, tx.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3118,\n                    columnNumber: 25\n                  }, this)), ledger.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: 7,\n                      className: \"p-2 text-center text-gray-500\",\n                      children: \"No transactions yet.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3151,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3150,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3116,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3104,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), !selectedVendorId && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Select a vendor on the left to view and manage their debits.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3011,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3010,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2912,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-sm md:text-base mb-2 md:mb-0\",\n          children: \"Purchased Vendor (Pending Purchases)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadPurchaseDebits,\n          className: \"md:ml-auto px-3 py-1 text-xs border rounded\",\n          children: loadingPurchases ? 'Refreshing…' : 'Refresh'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mb-2\",\n        children: [\"Showing all purchases where some amount is still pending.\", selectedVendor ? ` (Filtered by vendor: ${selectedVendor.name})` : ' (All vendors)']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-xs min-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Vendor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Grand Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right whitespace-nowrap\",\n              children: \"Remaining\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left whitespace-nowrap\",\n              children: \"Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-center whitespace-nowrap\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3192,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [filteredPurchases.map(p => {\n            const productsList = (p.products || []).map(x => x.productName).join(', ');\n            const totalQty = (p.products || []).reduce((s, x) => s + Number(x.qty || x.quantity || 0), 0);\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 whitespace-nowrap\",\n                children: p.vendor_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 whitespace-nowrap\",\n                children: p.date ? new Date(p.date).toLocaleDateString() : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 whitespace-nowrap\",\n                children: productsList || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3217,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: totalQty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3218,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: Number(p.grand_total || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: Number(p.paid_now || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: Number(p.pending || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3225,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 whitespace-nowrap\",\n                children: p.mode_of_payment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-center whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => editPurchaseDebit(p),\n                  className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3230,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deletePurchaseDebit(p),\n                  className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                  children: \"\\uD83D\\uDDD1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3236,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3229,\n                columnNumber: 19\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3212,\n              columnNumber: 17\n            }, this);\n          }), filteredPurchases.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-center text-gray-500\",\n              colSpan: 9,\n              children: \"No pending purchases found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3247,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2909,\n    columnNumber: 5\n  }, this);\n}\n_s9(Debits, \"lvukjGN0vac7D9bjeSB75hZmFnw=\");\n_c0 = Debits;\nfunction RecycleBin({\n  t\n}) {\n  _s0();\n  const [activeType, setActiveType] = useState('sales');\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n  async function loadItems(type = activeType) {\n    try {\n      setLoading(true);\n      setErr('');\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${type}`);\n      const j = await res.json();\n      if (!j.ok) throw new Error(j.message || 'Failed to load recycle bin');\n      setItems(j.items || []);\n    } catch (e) {\n      console.error(e);\n      setErr(e.message || 'Failed to load recycle bin');\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    loadItems('sales');\n  }, []);\n  function changeType(type) {\n    setActiveType(type);\n    loadItems(type);\n  }\n  async function handleRestore(id) {\n    if (!window.confirm('Restore this record?')) return;\n    try {\n      const res = await fetch('http://localhost:4000/api/recycle-bin/restore', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          type: activeType,\n          id\n        })\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to restore');\n        return;\n      }\n      await loadItems();\n      alert('Restored successfully');\n    } catch (e) {\n      console.error(e);\n      alert('Error restoring item');\n    }\n  }\n  async function handleDelete(id) {\n    if (!window.confirm('Permanently delete this item?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${activeType}/${id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete from recycle bin');\n        return;\n      }\n      await loadItems();\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting item');\n    }\n  }\n  async function handleDeleteAll() {\n    if (!window.confirm(`Permanently delete ALL ${activeType} items from recycle bin?`)) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${activeType}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete all');\n        return;\n      }\n      await loadItems();\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting all items');\n    }\n  }\n  function renderMainLabel(item) {\n    if (activeType === 'sales') {\n      return `${item.customer_name || 'Unknown'} — Grand: ${item.grand_total} | Pending: ${item.pending}`;\n    }\n    if (activeType === 'purchases') {\n      return `${item.vendor_name || 'Unknown'} — Grand: ${item.grand_total} | Pending: ${item.pending}`;\n    }\n    if (activeType === 'vendors') {\n      return `${item.name || 'Vendor'} — Remaining: ${item.remaining || 0}`;\n    }\n    if (activeType === 'customers') {\n      return `${item.name || 'Customer'} — Pending: ${item.previous_pending || 0}`;\n    }\n    return 'Item';\n  }\n  function formatDate(iso) {\n    if (!iso) return '';\n    try {\n      return new Date(iso).toLocaleString();\n    } catch {\n      return iso;\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: \"Recycle Bin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3391,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-2 mb-4\",\n      children: [['sales', 'purchases', 'vendors', 'customers'].map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => changeType(type),\n        className: 'px-3 py-1 rounded text-sm ' + (activeType === type ? 'bg-sky-600 text-white' : 'bg-white text-sky-700 border'),\n        children: type.charAt(0).toUpperCase() + type.slice(1)\n      }, type, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3395,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => loadItems(),\n        className: \"ml-auto px-3 py-1 text-xs bg-gray-100 border rounded hover:bg-gray-200\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteAll,\n        className: \"px-3 py-1 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200\",\n        children: \"Delete All Permanently\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3415,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3393,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-2\",\n      children: \"Loading recycle bin\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3424,\n      columnNumber: 9\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600 mb-2\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3426,\n      columnNumber: 15\n    }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500\",\n      children: [\"No deleted \", activeType, \" records in recycle bin.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3429,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded shadow divide-y\",\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 flex flex-col sm:flex-row sm:justify-between sm:items-center text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-0.5 mb-2 sm:mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium truncate\",\n            children: renderMainLabel(item)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3440,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"ID: \", item.id, ' ', item.date && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"| Date: \", formatDate(item.date)]\n            }, void 0, true), item.deleted_at && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [' ', \"| Deleted:\", ' ', formatDate(item.deleted_at)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3441,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3439,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRestore(item.id),\n            className: \"px-2 py-1 text-xs bg-emerald-600 text-white rounded\",\n            children: \"Restore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3455,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(item.id),\n            className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3461,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3454,\n          columnNumber: 15\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3435,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3433,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3390,\n    columnNumber: 5\n  }, this);\n}\n_s0(RecycleBin, \"onojJ+/99yVsWHh6Rf9VwWxSPVU=\");\n_c1 = RecycleBin;\nfunction Settings({\n  t,\n  onLogoChange\n}) {\n  _s1();\n  const [logoData, setLogoData] = useState(localStorage.getItem('erp_logo') || '');\n  function upload(e) {\n    const f = e.target.files[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = ev => {\n      setLogoData(ev.target.result);\n      onLogoChange(ev.target.result);\n    };\n    reader.readAsDataURL(f);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-semibold mb-4\",\n      children: t('settings')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3490,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2\",\n        children: \"Upload Logo (PNG/JPG)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3492,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: upload,\n        className: \"mt-2 w-full text-sm md:text-base\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3493,\n        columnNumber: 9\n      }, this), logoData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoData,\n          className: \"h-28 md:h-32\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3501,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3500,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3491,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3489,\n    columnNumber: 5\n  }, this);\n}\n_s1(Settings, \"wLRAgUtlOK3CM6cwxNPKBnVbKQo=\");\n_c10 = Settings;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Login\");\n$RefreshReg$(_c4, \"Dashboard\");\n$RefreshReg$(_c5, \"Products\");\n$RefreshReg$(_c6, \"Sales\");\n$RefreshReg$(_c7, \"VendorPurchaseManagement\");\n$RefreshReg$(_c8, \"Purchases\");\n$RefreshReg$(_c9, \"Reports\");\n$RefreshReg$(_c0, \"Debits\");\n$RefreshReg$(_c1, \"RecycleBin\");\n$RefreshReg$(_c10, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","STR","en","addProduct","addCustomer","paidNow","remaining","previousPending","savePrint","products","customers","purchases","sales","reports","debits","settings","login","username","password","loginBtn","vendorName","modeOfPayment","cash","card","cheque","online","availableproducts","recycleBin","ur","App","_s","lang","setLang","localStorage","getItem","route","setRoute","user","setUser","logo","setLogo","isSidebarOpen","setIsSidebarOpen","window","innerWidth","t","k","handleResize","addEventListener","removeEventListener","Login","onSuccess","u","fileName","_jsxFileName","lineNumber","columnNumber","titleMap","dashboard","RecycleBin","currentTitle","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","value","onChange","e","l","target","setItem","src","alt","map","label","Dashboard","Products","Sales","Purchases","Reports","Debits","Settings","onLogoChange","_c","Header","removeItem","_c2","_s2","setU","p","setP","err","setErr","submit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","Error","j","json","onSubmit","placeholder","type","_c3","_s3","activeTab","setActiveTab","setSales","selectedCustomerName","setSelectedCustomerName","loading","setLoading","logoUrl","stock","setStock","movements","setMovements","stockLoading","setStockLoading","stockErr","setStockErr","loadSales","loadStockData","message","console","error","pRes","sRes","Promise","all","pJson","sJson","salesData","mvts","forEach","lines","line","push","date","productName","bagWeight","Number","weight","bagsDelta","qty","quantity","s","customerGroup","Map","name","customerName","has","set","invoices","totalGrand","totalPaid","entry","get","grandTotal","customersWithPending","Array","from","values","sortedInvoices","sort","a","b","Date","last","length","latestPending","pending","totalPending","filter","selectedCustomer","find","c","stockSummaryMap","mv","bagWt","key","purchased","sold","row","bags","Math","abs","stockSummaryRows","r","available","localeCompare","maxStockValue","max","productTotalsMap","productTotals","maxProductValue","totalAvailableBags","reduce","sum","totalProductsInStock","lowStockCount","topProductsForBars","slice","printInvoiceForRecord","record","dateTime","toLocaleString","items","customerTotal","html","it","i","pricePerKg","price","lineTotal","toFixed","join","w","open","document","write","close","setTimeout","print","deleteSaleFromDashboard","id","confirm","alert","prev","inv","idx","style","width","title","_c4","_s4","setName","setQuantity","list","setList","loadProducts","add","_c5","_s5","setCustomers","productsList","setProductsList","selectedCustomerId","setSelectedCustomerId","setCustomerName","setPreviousPending","setItems","setPaidNow","calc","setCalc","salesRecords","setSalesRecords","editingIndex","setEditingIndex","editingId","setEditingId","loadCustomers","prompt","location","addItem","updateItem","copy","onSelectCustomer","x","previous_pending","calculate","printGate","printInvoice","saveAndPrint","customerId","deleteSale","editSales","index","restoredItems","item","_ref","_item$quantity","_item$weight","_ref2","_item$pricePerKg","_c6","VendorPurchaseManagement","_s6","vendorsSummary","setVendorsSummary","selectedVendorName","setSelectedVendorName","loadVendorPurchases","g","groups","handleDeletePurchase","purchase","selectedVendorSummary","v","totalPendingAll","_c7","_s7","setVendorName","rows","setRows","mode","setMode","records","setRecords","filterDate","setFilterDate","loadPurchases","addRow","updateRow","total","savePurchase","payloadProducts","payload","editPurchase","vendor_name","paid_now","mode_of_payment","restoredRows","deletePurchase","vendorMap","grand_total","displayedRecords","toLocaleDateString","_c8","_s8","setDate","toISOString","report","setReport","loadReport","totalSales","totalReceived","productsSummary","totalQty","totalWeight","_c9","_s9","_vendors$find$remaini","_vendors$find","vendors","setVendors","selectedVendorId","setSelectedVendorId","vendorPlace","setVendorPlace","vendorCompany","setVendorCompany","editingVendorId","setEditingVendorId","ledger","setLedger","txType","setTxType","txAmount","setTxAmount","txMethod","setTxMethod","txBillRef","setTxBillRef","txDate","setTxDate","editingTxId","setEditingTxId","purchaseDebits","setPurchaseDebits","loadingPurchases","setLoadingPurchases","loadVendors","loadPurchaseDebits","loadLedger","vendorId","vendor","onSelectVendor","resetTxForm","startNewVendor","startEditVendor","place","company","saveVendor","undefined","findIndex","deleteVendor","deletePurchaseDebit","startEditTx","tx","amount","billRef","saveTransaction","url","deleteTransaction","editPurchaseDebit","newPaidStr","String","newPaid","isNaN","totalGoods","selectedVendor","filteredPurchases","toLowerCase","balance_after","colSpan","_c0","_s0","activeType","setActiveType","loadItems","changeType","handleRestore","handleDelete","handleDeleteAll","renderMainLabel","customer_name","formatDate","iso","charAt","toUpperCase","deleted_at","_c1","_s1","logoData","setLogoData","upload","f","files","reader","FileReader","onload","ev","result","readAsDataURL","accept","_c10","$RefreshReg$"],"sources":["C:/Users/Usman/Desktop/erp_system_talha_project/frontend/src/App.js"],"sourcesContent":["// App.js\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst STR = {\r\n  en: {\r\n    addProduct: 'Add Product',\r\n    addCustomer: 'Add Customer',\r\n    paidNow: 'Paid Now',\r\n    remaining: 'Remaining',\r\n    previousPending: 'Previous Pending',\r\n    savePrint: 'Save & Print',\r\n    products: 'Products',\r\n    customers: 'Customers',\r\n    purchases: 'Purchases',\r\n    sales: 'Sales',\r\n    reports: 'Reports',\r\n    debits: 'Debits',\r\n    settings: 'Settings',\r\n    login: 'Welcome Back',\r\n    username: 'Username',\r\n    password: 'Password',\r\n    loginBtn: 'Login',\r\n    vendorName: 'Vendor Name',\r\n    modeOfPayment: 'Mode of Payment',\r\n    cash: 'Cash',\r\n    card: 'Card',\r\n    cheque: 'Cheque',\r\n    online: 'Online',\r\n    availableproducts: 'Available Products',\r\n    recycleBin: 'Recycle Bin',\r\n  },\r\n  ur: {\r\n    addProduct: 'مصنوع شامل کریں',\r\n    addCustomer: 'کسٹمر شامل کریں',\r\n    paidNow: 'ادائیگی',\r\n    remaining: 'بقیہ',\r\n    previousPending: 'پچھلا بقایا',\r\n    savePrint: 'محفوظ کریں اور پرنٹ کریں',\r\n    products: 'پراڈکٹس',\r\n    customers: 'کسٹمرز',\r\n    purchases: 'خریداری',\r\n    sales: 'فروخت',\r\n    reports: 'رپورٹس',\r\n    debits: 'ادائیگیاں',\r\n    settings: 'سیٹنگز',\r\n    login: 'لاگ ان کریں',\r\n    username: 'یوزر',\r\n    password: 'پاس ورڈ',\r\n    loginBtn: 'لاگ ان',\r\n    vendorName: 'سپلائر کا نام',\r\n    modeOfPayment: 'ادائیگی کا طریقہ',\r\n    cash: 'نقد',\r\n    card: 'کارڈ',\r\n    cheque: 'چیک',\r\n    online: 'آن لائن',\r\n    availableproducts: 'دستیاب مصنوعات',\r\n    recycleBin: 'ری سائیکل بن',\r\n    login: 'خوش آمدید',\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [lang, setLang] = useState(localStorage.getItem('erp_lang') || 'en');\r\n  const [route, setRoute] = useState('dashboard');\r\n  const [user, setUser] = useState(null);\r\n  const [logo, setLogo] = useState(localStorage.getItem('erp_logo') || '');\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(window.innerWidth > 768);\r\n\r\n  function t(k) { return STR[lang][k] || k; }\r\n\r\n  useEffect(() => {\r\n    if (user) setRoute('dashboard');\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsSidebarOpen(window.innerWidth > 768);\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  if (!user) {\r\n    return (\r\n      <Login\r\n        onSuccess={u => { setUser(u); }}\r\n        logo={logo}\r\n        t={t}\r\n        setLang={setLang}\r\n        lang={lang}\r\n      />\r\n    );\r\n  }\r\n\r\n  const titleMap = {\r\n    dashboard: 'Dashboard',\r\n    products: t('products'),\r\n    sales: t('sales'),\r\n    purchases: t('purchases'),\r\n    reports: t('reports'),\r\n    debits: t('debits'),\r\n    settings: t('settings'),\r\n    RecycleBin: t('Recycle Bin'),\r\n  };\r\n  const currentTitle = titleMap[route] || 'Recycle Bin';\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col md:flex-row bg-slate-100 text-slate-900\">\r\n      {/* Mobile header */}\r\n      <div className=\"md:hidden bg-slate-950 text-white p-3 flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n            className=\"p-2\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n            </svg>\r\n          </button>\r\n          <div>\r\n            <div className=\"font-semibold text-white text-sm\">Ethehad Traders</div>\r\n            <div className=\"text-xs text-cyan-400\">ET & Co</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <select\r\n            value={lang}\r\n            onChange={e => { const l = e.target.value; setLang(l); localStorage.setItem('erp_lang', l); }}\r\n            className=\"bg-slate-800 border border-slate-700 rounded px-2 py-1 text-xs\"\r\n          >\r\n            <option value=\"en\">EN</option>\r\n            <option value=\"ur\">UR</option>\r\n          </select>\r\n          <button\r\n            onClick={() => { setUser(null); setRoute('login'); }}\r\n            className=\"text-red-400 hover:text-red-300 text-sm\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SIDEBAR - Mobile responsive */}\r\n      <aside className={`\r\n        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'} \r\n        md:translate-x-0 fixed md:static inset-y-0 left-0 z-40\r\n        w-64 bg-slate-950 text-slate-50 flex flex-col transition-transform duration-300\r\n        md:w-64 md:flex\r\n      `}>\r\n        {/* Top: DP + title */}\r\n        <div className=\"px-4 py-5 flex items-center gap-3 border-b border-slate-800\">\r\n          {logo ? (\r\n            <img\r\n              src={logo}\r\n              alt=\"DP\"\r\n              className=\"h-12 w-12 rounded-full object-cover ring-2 ring-cyan-400 shadow-md\"\r\n            />\r\n          ) : (\r\n            <div className=\"h-12 w-12 rounded-full bg-slate-800 flex items-center justify-center text-sm font-semibold\">\r\n              Recycle Bin\r\n            </div>\r\n          )}\r\n          <div>\r\n            <div className=\"font-semibold text-white\">Ethehad Traders</div>\r\n            <div className=\"text-xs text-cyan-400\">ET & Co</div>\r\n          </div>\r\n          <button\r\n            onClick={() => setIsSidebarOpen(false)}\r\n            className=\"md:hidden ml-auto p-2\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Menu */}\r\n        <nav className=\"flex-1 px-2 py-4 space-y-1 overflow-y-auto\">\r\n          {[\r\n            ['dashboard', 'Dashboard'],\r\n            ['products', t('products')],\r\n            ['sales', t('sales')],\r\n            ['purchases', t('purchases')],\r\n            ['reports', t('reports')],\r\n            ['debits', t('debits')],\r\n            ['settings', t('settings')],\r\n            ['recycleBin', t('Recycle Bin')],\r\n          ].map(([value, label]) => (\r\n            <button\r\n              key={value}\r\n              onClick={() => {\r\n                setRoute(value);\r\n                if (window.innerWidth < 768) setIsSidebarOpen(false);\r\n              }}\r\n              className={`\r\n                w-full flex items-center px-3 py-3 rounded-lg text-sm text-left transition\r\n                ${route === value\r\n                  ? 'bg-gradient-to-r from-cyan-500/20 via-sky-500/10 to-transparent text-white border-l-4 border-cyan-400'\r\n                  : 'text-slate-300 hover:bg-slate-800/60'\r\n                }\r\n              `}\r\n            >\r\n              {label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n\r\n        {/* Bottom: user + logout + language - Desktop only */}\r\n        <div className=\"hidden md:block px-4 py-4 border-t border-slate-800 text-xs text-slate-400 flex items-center justify-between\">\r\n          <span>{user?.username}</span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <select\r\n              value={lang}\r\n              onChange={e => { const l = e.target.value; setLang(l); localStorage.setItem('erp_lang', l); }}\r\n              className=\"bg-slate-900 border border-slate-700 rounded px-1 py-0.5 text-xs\"\r\n            >\r\n              <option value=\"en\">EN</option>\r\n              <option value=\"ur\">UR</option>\r\n            </select>\r\n            <button\r\n              onClick={() => { setUser(null); setRoute('login'); }}\r\n              className=\"text-red-400 hover:text-red-300\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Overlay for mobile sidebar */}\r\n      {isSidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/50 z-30 md:hidden\"\r\n          onClick={() => setIsSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* MAIN AREA */}\r\n      <main className=\"flex-1 relative overflow-x-hidden\">\r\n        {/* Faded background DP / logo */}\r\n        {logo && (\r\n          <img\r\n            src={logo}\r\n            alt=\"background\"\r\n            className=\"pointer-events-none select-none absolute inset-0 w-full h-full object-cover opacity-10\"\r\n          />\r\n        )}\r\n\r\n        <div className=\"relative h-full p-3 md:p-6\">\r\n          {/* Glass top bar */}\r\n          <div className=\"mb-4 md:mb-6 bg-white/80 backdrop-blur-xl shadow-lg rounded-xl md:rounded-2xl px-4 md:px-6 py-3 md:py-4\">\r\n            <h1 className=\"text-lg md:text-xl font-semibold text-slate-800\">\r\n              {currentTitle}\r\n            </h1>\r\n          </div>\r\n\r\n          {/* Page content */}\r\n          <div className=\"relative z-10\">\r\n            {route === 'dashboard' && <Dashboard t={t} />}\r\n            {route === 'products' && <Products t={t} />}\r\n            {route === 'sales' && <Sales t={t} />}\r\n            {route === 'purchases' && <Purchases t={t} />}\r\n            {route === 'reports' && <Reports t={t} />}\r\n            {route === 'debits' && <Debits t={t} />}\r\n            {route === 'recycleBin' && <RecycleBin t={t} />}\r\n            {route === 'settings' && <Settings t={t} onLogoChange={l => { setLogo(l); localStorage.setItem('erp_logo', l); }} />}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Header({ setRoute, setUser, logo, setLogo, lang, setLang, t }) {\r\n  return (\r\n    <header className=\"bg-white shadow mb-4\">\r\n      <div className=\"max-w-6xl mx-auto px-2 sm:px-4 md:px-6 py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n        {/* Left: logo + title */}\r\n        <div className=\"flex items-center gap-3\">\r\n          {logo ? (\r\n            <img\r\n              src={logo}\r\n              alt=\"logo\"\r\n              className=\"h-10 w-10 object-contain\"\r\n            />\r\n          ) : (\r\n            <div className=\"h-10 w-10 bg-sky-100 rounded flex items-center justify-center text-sky-600\">\r\n              Logo\r\n            </div>\r\n          )}\r\n          <h1 className=\"text-lg md:text-xl font-semibold text-sky-600\">\r\n            ERP\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Right: nav */}\r\n        <nav className=\"flex flex-wrap items-center gap-2\">\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('dashboard')}\r\n          >\r\n            {t('Dashboard')}\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('products')}\r\n          >\r\n            {t('products')}\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('sales')}\r\n          >\r\n            {t('sales')}\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('purchases')}\r\n          >\r\n            {t('purchases')}\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('reports')}\r\n          >\r\n            {t('reports')}\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('debits')}\r\n          >\r\n            {t('debits')}\r\n          </button>\r\n          <button\r\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\r\n            onClick={() => setRoute('settings')}\r\n          >\r\n            {t('settings')}\r\n          </button>\r\n\r\n          <select\r\n            value={lang}\r\n            onChange={e => {\r\n              setLang(e.target.value);\r\n              localStorage.setItem('erp_lang', e.target.value);\r\n            }}\r\n            className=\"border rounded px-2 py-1 text-xs sm:text-sm\"\r\n          >\r\n            <option value=\"en\">EN</option>\r\n            <option value=\"ur\">UR</option>\r\n          </select>\r\n\r\n          <button\r\n            className=\"px-3 py-1 rounded-md bg-sky-600 text-white hover:bg-sky-700 transition text-xs sm:text-sm\"\r\n            onClick={() => {\r\n              setUser(null);\r\n              localStorage.removeItem('erp_lang');\r\n            }}\r\n          >\r\n            {t('login')}\r\n          </button>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction Login({ onSuccess, logo, t, setLang, lang }) {\r\n  const [u, setU] = useState('admin');\r\n  const [p, setP] = useState('admin');\r\n  const [err, setErr] = useState('');\r\n\r\n  async function submit(e) {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ username: u, password: p }) });\r\n      if (!res.ok) throw new Error('login failed');\r\n      const j = await res.json();\r\n      onSuccess(j.user);\r\n    } catch (err) {\r\n      setErr('Wrong Password or Username');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-xl shadow-md p-6 md:p-8\">\r\n        <div className=\"flex justify-center mb-4\">\r\n          {logo ?\r\n            <img src={logo} className=\"h-20 md:h-24 w-20 md:w-24 object-contain\" alt=\"logo\" /> :\r\n            <div className=\"h-20 md:h-24 w-20 md:w-24 bg-sky-100 rounded-full flex items-center justify-center text-sky-600\">\r\n              Logo\r\n            </div>\r\n          }\r\n        </div>\r\n        <h2 className=\"text-center text-xl font-semibold text-gray-700 mb-4\">{t('login')}</h2>\r\n        <form onSubmit={submit} className=\"space-y-4\">\r\n          <input\r\n            placeholder={t('username')}\r\n            className=\"w-full px-4 py-2 border rounded-md focus:outline-sky-300 text-sm md:text-base\"\r\n            value={u}\r\n            onChange={e => setU(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder={t('password')}\r\n            className=\"w-full px-4 py-2 border rounded-md focus:outline-sky-300 text-sm md:text-base\"\r\n            value={p}\r\n            onChange={e => setP(e.target.value)}\r\n          />\r\n          <div className=\"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center\">\r\n            <select\r\n              value={lang}\r\n              onChange={e => { setLang(e.target.value); localStorage.setItem('erp_lang', e.target.value); }}\r\n              className=\"border p-2 rounded text-sm md:text-base flex-1\"\r\n            >\r\n              <option value=\"en\">EN</option>\r\n              <option value=\"ur\">UR</option>\r\n            </select>\r\n            <button className=\"w-full sm:flex-1 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition text-sm md:text-base\">\r\n              {t('loginBtn')}\r\n            </button>\r\n          </div>\r\n        </form>\r\n        {err && <p className=\"text-red-500 mt-3 text-sm\">{err}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Dashboard({ t }) {\r\n  const [activeTab, setActiveTab] = useState(\"customers\");\r\n  const [sales, setSales] = useState([]);\r\n  const [selectedCustomerName, setSelectedCustomerName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(\"\");\r\n  const logoUrl = localStorage.getItem(\"erp_logo\") || \"\";\r\n\r\n  const [stock, setStock] = useState([]);\r\n  const [movements, setMovements] = useState([]);\r\n  const [stockLoading, setStockLoading] = useState(false);\r\n  const [stockErr, setStockErr] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadSales();\r\n    loadStockData();\r\n  }, []);\r\n\r\n  async function loadSales() {\r\n    try {\r\n      setLoading(true);\r\n      setErr(\"\");\r\n      const res = await fetch(\"http://localhost:4000/api/sales\");\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        setErr(j.message || \"Failed to load sales\");\r\n        return;\r\n      }\r\n      setSales(j.sales || []);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErr(\"Failed to load sales\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function loadStockData() {\r\n    try {\r\n      setStockLoading(true);\r\n      setStockErr(\"\");\r\n\r\n      const [pRes, sRes] = await Promise.all([\r\n        fetch(\"http://localhost:4000/api/purchases\"),\r\n        fetch(\"http://localhost:4000/api/sales\"),\r\n      ]);\r\n\r\n      const [pJson, sJson] = await Promise.all([pRes.json(), sRes.json()]);\r\n\r\n      if (!pJson.ok) throw new Error(pJson.message || \"Failed to load purchases\");\r\n      if (!sJson.ok) throw new Error(sJson.message || \"Failed to load sales\");\r\n\r\n      const purchases = pJson.purchases || [];\r\n      const salesData = sJson.sales || [];\r\n\r\n      const mvts = [];\r\n\r\n      purchases.forEach((p) => {\r\n        (p.products || p.lines || []).forEach((line) => {\r\n          mvts.push({\r\n            date: p.date,\r\n            type: \"Purchase\",\r\n            productName: line.productName || \"\",\r\n            bagWeight: Number(line.weight || 0),\r\n            bagsDelta: Number(line.qty || line.quantity || 0),\r\n          });\r\n        });\r\n      });\r\n\r\n      salesData.forEach((s) => {\r\n        (s.products || s.lines || []).forEach((line) => {\r\n          mvts.push({\r\n            date: s.date,\r\n            type: \"Sale\",\r\n            productName: line.productName || \"\",\r\n            bagWeight: Number(line.weight || 0),\r\n            bagsDelta: Number(line.quantity || line.qty || 0),\r\n          });\r\n        });\r\n      });\r\n\r\n      setMovements(mvts);\r\n      setStock(mvts);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setStockErr(e.message || \"Failed to load stock data\");\r\n    } finally {\r\n      setStockLoading(false);\r\n    }\r\n  }\r\n\r\n  const customerGroup = new Map();\r\n\r\n  (sales || []).forEach((s) => {\r\n    const name = s.customerName || \"Unknown\";\r\n    if (!customerGroup.has(name)) {\r\n      customerGroup.set(name, {\r\n        customerName: name,\r\n        invoices: [],\r\n        totalGrand: 0,\r\n        totalPaid: 0,\r\n      });\r\n    }\r\n\r\n    const entry = customerGroup.get(name);\r\n    entry.invoices.push(s);\r\n    entry.totalGrand += Number(s.grandTotal || 0);\r\n    entry.totalPaid += Number(s.paidNow || 0);\r\n  });\r\n\r\n  const customersWithPending = Array.from(customerGroup.values())\r\n    .map((entry) => {\r\n      const sortedInvoices = [...entry.invoices].sort(\r\n        (a, b) => new Date(a.date || 0) - new Date(b.date || 0)\r\n      );\r\n      const last = sortedInvoices[sortedInvoices.length - 1];\r\n      const latestPending = Number(last?.pending || 0);\r\n\r\n      return {\r\n        ...entry,\r\n        invoices: sortedInvoices,\r\n        totalPending: latestPending,\r\n      };\r\n    })\r\n    .filter((entry) => entry.totalPending > 0)\r\n    .sort((a, b) => b.totalPending - a.totalPending);\r\n\r\n  const selectedCustomer =\r\n    customersWithPending.find(\r\n      (c) => c.customerName === selectedCustomerName\r\n    ) || null;\r\n\r\n  const stockSummaryMap = new Map();\r\n\r\n  (movements || []).forEach((mv) => {\r\n    const name = mv.productName || '';\r\n    const bagWt = Number(mv.bagWeight || mv.bagWt || 0);\r\n    if (!name || !bagWt) return;\r\n\r\n    const key = `${name}||${bagWt}`;\r\n    if (!stockSummaryMap.has(key)) {\r\n      stockSummaryMap.set(key, {\r\n        productName: name,\r\n        bagWeight: bagWt,\r\n        purchased: 0,\r\n        sold: 0,\r\n      });\r\n    }\r\n    const row = stockSummaryMap.get(key);\r\n\r\n    const qty = Number(mv.bagsDelta || mv.qty || mv.bags || 0);\r\n\r\n    if (mv.type === 'Purchase') {\r\n      row.purchased += Math.abs(qty);\r\n    } else if (mv.type === 'Sale') {\r\n      row.sold += Math.abs(qty);\r\n    }\r\n  });\r\n\r\n  const stockSummaryRows = Array.from(stockSummaryMap.values())\r\n    .map((r) => ({\r\n      ...r,\r\n      available: r.purchased - r.sold,\r\n    }))\r\n    .sort(\r\n      (a, b) =>\r\n        a.productName.localeCompare(b.productName) ||\r\n        a.bagWeight - b.bagWeight\r\n    );\r\n\r\n  const maxStockValue =\r\n    stockSummaryRows.length === 0\r\n      ? 1\r\n      : Math.max(\r\n        ...stockSummaryRows.map((r) =>\r\n          Math.max(r.purchased, r.sold, r.available)\r\n        ),\r\n        1\r\n      );\r\n\r\n  const productTotalsMap = new Map();\r\n  stockSummaryRows.forEach((r) => {\r\n    if (!productTotalsMap.has(r.productName)) {\r\n      productTotalsMap.set(r.productName, {\r\n        productName: r.productName,\r\n        purchased: 0,\r\n        sold: 0,\r\n        available: 0,\r\n      });\r\n    }\r\n    const entry = productTotalsMap.get(r.productName);\r\n    entry.purchased += r.purchased;\r\n    entry.sold += r.sold;\r\n    entry.available += r.available;\r\n  });\r\n\r\n  const productTotals = Array.from(productTotalsMap.values()).sort(\r\n    (a, b) => b.available - a.available\r\n  );\r\n\r\n  const maxProductValue =\r\n    productTotals.length === 0\r\n      ? 1\r\n      : Math.max(\r\n        ...productTotals.map((p) =>\r\n          Math.max(p.purchased, p.sold, p.available)\r\n        ),\r\n        1\r\n      );\r\n\r\n  const totalAvailableBags = productTotals.reduce(\r\n    (sum, p) => sum + Math.max(p.available, 0),\r\n    0\r\n  );\r\n\r\n  const totalProductsInStock = productTotals.filter(\r\n    (p) => p.available > 0\r\n  ).length;\r\n\r\n  const lowStockCount = productTotals.filter(\r\n    (p) => p.available > 0 && p.available <= 20\r\n  ).length;\r\n\r\n  const topProductsForBars = productTotals.slice(0, 8);\r\n\r\n  function printInvoiceForRecord(record) {\r\n    if (!record) return;\r\n\r\n    const dateTime = record.date\r\n      ? new Date(record.date).toLocaleString()\r\n      : new Date().toLocaleString();\r\n\r\n    const items = record.products || record.lines || [];\r\n    const customerTotal = Number(record.customerTotal || 0);\r\n    const previousPending = Number(record.previousPending || 0);\r\n    const grandTotal = Number(record.grandTotal || 0);\r\n    const paidNow = Number(record.paidNow || 0);\r\n    const remaining = Number(record.pending || 0);\r\n\r\n    const html = `\r\n      <html><body>\r\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\r\n      <h2 style='text-align:center'>Invoice</h2>\r\n      <div>Customer: ${record.customerName || ''}</div>\r\n      <div>Date &amp; Time: ${dateTime}</div>\r\n      <table border='1' style='width:100%;border-collapse:collapse'>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Product</th>\r\n          <th>Qty</th>\r\n          <th>Weight</th>\r\n          <th>Price</th>\r\n          <th>Line Total</th>\r\n        </tr>\r\n        ${items\r\n        .map(\r\n          (it, i) => `\r\n          <tr>\r\n            <td>${i + 1}</td>\r\n            <td>${it.productName || ''}</td>\r\n            <td>${it.quantity || it.qty || 0}</td>\r\n            <td>${it.weight || 0}</td>\r\n            <td>${it.pricePerKg || it.price || 0}</td>\r\n            <td>${Number(\r\n            it.lineTotal ||\r\n            Number(it.quantity || it.qty || 0) *\r\n\r\n            Number(it.pricePerKg || it.price || 0)\r\n          ).toFixed(2)}</td>\r\n          </tr>`\r\n        )\r\n        .join('')}\r\n      </table>\r\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\r\n      <div>Previous Pending: ${previousPending.toFixed(2)}</div>\r\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\r\n      <div>Paid: ${paidNow.toFixed(2)}</div>\r\n      <div>Remaining: ${remaining.toFixed(2)}</div>\r\n      </body></html>\r\n    `;\r\n\r\n    const w = window.open(\"\", \"_blank\");\r\n    w.document.write(html);\r\n    w.document.close();\r\n    setTimeout(() => w.print(), 300);\r\n  }\r\n\r\n  async function deleteSaleFromDashboard(id) {\r\n    if (!window.confirm(\"Delete this sale?\")) return;\r\n    try {\r\n      const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || \"Failed to delete sale\");\r\n        return;\r\n      }\r\n      setSales((prev) => prev.filter((s) => s.id !== id));\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"Error deleting sale\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">Dashboard</h2>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex flex-wrap mb-4 gap-2\">\r\n        <button\r\n          onClick={() => setActiveTab(\"customers\")}\r\n          className={\r\n            \"px-3 py-2 rounded text-sm \" +\r\n            (activeTab === \"customers\"\r\n              ? \"bg-sky-600 text-white\"\r\n              : \"bg-white text-sky-700 border\")\r\n          }\r\n        >\r\n          Customer Records\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab(\"stock\")}\r\n          className={\r\n            \"px-3 py-2 rounded text-sm \" +\r\n            (activeTab === \"stock\"\r\n              ? \"bg-sky-600 text-white\"\r\n              : \"bg-white text-sky-700 border\")\r\n          }\r\n        >\r\n          Stocks Updates\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => {\r\n            if (activeTab === \"customers\") {\r\n              loadSales();\r\n            } else if (activeTab === \"stock\") {\r\n              loadStockData();\r\n            }\r\n          }}\r\n          className=\"ml-auto px-3 py-2 text-xs bg-gray-100 border rounded hover:bg-gray-200\"\r\n        >\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === \"customers\" && loading && (\r\n        <p className=\"text-sm text-gray-500 mb-2\">Loading sales…</p>\r\n      )}\r\n      {activeTab === \"customers\" && err && (\r\n        <p className=\"text-sm text-red-600 mb-2\">{err}</p>\r\n      )}\r\n\r\n      {activeTab === \"stock\" && stockLoading && (\r\n        <p className=\"text-sm text-gray-500 mb-2\">Loading stock…</p>\r\n      )}\r\n      {activeTab === \"stock\" && stockErr && (\r\n        <p className=\"text-sm text-red-600 mb-2\">{stockErr}</p>\r\n      )}\r\n\r\n      {/* ===================== Customer Records Tab ===================== */}\r\n      {activeTab === \"customers\" && (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n          {/* Left: Customers with remaining */}\r\n          <div className=\"bg-white p-4 rounded shadow lg:col-span-1 overflow-x-auto\">\r\n            <h3 className=\"font-semibold mb-2 text-sm\">\r\n              Customers with Remaining Amount\r\n            </h3>\r\n\r\n            {customersWithPending.length === 0 ? (\r\n              <p className=\"text-xs text-gray-500\">\r\n                No customers with pending amounts.\r\n              </p>\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-xs min-w-full\">\r\n                  <thead className=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th className=\"p-2 text-left whitespace-nowrap\">Customer</th>\r\n                      <th className=\"p-2 text-right whitespace-nowrap\">Pending</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {customersWithPending.map((c) => (\r\n                      <tr\r\n                        key={c.customerName}\r\n                        className={\r\n                          \"border-t cursor-pointer \" +\r\n                          (c.customerName === selectedCustomerName\r\n                            ? \"bg-sky-50\"\r\n                            : \"\")\r\n                        }\r\n                        onClick={() => setSelectedCustomerName(c.customerName)}\r\n                      >\r\n                        <td className=\"p-2 whitespace-nowrap\">{c.customerName}</td>\r\n                        <td className=\"p-2 text-right whitespace-nowrap\">\r\n                          {c.totalPending.toFixed(2)}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Right: Selected customer details */}\r\n          <div className=\"bg-white p-4 rounded shadow lg:col-span-2 overflow-x-auto\">\r\n            {!selectedCustomer ? (\r\n              <p className=\"text-sm text-gray-500\">\r\n                Select a customer on the left to see full record of their\r\n                purchases, paid amounts, and remaining balance.\r\n              </p>\r\n            ) : (\r\n              <>\r\n                <div className=\"flex flex-col md:flex-row md:justify-between mb-3 text-sm\">\r\n                  <div className=\"mb-2 md:mb-0\">\r\n                    <div className=\"font-semibold\">\r\n                      {selectedCustomer.customerName}\r\n                    </div>\r\n                    <div className=\"text-gray-500 text-xs\">\r\n                      Total Pending:{\" \"}\r\n                      <strong>\r\n                        {selectedCustomer.totalPending.toFixed(2)}\r\n                      </strong>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-xs space-y-1\">\r\n                    <div>\r\n                      Total Grand:{\" \"}\r\n                      <strong>\r\n                        {selectedCustomer.totalGrand.toFixed(2)}\r\n                      </strong>\r\n                    </div>\r\n                    <div>\r\n                      Total Paid:{\" \"}\r\n                      <strong>\r\n                        {selectedCustomer.totalPaid.toFixed(2)}\r\n                      </strong>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {selectedCustomer.invoices.map((inv) => (\r\n                  <div\r\n                    key={inv.id}\r\n                    className=\"border rounded mb-3 p-3 text-xs overflow-x-auto\"\r\n                  >\r\n                    <div className=\"flex flex-col md:flex-row md:justify-between mb-1\">\r\n                      <div className=\"mb-1 md:mb-0\">\r\n                        <span className=\"font-semibold\">Date: </span>\r\n                        {inv.date}\r\n                      </div>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        <span><span className=\"font-semibold\">Grand: </span>{inv.grandTotal}</span>\r\n                        <span>|</span>\r\n                        <span><span className=\"font-semibold\">Paid: </span>{inv.paidNow}</span>\r\n                        <span>|</span>\r\n                        <span><span className=\"font-semibold\">Remaining: </span>{inv.pending}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-x-auto\">\r\n                      <table className=\"w-full text-[11px] border mt-1 min-w-full\">\r\n                        <thead className=\"bg-gray-100\">\r\n                          <tr>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">#</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Product</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Qty</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Weight</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Price</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Line Total</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {(inv.products || inv.lines || []).map((p, idx) => (\r\n                            <tr key={idx}>\r\n                              <td className=\"border px-1 py-0.5\">{idx + 1}</td>\r\n                              <td className=\"border px-1 py-0.5 whitespace-nowrap\">\r\n                                {p.productName}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {p.quantity || p.qty}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {p.weight}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {p.pricePerKg || p.price}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {p.lineTotal}\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    <div className=\"mt-2 flex flex-wrap justify-end gap-2\">\r\n                      <button\r\n                        onClick={() => printInvoiceForRecord(inv)}\r\n                        className=\"px-2 py-1 bg-indigo-600 text-white rounded text-xs\"\r\n                      >\r\n                        Print Invoice\r\n                      </button>\r\n                      <button\r\n                        onClick={() => deleteSaleFromDashboard(inv.id)}\r\n                        className=\"px-2 py-1 bg-red-600 text-white rounded text-xs\"\r\n                      >\r\n                        🗑 Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ===================== Stock Updates Tab ===================== */}\r\n      {activeTab === 'stock' && (\r\n        <div className=\"bg-white p-4 rounded shadow overflow-x-auto\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center mb-4\">\r\n            <h3 className=\"font-semibold text-base mb-2 md:mb-0\">Stock Updates</h3>\r\n            <button\r\n              onClick={loadStockData}\r\n              className=\"md:ml-auto px-3 py-1 text-xs border rounded hover:bg-gray-50\"\r\n            >\r\n              Refresh\r\n            </button>\r\n          </div>\r\n\r\n          {stockLoading && (\r\n            <p className=\"text-xs text-gray-500 mb-2\">Loading stock…</p>\r\n          )}\r\n          {stockErr && (\r\n            <p className=\"text-xs text-red-600 mb-2\">{stockErr}</p>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6 text-sm\">\r\n            <div className=\"border rounded-lg px-3 py-2 bg-sky-50\">\r\n              <div className=\"text-[11px] text-sky-700 uppercase\">\r\n                Total Products in Stock\r\n              </div>\r\n              <div className=\"text-xl font-semibold\">\r\n                {totalProductsInStock}\r\n              </div>\r\n            </div>\r\n            <div className=\"border rounded-lg px-3 py-2 bg-emerald-50\">\r\n              <div className=\"text-[11px] text-emerald-700 uppercase\">\r\n                Total Available Bags\r\n              </div>\r\n              <div className=\"text-xl font-semibold\">\r\n                {totalAvailableBags}\r\n              </div>\r\n            </div>\r\n            <div className=\"border rounded-lg px-3 py-2 bg-amber-50\">\r\n              <div className=\"text-[11px] text-amber-700 uppercase\">\r\n                Low Stock Items (&le; 20 bags)\r\n              </div>\r\n              <div className=\"text-xl font-semibold\">\r\n                {lowStockCount}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {stockSummaryRows.length === 0 ? (\r\n            <p className=\"text-xs text-gray-500\">\r\n              No stock calculated yet. Add some purchases / sales first.\r\n            </p>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                <div className=\"overflow-x-auto\">\r\n                  <h4 className=\"font-semibold text-sm mb-2\">\r\n                    Available Stock (by product &amp; bag weight)\r\n                  </h4>\r\n                  <table className=\"w-full text-xs mb-4 min-w-full\">\r\n                    <thead className=\"bg-gray-100\">\r\n                      <tr>\r\n                        <th className=\"p-2 text-left whitespace-nowrap\">Product</th>\r\n                        <th className=\"p-2 text-right whitespace-nowrap\">Bag Wt</th>\r\n                        <th className=\"p-2 text-right whitespace-nowrap\">Purchased</th>\r\n                        <th className=\"p-2 text-right whitespace-nowrap\">Sold</th>\r\n                        <th className=\"p-2 text-right whitespace-nowrap\">Available</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {stockSummaryRows.map((r) => (\r\n                        <tr\r\n                          key={`${r.productName}-${r.bagWeight}`}\r\n                          className=\"border-t\"\r\n                        >\r\n                          <td className=\"p-2 whitespace-nowrap\">{r.productName}</td>\r\n                          <td className=\"p-2 text-right\">{r.bagWeight}</td>\r\n                          <td className=\"p-2 text-right\">{r.purchased}</td>\r\n                          <td className=\"p-2 text-right\">{r.sold}</td>\r\n                          <td\r\n                            className={\r\n                              'p-2 text-right ' +\r\n                              (r.available < 0\r\n                                ? 'text-red-600 font-semibold'\r\n                                : '')\r\n                            }\r\n                          >\r\n                            {r.available}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                <div>\r\n                  <h4 className=\"font-semibold text-sm mb-2\">\r\n                    Stock Overview by Product (bags)\r\n                  </h4>\r\n\r\n                  {topProductsForBars.length === 0 ? (\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      No products with stock yet.\r\n                    </p>\r\n                  ) : (\r\n                    <div className=\"space-y-3\">\r\n                      {topProductsForBars.map((p) => (\r\n                        <div key={`prod-bar-${p.productName}`}>\r\n                          <div className=\"flex flex-col sm:flex-row sm:justify-between text-[11px] mb-1\">\r\n                            <span className=\"truncate\">{p.productName}</span>\r\n                            <span>Available: {p.available}</span>\r\n                          </div>\r\n\r\n                          <div className=\"h-3 bg-gray-100 rounded overflow-hidden flex\">\r\n                            <div\r\n                              style={{\r\n                                width:\r\n                                  (p.purchased / maxProductValue) * 100 + '%',\r\n                              }}\r\n                              className=\"bg-blue-500\"\r\n                              title={`Purchased: ${p.purchased}`}\r\n                            />\r\n                            <div\r\n                              style={{\r\n                                width:\r\n                                  (p.sold / maxProductValue) * 100 + '%',\r\n                              }}\r\n                              className=\"bg-red-400\"\r\n                              title={`Sold: ${p.sold}`}\r\n                            />\r\n                            <div\r\n                              style={{\r\n                                width:\r\n                                  (Math.max(p.available, 0) /\r\n                                    maxProductValue) *\r\n                                  100 + '%',\r\n                              }}\r\n                              className=\"bg-green-500\"\r\n                              title={`Available: ${p.available}`}\r\n                            />\r\n                          </div>\r\n\r\n                          <div className=\"flex flex-col xs:flex-row xs:justify-between text-[10px] text-gray-500 mt-0.5\">\r\n                            <span>Purchased: {p.purchased}</span>\r\n                            <span>Sold: {p.sold}</span>\r\n                            <span>Available: {p.available}</span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"flex flex-wrap gap-3 text-[10px] text-gray-500 mt-3\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <span className=\"w-3 h-3 bg-blue-500 inline-block rounded-sm\" />{' '}\r\n                      Purchased\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <span className=\"w-3 h-3 bg-red-400 inline-block rounded-sm\" />{' '}\r\n                      Sold\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <span className=\"w-3 h-3 bg-green-500 inline-block rounded-sm\" />{' '}\r\n                      Available\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Products({ t }) {\r\n  const [name, setName] = useState('');\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [list, setList] = useState([]);\r\n  useEffect(() => { \r\n    loadProducts();\r\n  }, []);\r\n\r\n  async function loadProducts() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/products');\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        setList(j.products || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load products', error);\r\n    }\r\n  }\r\n\r\n  async function add() {\r\n    if (!name) return alert('Enter product name');\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/products', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name, quantity })\r\n      });\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        await loadProducts();\r\n        setName('');\r\n        setQuantity(1);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to add product', error);\r\n      alert('Failed to add product');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">{t('products')}</h2>\r\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\r\n          <input\r\n            placeholder=\"Product name\"\r\n            value={name}\r\n            onChange={e => setName(e.target.value)}\r\n            className=\"border p-2 rounded text-sm md:text-base\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            value={quantity}\r\n            onChange={e => setQuantity(Number(e.target.value))}\r\n            className=\"border p-2 rounded text-sm md:text-base\"\r\n          />\r\n          <button\r\n            onClick={add}\r\n            className=\"bg-sky-600 text-white px-4 rounded hover:bg-sky-700 transition text-sm md:text-base\"\r\n          >\r\n            {t('addProduct')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"bg-white p-4 rounded shadow overflow-x-auto\">\r\n        <h3 className=\"font-semibold mb-2\">Available Products</h3>\r\n        <table className=\"w-full text-sm min-w-full\">\r\n          <thead className=\"bg-gray-100\">\r\n            <tr>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">ID</th>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Name</th>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Qty</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {list.map(p => (\r\n              <tr key={p.id} className=\"border-t\">\r\n                <td className=\"p-2 whitespace-nowrap\">{p.id}</td>\r\n                <td className=\"p-2 whitespace-nowrap\">{p.name}</td>\r\n                <td className=\"p-2 whitespace-nowrap\">{p.quantity}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Sales({ t }) {\r\n  const [customers, setCustomers] = useState([]);\r\n  const [productsList, setProductsList] = useState([]);\r\n  const [selectedCustomerId, setSelectedCustomerId] = useState('');\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [previousPending, setPreviousPending] = useState(0);\r\n  const [items, setItems] = useState([\r\n    { productName: '', quantity: 1, weight: 0, pricePerKg: 0 },\r\n  ]);\r\n  const [paidNow, setPaidNow] = useState(0);\r\n  const [calc, setCalc] = useState(null);\r\n  const [salesRecords, setSalesRecords] = useState([]);\r\n  const [editingIndex, setEditingIndex] = useState(null);\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadCustomers();\r\n    loadProducts();\r\n    loadSales();\r\n  }, []);\r\n\r\n  async function loadCustomers() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/customers');\r\n      const j = await res.json();\r\n      if (j.ok) setCustomers(j.customers || []);\r\n    } catch (error) {\r\n      console.error('Failed to load customers', error);\r\n    }\r\n  }\r\n\r\n  async function loadProducts() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/products');\r\n      const j = await res.json();\r\n      if (j.ok) setProductsList(j.products || []);\r\n    } catch (error) {\r\n      console.error('Failed to load products', error);\r\n    }\r\n  }\r\n\r\n  async function loadSales() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/sales');\r\n      const j = await res.json();\r\n      if (j.ok) setSalesRecords(j.sales || []);\r\n    } catch (error) {\r\n      console.error('Failed to load sales', error);\r\n    }\r\n  }\r\n\r\n  async function addCustomer() {\r\n    const name = prompt('Customer name');\r\n    if (!name) return;\r\n    const location = prompt('Location') || '';\r\n    const prev = Number(prompt('Previous Pending') || 0);\r\n    \r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/customers', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name, location, previousPending: prev }),\r\n      });\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        await loadCustomers();\r\n        alert('Customer added');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to add customer', error);\r\n      alert('Failed to add customer');\r\n    }\r\n  }\r\n\r\n  function addItem() {\r\n    setItems((prev) => [\r\n      ...prev,\r\n      { productName: '', quantity: 1, weight: 0, pricePerKg: 0 },\r\n    ]);\r\n  }\r\n\r\n  function updateItem(i, key, value) {\r\n    const copy = [...items];\r\n    copy[i][key] = value;\r\n    setItems(copy);\r\n  }\r\n\r\n  function onSelectCustomer(id) {\r\n    setSelectedCustomerId(id);\r\n    if (!id) {\r\n      setPreviousPending(0);\r\n      setCustomerName('');\r\n      return;\r\n    }\r\n    const c = customers.find((x) => x.id === id);\r\n    if (c) {\r\n      setCustomerName(c.name);\r\n      setPreviousPending(c.previous_pending || 0);\r\n    }\r\n  }\r\n\r\n  async function calculate() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/calculate-invoice', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ products: items, previousPending }),\r\n      });\r\n      const j = await res.json();\r\n      setCalc(j);\r\n    } catch (error) {\r\n      console.error('Failed to calculate', error);\r\n      alert('Failed to calculate invoice');\r\n    }\r\n  }\r\n\r\n  const customerTotal =\r\n    calc && typeof calc.customerTotal !== 'undefined'\r\n      ? Number(calc.customerTotal || 0)\r\n      : items.reduce(\r\n        (s, it) =>\r\n          s +\r\n          Number(it.quantity || 0) *\r\n          Number(it.pricePerKg || 0),\r\n        0\r\n      );\r\n\r\n  const grandTotal = +(customerTotal + Number(previousPending || 0)).toFixed(2);\r\n  const remaining = +(grandTotal - Number(paidNow || 0)).toFixed(2);\r\n  const logoUrl = localStorage.getItem('erp_logo') || '';\r\n\r\n  function printGate() {\r\n    const html = `\r\n      <html><body>\r\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:220px;opacity:0.9' />\r\n      <h2 style='text-align:center'>Gate Pass</h2>\r\n      <div>Customer: ${customerName}</div>\r\n      <div>Time: ${new Date().toLocaleString()}</div>\r\n      <table border='1' style='width:100%;border-collapse:collapse'>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Product</th>\r\n          <th>Weight</th>\r\n          <th>Qty</th>\r\n        </tr>\r\n        ${items.map((it, i) =>\r\n      `<tr>\r\n            <td>${i + 1}</td>\r\n            <td>${it.productName}</td>\r\n            <td>${it.quantity}</td>\r\n            <td>${it.weight}</td>\r\n          </tr>`\r\n    ).join('')}\r\n      </table>\r\n      </body></html>`;\r\n    const w = window.open('', '_blank');\r\n    w.document.write(html);\r\n    w.document.close();\r\n    setTimeout(() => w.print(), 300);\r\n  }\r\n\r\n  function printInvoice(record) {\r\n    const dateTime =\r\n      record && record.date\r\n        ? new Date(record.date).toLocaleString()\r\n        : new Date().toLocaleString();\r\n\r\n    const html = `\r\n      <html><body>\r\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\r\n      <h2 style='text-align:center'>Invoice</h2>\r\n      <div>Customer: ${customerName}</div>\r\n      <div>Date &amp; Time: ${dateTime}</div>\r\n      <table border='1' style='width:100%;border-collapse:collapse'>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Product</th>\r\n          <th>Qty</th>\r\n          <th>Weight</th>\r\n          <th>Price</th>\r\n          <th>Line Total</th>\r\n        </tr>\r\n        ${items\r\n        .map(\r\n          (it, i) => `\r\n          <tr>\r\n            <td>${i + 1}</td>\r\n            <td>${it.productName}</td>\r\n            <td>${it.quantity}</td>\r\n            <td>${it.weight}</td>\r\n            <td>${it.pricePerKg}</td>\r\n            <td>${(\r\n            Number(it.quantity || 0) *\r\n            Number(it.pricePerKg || 0)\r\n          ).toFixed(2)}</td>\r\n          </tr>`\r\n        )\r\n        .join('')}\r\n      </table>\r\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\r\n      <div>Previous Pending: ${Number(previousPending || 0).toFixed(2)}</div>\r\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\r\n      <div>Paid: ${Number(paidNow || 0).toFixed(2)}</div>\r\n      <div>Remaining: ${remaining.toFixed(2)}</div>\r\n      </body></html>\r\n    `;\r\n    const w = window.open('', '_blank');\r\n    w.document.write(html);\r\n    w.document.close();\r\n    setTimeout(() => w.print(), 300);\r\n  }\r\n\r\n  async function saveAndPrint() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/save-sale', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          customerId: selectedCustomerId,\r\n          customerName,\r\n          previousPending,\r\n          products: items,\r\n          paidNow,\r\n        }),\r\n      });\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        alert(\r\n          'Saved. Remaining added to customer previous pending: ' +\r\n          j.record.pending\r\n        );\r\n        await loadSales();\r\n        await loadCustomers();\r\n        printInvoice(j.record);\r\n      } else {\r\n        alert(j.message || 'Failed to save sale');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to save sale', error);\r\n      alert('Failed to save sale');\r\n    }\r\n  }\r\n\r\n  async function deleteSale(id) {\r\n    if (!window.confirm('Delete this sale?')) return;\r\n    try {\r\n      const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        await loadSales();\r\n      } else {\r\n        alert('Failed to delete sale');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to delete sale', error);\r\n      alert('Failed to delete sale');\r\n    }\r\n  }\r\n\r\n  function editSales(index) {\r\n    const s = salesRecords[index];\r\n    if (!s) return;\r\n\r\n    setSelectedCustomerId(s.customerId || \"\");\r\n    setCustomerName(s.customerName || \"\");\r\n    setPreviousPending(Number(s.previousPending || 0));\r\n    setPaidNow(Number(s.paidNow || 0));\r\n\r\n    const restoredItems = (s.products || s.lines || []).map((item) => ({\r\n      productName: item.productName || \"\",\r\n      quantity: Number(item.quantity ?? item.qty ?? 0),\r\n      weight: Number(item.weight ?? 0),\r\n      pricePerKg: Number(item.pricePerKg ?? item.price ?? 0),\r\n    }));\r\n\r\n    setItems(\r\n      restoredItems.length\r\n        ? restoredItems\r\n        : [{ productName: \"\", quantity: 1, weight: 0, pricePerKg: 0 }]\r\n    );\r\n\r\n    setEditingIndex(index);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">Sales / Invoice</h2>\r\n      \r\n      <div className=\"bg-white/80 p-4 rounded shadow mb-4\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\r\n          <select\r\n            className=\"border p-2 rounded text-sm md:text-base\"\r\n            value={selectedCustomerId}\r\n            onChange={(e) => onSelectCustomer(e.target.value)}\r\n          >\r\n            <option value=\"\">Select Customer</option>\r\n            {customers.map((c) => (\r\n              <option key={c.id} value={c.id}>\r\n                {c.name} - {c.location}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <input\r\n            placeholder=\"Customer Name\"\r\n            value={customerName}\r\n            onChange={(e) => setCustomerName(e.target.value)}\r\n            className=\"border p-2 rounded text-sm md:text-base\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Previous Pending\"\r\n            value={previousPending}\r\n            onChange={(e) => setPreviousPending(Number(e.target.value))}\r\n            className=\"border p-2 rounded text-sm md:text-base\"\r\n          />\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <button\r\n            onClick={addCustomer}\r\n            className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm md:text-base\"\r\n          >\r\n            {t('addCustomer')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white/80 p-4 rounded shadow mb-4 overflow-x-auto\">\r\n        <table className=\"w-full text-sm min-w-full\">\r\n          <thead className=\"bg-sky-100\">\r\n            <tr>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">#</th>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Product</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Qty</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Weight</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Price</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Line Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {items.map((it, i) => (\r\n              <tr key={i} className=\"border-t\">\r\n                <td className=\"p-2\">{i + 1}</td>\r\n                <td className=\"p-2\">\r\n                  <input\r\n                    className=\"border p-1 rounded w-full text-sm md:text-base\"\r\n                    value={it.productName}\r\n                    onChange={(e) =>\r\n                      updateItem(i, 'productName', e.target.value)\r\n                    }\r\n                    list=\"products-list\"\r\n                  />\r\n                </td>\r\n                <td className=\"p-2 text-right\">\r\n                  <input\r\n                    className=\"border p-1 rounded w-16 md:w-20 text-right text-sm md:text-base\"\r\n                    type=\"number\"\r\n                    value={it.quantity}\r\n                    onChange={(e) =>\r\n                      updateItem(i, 'quantity', Number(e.target.value))\r\n                    }\r\n                  />\r\n                </td>\r\n                <td className=\"p-2 text-right\">\r\n                  <input\r\n                    className=\"border p-1 rounded w-20 md:w-24 text-right text-sm md:text-base\"\r\n                    type=\"number\"\r\n                    value={it.weight}\r\n                    onChange={(e) =>\r\n                      updateItem(i, 'weight', Number(e.target.value))\r\n                    }\r\n                  />\r\n                </td>\r\n                <td className=\"p-2 text-right\">\r\n                  <input\r\n                    className=\"border p-1 rounded w-20 md:w-24 text-right text-sm md:text-base\"\r\n                    type=\"number\"\r\n                    value={it.pricePerKg}\r\n                    onChange={(e) =>\r\n                      updateItem(i, 'pricePerKg', Number(e.target.value))\r\n                    }\r\n                  />\r\n                </td>\r\n                <td className=\"p-2 text-right\">\r\n                  {(\r\n                    Number(it.quantity || 0) *\r\n                    Number(it.pricePerKg || 0)\r\n                  ).toFixed(2)}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        <datalist id=\"products-list\">\r\n          {productsList.map((p) => (\r\n            <option key={p.id} value={p.name} />\r\n          ))}\r\n        </datalist>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-2 mt-4\">\r\n          <button\r\n            onClick={addItem}\r\n            className=\"px-3 py-1 bg-white border rounded hover:shadow transition text-sm md:text-base\"\r\n          >\r\n            ➕ Add Item\r\n          </button>\r\n          <button\r\n            onClick={calculate}\r\n            className=\"px-3 py-1 bg-sky-600 text-white rounded hover:bg-sky-700 transition text-sm md:text-base\"\r\n          >\r\n            Calculate\r\n          </button>\r\n\r\n          <div className=\"ml-auto flex flex-wrap items-center gap-2\">\r\n            <label className=\"text-sm\">Paid Now</label>\r\n            <input\r\n              type=\"number\"\r\n              value={paidNow}\r\n              onChange={(e) => setPaidNow(Number(e.target.value))}\r\n              className=\"border p-1 rounded w-24 md:w-28 text-right text-sm md:text-base\"\r\n            />\r\n            <button\r\n              onClick={saveAndPrint}\r\n              className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm md:text-base\"\r\n            >\r\n              {t('savePrint')}\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n            onClick={printGate}\r\n            className=\"px-3 py-1 bg-slate-700 text-white rounded hover:bg-slate-800 transition text-sm md:text-base\"\r\n          >\r\n            Gate Pass\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-4 p-3 bg-gray-50 rounded text-sm space-y-1\">\r\n          <div>\r\n            Customer Total:{' '}\r\n            <strong>{customerTotal.toFixed(2)}</strong>\r\n          </div>\r\n          <div>\r\n            Previous Pending:{' '}\r\n            <strong>{Number(previousPending || 0).toFixed(2)}</strong>\r\n          </div>\r\n          <div>\r\n            Grand Total:{' '}\r\n            <strong>{grandTotal.toFixed(2)}</strong>\r\n          </div>\r\n          <div>\r\n            Paid Now:{' '}\r\n            <strong>{Number(paidNow || 0).toFixed(2)}</strong>\r\n          </div>\r\n          <div>\r\n            Remaining:{' '}\r\n            <strong>{remaining.toFixed(2)}</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white/80 p-4 rounded shadow overflow-x-auto\">\r\n        <h3 className=\"font-semibold mb-2 text-sm md:text-base\">Saved Invoices</h3>\r\n        {salesRecords.length === 0 ? (\r\n          <p className=\"text-xs text-gray-500\">No invoices saved yet.</p>\r\n        ) : (\r\n          <table className=\"w-full text-xs min-w-full\">\r\n            <thead className=\"bg-gray-100\">\r\n              <tr>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">#</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Customer</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Date/Time</th>\r\n                <th className=\"p-2 text-right whitespace-nowrap\">Grand Total</th>\r\n                <th className=\"p-2 text-right whitespace-nowrap\">Paid</th>\r\n                <th className=\"p-2 text-right whitespace-nowrap\">Remaining</th>\r\n                <th className=\"p-2 text-center whitespace-nowrap\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {salesRecords.map((s, idx) => (\r\n                <tr key={s.id} className=\"border-t\">\r\n                  <td className=\"p-2\">{idx + 1}</td>\r\n                  <td className=\"p-2 whitespace-nowrap\">{s.customerName}</td>\r\n                  <td className=\"p-2 whitespace-nowrap\">{s.date}</td>\r\n                  <td className=\"p-2 text-right\">{s.grandTotal}</td>\r\n                  <td className=\"p-2 text-right\">{s.paidNow}</td>\r\n                  <td className=\"p-2 text-right\">{s.pending}</td>\r\n                  <td className=\"p-2 text-center\">\r\n                    <button\r\n                      onClick={() => editSales(idx)}\r\n                      className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\r\n                    >\r\n                      Action\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteSale(s.id)}\r\n                      className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\r\n                    >\r\n                      🗑\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction VendorPurchaseManagement({ t }) {\r\n  const [vendorsSummary, setVendorsSummary] = useState([]);\r\n  const [selectedVendorName, setSelectedVendorName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadVendorPurchases();\r\n  }, []);\r\n\r\n  async function loadVendorPurchases() {\r\n    try {\r\n      setLoading(true);\r\n      setErr(\"\");\r\n\r\n      const res = await fetch(\"http://localhost:4000/api/purchases-with-pending\");\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        throw new Error(j.message || \"Failed to load vendor purchases\");\r\n      }\r\n\r\n      const list = j.purchases || [];\r\n      const map = new Map();\r\n      list.forEach((p) => {\r\n        const name = p.vendorName || \"Unknown\";\r\n        if (!map.has(name)) {\r\n          map.set(name, {\r\n            vendorName: name,\r\n            totalPending: 0,\r\n            totalGrand: 0,\r\n            totalPaid: 0,\r\n            purchases: [],\r\n          });\r\n        }\r\n        const g = map.get(name);\r\n        g.totalPending += Number(p.pending || 0);\r\n        g.totalGrand += Number(p.grandTotal || 0);\r\n        g.totalPaid += Number(p.paidNow || 0);\r\n        g.purchases.push(p);\r\n      });\r\n\r\n      const groups = Array.from(map.values()).sort(\r\n        (a, b) => b.totalPending - a.totalPending\r\n      );\r\n\r\n      setVendorsSummary(groups);\r\n\r\n      if (!selectedVendorName && groups.length > 0) {\r\n        setSelectedVendorName(groups[0].vendorName);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErr(e.message || \"Failed to load vendor purchases\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleDeletePurchase(purchase) {\r\n    if (!purchase) return;\r\n    if (!window.confirm(\"Delete this purchase record?\")) return;\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/purchases/${purchase.id}`,\r\n        { method: \"DELETE\" }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || \"Purchase not found!\");\r\n        return;\r\n      }\r\n\r\n      await loadVendorPurchases();\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"Error deleting purchase\");\r\n    }\r\n  }\r\n\r\n  const selectedVendorSummary =\r\n    vendorsSummary.find((v) => v.vendorName === selectedVendorName) || null;\r\n\r\n  const totalPendingAll = vendorsSummary.reduce(\r\n    (sum, v) => sum + v.totalPending,\r\n    0\r\n  );\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded shadow mt-4 overflow-x-auto\">\r\n      <div className=\"flex flex-col md:flex-row md:items-center mb-2\">\r\n        <h3 className=\"font-semibold text-sm md:text-base flex-1 mb-2 md:mb-0\">\r\n          Vendor Purchase Management\r\n        </h3>\r\n        <button\r\n          onClick={loadVendorPurchases}\r\n          className=\"px-2 py-1 text-xs border rounded\"\r\n        >\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {loading && (\r\n        <p className=\"text-xs text-gray-500 mb-2\">Loading vendor purchases…</p>\r\n      )}\r\n      {err && <p className=\"text-xs text-red-600 mb-2\">{err}</p>}\r\n\r\n      {vendorsSummary.length === 0 ? (\r\n        <p className=\"text-xs text-gray-500\">\r\n          No purchases yet. Once you save purchases, you will see vendor-wise\r\n          summary here.\r\n        </p>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n          <div className=\"lg:col-span-1 border rounded p-3 overflow-x-auto\">\r\n            <h4 className=\"font-semibold mb-2 text-xs md:text-sm\">\r\n              Vendors (total purchase & pending)\r\n            </h4>\r\n            <table className=\"w-full text-[11px] md:text-xs min-w-full\">\r\n              <thead className=\"bg-gray-100\">\r\n                <tr>\r\n                  <th className=\"p-1 text-left whitespace-nowrap\">Vendor</th>\r\n                  <th className=\"p-1 text-right whitespace-nowrap\">Pending</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {vendorsSummary.map((v) => (\r\n                  <tr\r\n                    key={v.vendorName}\r\n                    className={\r\n                      \"border-t cursor-pointer \" +\r\n                      (v.vendorName === selectedVendorName\r\n                        ? \"bg-sky-50\"\r\n                        : \"\")\r\n                    }\r\n                    onClick={() => setSelectedVendorName(v.vendorName)}\r\n                  >\r\n                    <td className=\"p-1 whitespace-nowrap\">{v.vendorName}</td>\r\n                    <td className=\"p-1 text-right whitespace-nowrap\">\r\n                      {v.totalPending.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n\r\n            <div className=\"mt-3 text-xs text-gray-600\">\r\n              <strong>Total Pending: </strong>\r\n              {totalPendingAll.toFixed(2)}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"lg:col-span-2 border rounded p-3 overflow-x-auto\">\r\n            {!selectedVendorSummary ? (\r\n              <p className=\"text-xs text-gray-500\">\r\n                Select a vendor on the left to see full record of your\r\n                purchases, paid amounts, and remaining balance for that vendor.\r\n              </p>\r\n            ) : (\r\n              <>\r\n                <div className=\"flex flex-col md:flex-row md:justify-between mb-3 text-xs md:text-sm\">\r\n                  <div className=\"mb-2 md:mb-0\">\r\n                    <div className=\"font-semibold\">\r\n                      {selectedVendorSummary.vendorName}\r\n                    </div>\r\n                    <div className=\"text-gray-500\">\r\n                      Total Pending:{\" \"}\r\n                      <strong>\r\n                        {selectedVendorSummary.totalPending.toFixed(2)}\r\n                      </strong>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right space-y-1\">\r\n                    <div>\r\n                      Total Grand:{\" \"}\r\n                      <strong>\r\n                        {selectedVendorSummary.totalGrand.toFixed(2)}\r\n                      </strong>\r\n                    </div>\r\n                    <div>\r\n                      Total Paid:{\" \"}\r\n                      <strong>\r\n                        {selectedVendorSummary.totalPaid.toFixed(2)}\r\n                      </strong>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {selectedVendorSummary.purchases.map((p) => {\r\n                  const items = p.products || [];\r\n                  return (\r\n                    <div\r\n                      key={p.id}\r\n                      className=\"border rounded mb-3 p-2 text-[11px] md:text-xs overflow-x-auto\"\r\n                    >\r\n                      <div className=\"flex flex-col md:flex-row md:justify-between mb-1\">\r\n                        <div className=\"mb-1 md:mb-0\">\r\n                          <span className=\"font-semibold\">Date: </span>\r\n                          {p.date\r\n                            ? new Date(p.date).toLocaleString()\r\n                            : \"-\"}\r\n                        </div>\r\n                        <div className=\"flex flex-wrap gap-1\">\r\n                          <span><span className=\"font-semibold\">Grand: </span>{p.grandTotal}</span>\r\n                          <span>|</span>\r\n                          <span><span className=\"font-semibold\">Paid: </span>{p.paidNow}</span>\r\n                          <span>|</span>\r\n                          <span><span className=\"font-semibold\">Remaining: </span>{p.pending}</span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <table className=\"w-full text-[11px] md:text-xs border mt-1 min-w-full\">\r\n                        <thead className=\"bg-gray-100\">\r\n                          <tr>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">#</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Product</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Qty</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Weight</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Price</th>\r\n                            <th className=\"border px-1 py-0.5 whitespace-nowrap\">Line Total</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {items.map((it, idx) => (\r\n                            <tr key={idx}>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {idx + 1}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5 whitespace-nowrap\">\r\n                                {it.productName}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {it.qty || it.quantity}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {it.weight}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {it.pricePerKg || it.price}\r\n                              </td>\r\n                              <td className=\"border px-1 py-0.5\">\r\n                                {it.lineTotal}\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n\r\n                      <div className=\"mt-2 flex flex-wrap justify-end gap-2\">\r\n                        <button\r\n                          onClick={() =>\r\n                            alert(\r\n                              \"Edit in form: we can wire this to Purchases later.\"\r\n                            )\r\n                          }\r\n                          className=\"px-2 py-1 bg-sky-600 text-white rounded text-xs\"\r\n                        >\r\n                          Edit in Form\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeletePurchase(p)}\r\n                          className=\"px-2 py-1 bg-red-600 text-white rounded text-xs\"\r\n                        >\r\n                          🗑 Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Purchases({ t }) {\r\n  const [vendorName, setVendorName] = useState('');\r\n  const [rows, setRows] = useState([\r\n    { productName: '', qty: 1, weight: 0, pricePerKg: 0 },\r\n  ]);\r\n  const [paidNow, setPaidNow] = useState(0);\r\n  const [mode, setMode] = useState('cash');\r\n  const [records, setRecords] = useState([]);\r\n  const [editingIndex, setEditingIndex] = useState(null);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [filterDate, setFilterDate] = useState('');\r\n  const [selectedVendorName, setSelectedVendorName] = useState('');\r\n\r\n  // Load purchases from backend\r\n  useEffect(() => {\r\n    loadPurchases();\r\n  }, []);\r\n\r\n  async function loadPurchases() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/purchases');\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        setRecords(j.purchases || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading purchases', error);\r\n    }\r\n  }\r\n\r\n  function addRow() {\r\n    setRows((prev) => [\r\n      ...prev,\r\n      { productName: '', qty: 1, weight: 0, pricePerKg: 0 },\r\n    ]);\r\n  }\r\n\r\n  function updateRow(i, key, value) {\r\n    const a = [...rows];\r\n    a[i][key] = value;\r\n    setRows(a);\r\n  }\r\n\r\n  const total = rows.reduce(\r\n    (s, r) =>\r\n      s +\r\n      Number(r.qty || 0) *\r\n      Number(r.pricePerKg || 0),\r\n    0\r\n  );\r\n  const remaining = +(total - Number(paidNow || 0)).toFixed(2);\r\n\r\n  async function savePurchase() {\r\n    const payloadProducts = rows.map(r => ({\r\n      productName: r.productName,\r\n      qty: Number(r.qty || 0),\r\n      weight: Number(r.weight || 0),\r\n      pricePerKg: Number(r.pricePerKg || 0),\r\n    }));\r\n\r\n    const payload = {\r\n      vendorName,\r\n      products: payloadProducts,\r\n      paidNow,\r\n      modeOfPayment: mode,\r\n    };\r\n\r\n    try {\r\n      let j;\r\n      if (editingIndex !== null && editingId) {\r\n        // UPDATE existing purchase\r\n        const res = await fetch(\r\n          `http://localhost:4000/api/purchases/${editingId}`,\r\n          {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(payload),\r\n          }\r\n        );\r\n        j = await res.json();\r\n        if (!j.ok) {\r\n          alert(j.message || 'Failed to update purchase');\r\n          return;\r\n        }\r\n\r\n        alert('Purchase updated');\r\n      } else {\r\n        // CREATE new purchase\r\n        const res = await fetch('http://localhost:4000/api/save-purchase', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(payload),\r\n        });\r\n        j = await res.json();\r\n        if (!j.ok) {\r\n          alert(j.message || 'Failed to save purchase');\r\n          return;\r\n        }\r\n        alert('Purchase saved');\r\n      }\r\n\r\n      // Reset form and reload purchases\r\n      setEditingIndex(null);\r\n      setEditingId(null);\r\n      setVendorName('');\r\n      setPaidNow(0);\r\n      setMode('cash');\r\n      setRows([{ productName: '', qty: 1, weight: 0, pricePerKg: 0 }]);\r\n      \r\n      await loadPurchases();\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Error saving purchase');\r\n    }\r\n  }\r\n\r\n  function editPurchase(index) {\r\n    const r = records[index];\r\n    if (!r) return;\r\n\r\n    // Fill form with this purchase\r\n    setVendorName(r.vendor_name || '');\r\n    setPaidNow(Number(r.paid_now || 0));\r\n    setMode(r.mode_of_payment || 'cash');\r\n\r\n    const restoredRows = (r.products || []).map((p) => ({\r\n      productName: p.productName,\r\n      qty: p.qty || p.quantity || 0,\r\n      weight: p.weight || 0,\r\n      pricePerKg: p.pricePerKg || p.price || 0,\r\n    }));\r\n\r\n    setRows(\r\n      restoredRows.length\r\n        ? restoredRows\r\n        : [{ productName: '', qty: 1, weight: 0, pricePerKg: 0 }]\r\n    );\r\n\r\n    // Set editing state\r\n    setEditingIndex(index);\r\n    setEditingId(r.id);\r\n  }\r\n\r\n  async function deletePurchase(index) {\r\n    const r = records[index];\r\n    if (!r || !r.id) return;\r\n    if (!window.confirm('Delete this purchase?')) return;\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/purchases/${r.id}`,\r\n        { method: 'DELETE' }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to delete purchase');\r\n        return;\r\n      }\r\n\r\n      await loadPurchases();\r\n      alert('Purchase deleted');\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Error deleting purchase');\r\n    }\r\n  }\r\n\r\n  // Build a map: vendorName -> aggregated info + list of their purchases\r\n  const vendorMap = new Map();\r\n\r\n  (records || []).forEach((r) => {\r\n    const name = r.vendor_name || 'Unknown';\r\n    if (!vendorMap.has(name)) {\r\n      vendorMap.set(name, {\r\n        vendorName: name,\r\n        totalGrand: 0,\r\n        totalPaid: 0,\r\n        totalPending: 0,\r\n        purchases: [],\r\n      });\r\n    }\r\n    const entry = vendorMap.get(name);\r\n    entry.totalGrand += Number(r.grand_total || 0);\r\n    entry.totalPaid += Number(r.paid_now || 0);\r\n    entry.totalPending += Number(r.pending || 0);\r\n    entry.purchases.push(r);\r\n  });\r\n\r\n  // Sorted list of vendors (by pending desc)\r\n  const vendorsSummary = Array.from(vendorMap.values()).sort(\r\n    (a, b) => b.totalPending - a.totalPending\r\n  );\r\n\r\n  const selectedVendorSummary =\r\n    vendorsSummary.find((v) => v.vendorName === selectedVendorName) || null;\r\n\r\n  // --- Filtered records by date (yyyy-mm-dd) ---\r\n  const displayedRecords = filterDate\r\n    ? records.filter((r) => {\r\n      if (!r.date) return false;\r\n      return r.date.slice(0, 10) === filterDate;\r\n    })\r\n    : records;\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">{t('purchases')}</h2>\r\n      \r\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\r\n        <input\r\n          placeholder={t('vendorName')}\r\n          value={vendorName}\r\n          onChange={(e) => setVendorName(e.target.value)}\r\n          className=\"border p-2 w-full mb-3 text-sm md:text-base\"\r\n        />\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm min-w-full\">\r\n            <thead className=\"bg-sky-100\">\r\n              <tr>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">#</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Product</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Qty</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Weight</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Price</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((r, i) => (\r\n                <tr key={i} className=\"border-t\">\r\n                  <td className=\"p-2\">{i + 1}</td>\r\n                  <td className=\"p-2\">\r\n                    <input\r\n                      className=\"border p-1 w-full text-sm md:text-base\"\r\n                      value={r.productName}\r\n                      onChange={(e) =>\r\n                        updateRow(i, 'productName', e.target.value)\r\n                      }\r\n                    />\r\n                  </td>\r\n                  <td className=\"p-2\">\r\n                    <input\r\n                      className=\"border p-1 w-16 md:w-20 text-sm md:text-base\"\r\n                      type=\"number\"\r\n                      value={r.qty}\r\n                      onChange={(e) =>\r\n                        updateRow(i, 'qty', Number(e.target.value))\r\n                      }\r\n                    />\r\n                  </td>\r\n                  <td className=\"p-2\">\r\n                    <input\r\n                      className=\"border p-1 w-20 md:w-24 text-sm md:text-base\"\r\n                      type=\"number\"\r\n                      value={r.weight}\r\n                      onChange={(e) =>\r\n                        updateRow(i, 'weight', Number(e.target.value))\r\n                      }\r\n                    />\r\n                  </td>\r\n                  <td className=\"p-2\">\r\n                    <input\r\n                      className=\"border p-1 w-24 md:w-28 text-sm md:text-base\"\r\n                      type=\"number\"\r\n                      value={r.pricePerKg}\r\n                      onChange={(e) =>\r\n                        updateRow(i, 'pricePerKg', Number(e.target.value))\r\n                      }\r\n                    />\r\n                  </td>\r\n                  <td className=\"p-2\">\r\n                    {(\r\n                      Number(r.qty || 0) *\r\n                      Number(r.pricePerKg || 0)\r\n                    ).toFixed(2)}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-2 mt-4\">\r\n          <button\r\n            onClick={addRow}\r\n            className=\"px-3 py-1 border rounded hover:shadow transition text-sm md:text-base\"\r\n          >\r\n            ➕ Add Item\r\n          </button>\r\n\r\n          <select\r\n            value={mode}\r\n            onChange={(e) => setMode(e.target.value)}\r\n            className=\"border p-1 rounded text-sm md:text-base\"\r\n          >\r\n            <option value=\"cash\">{t('cash')}</option>\r\n            <option value=\"card\">{t('card')}</option>\r\n            <option value=\"cheque\">{t('cheque')}</option>\r\n            <option value=\"online\">{t('online')}</option>\r\n          </select>\r\n\r\n          <div className=\"ml-auto flex flex-wrap items-center gap-2\">\r\n            <label className=\"text-sm\">Amount Paid</label>\r\n            <input\r\n              type=\"number\"\r\n              value={paidNow}\r\n              onChange={(e) => setPaidNow(Number(e.target.value))}\r\n              className=\"border p-1 w-24 md:w-28 text-sm md:text-base\"\r\n            />\r\n            <div className=\"px-3 py-2 bg-gray-50 rounded text-sm\">\r\n              Remaining:{' '}\r\n              <strong>{remaining.toFixed(2)}</strong>\r\n            </div>\r\n            <button\r\n              onClick={savePurchase}\r\n              className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm md:text-base\"\r\n            >\r\n              {editingIndex !== null ? 'Update Purchase' : 'Save Purchase'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Vendor Purchase Management */}\r\n      <VendorPurchaseManagement t={t} />\r\n\r\n      {/* Purchase Records List */}\r\n      <div className=\"bg-white p-4 rounded shadow mt-4 overflow-x-auto\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center mb-4\">\r\n          <h3 className=\"font-semibold text-sm md:text-base mb-2 md:mb-0\">Purchase Records</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"date\"\r\n              value={filterDate}\r\n              onChange={(e) => setFilterDate(e.target.value)}\r\n              className=\"border p-1 rounded text-sm\"\r\n            />\r\n            <button\r\n              onClick={loadPurchases}\r\n              className=\"px-3 py-1 text-xs border rounded hover:bg-gray-50\"\r\n            >\r\n              Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {displayedRecords.length === 0 ? (\r\n          <p className=\"text-sm text-gray-500\">No purchase records found.</p>\r\n        ) : (\r\n          <table className=\"w-full text-xs min-w-full\">\r\n            <thead className=\"bg-gray-100\">\r\n              <tr>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">#</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Vendor</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Date</th>\r\n                <th className=\"p-2 text-right whitespace-nowrap\">Grand Total</th>\r\n                <th className=\"p-2 text-right whitespace-nowrap\">Paid</th>\r\n                <th className=\"p-2 text-right whitespace-nowrap\">Pending</th>\r\n                <th className=\"p-2 text-left whitespace-nowrap\">Payment Mode</th>\r\n                <th className=\"p-2 text-center whitespace-nowrap\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {displayedRecords.map((record, index) => (\r\n                <tr key={record.id} className=\"border-t\">\r\n                  <td className=\"p-2\">{index + 1}</td>\r\n                  <td className=\"p-2 whitespace-nowrap\">{record.vendor_name}</td>\r\n                  <td className=\"p-2 whitespace-nowrap\">\r\n                    {record.date ? new Date(record.date).toLocaleDateString() : '-'}\r\n                  </td>\r\n                  <td className=\"p-2 text-right\">{Number(record.grand_total || 0).toFixed(2)}</td>\r\n                  <td className=\"p-2 text-right\">{Number(record.paid_now || 0).toFixed(2)}</td>\r\n                  <td className=\"p-2 text-right\">{Number(record.pending || 0).toFixed(2)}</td>\r\n                  <td className=\"p-2 whitespace-nowrap\">{record.mode_of_payment}</td>\r\n                  <td className=\"p-2 text-center whitespace-nowrap\">\r\n                    <button\r\n                      onClick={() => editPurchase(index)}\r\n                      className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deletePurchase(index)}\r\n                      className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\r\n                    >\r\n                      🗑\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Reports({ t }) {\r\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\r\n  const [report, setReport] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState('');\r\n\r\n  async function loadReport(e) {\r\n    if (e && e.preventDefault) e.preventDefault();\r\n    if (!date) {\r\n      alert('Select a date');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setErr('');\r\n    setReport(null);\r\n    try {\r\n      const res = await fetch(`http://localhost:4000/api/reports/day?date=${date}`);\r\n      const j = await res.json();\r\n      if (!j.ok) throw new Error(j.message || 'Failed to load report');\r\n      setReport(j);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErr('Failed to load report');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">Reports</h2>\r\n\r\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\r\n        <form onSubmit={loadReport} className=\"flex flex-col sm:flex-row sm:items-end gap-4\">\r\n          <div className=\"flex-1\">\r\n            <label className=\"block text-sm font-medium mb-1\">Select Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={date}\r\n              onChange={e => setDate(e.target.value)}\r\n              className=\"border p-2 rounded w-full text-sm md:text-base\"\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition text-sm md:text-base\"\r\n          >\r\n            {loading ? 'Loading…' : 'Load Report'}\r\n          </button>\r\n          {err && <span className=\"text-red-600 text-sm ml-2\">{err}</span>}\r\n        </form>\r\n      </div>\r\n\r\n      {!report && !loading && !err && (\r\n        <p className=\"text-sm text-gray-600\">Select a date and click \"Load Report\" to view details.</p>\r\n      )}\r\n\r\n      {report && (\r\n        <>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n            <div className=\"bg-white p-4 rounded shadow\">\r\n              <div className=\"text-sm text-gray-500\">Total Sales</div>\r\n              <div className=\"text-xl font-semibold\">\r\n                {Number(report.totalSales || 0).toFixed(2)}\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white p-4 rounded shadow\">\r\n              <div className=\"text-sm text-gray-500\">Amount Received</div>\r\n              <div className=\"text-xl font-semibold\">\r\n                {Number(report.totalReceived || 0).toFixed(2)}\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white p-4 rounded shadow\">\r\n              <div className=\"text-sm text-gray-500\">Number of Bills</div>\r\n              <div className=\"text-xl font-semibold\">\r\n                {(report.invoices || []).length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-4 rounded shadow mb-4 overflow-x-auto\">\r\n            <h3 className=\"font-semibold mb-2\">Products Sold on {report.date}</h3>\r\n            {(report.productsSummary || []).length === 0 ? (\r\n              <p className=\"text-sm text-gray-500\">No products sold on this date.</p>\r\n            ) : (\r\n              <table className=\"w-full text-sm border min-w-full\">\r\n                <thead className=\"bg-gray-100\">\r\n                  <tr>\r\n                    <th className=\"border px-2 py-1 text-left whitespace-nowrap\">Product</th>\r\n                    <th className=\"border px-2 py-1 text-right whitespace-nowrap\">Total Qty</th>\r\n                    <th className=\"border px-2 py-1 text-right whitespace-nowrap\">Total Weight</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {report.productsSummary.map((p, i) => (\r\n                    <tr key={i}>\r\n                      <td className=\"border px-2 py-1 whitespace-nowrap\">{p.productName}</td>\r\n                      <td className=\"border px-2 py-1 text-right\">{p.totalQty}</td>\r\n                      <td className=\"border px-2 py-1 text-right\">{p.totalWeight}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"bg-white p-4 rounded shadow overflow-x-auto\">\r\n            <h3 className=\"font-semibold mb-2\">Bills / Invoices</h3>\r\n            {(report.invoices || []).length === 0 && (\r\n              <p className=\"text-sm text-gray-500\">No invoices on this date.</p>\r\n            )}\r\n            {(report.invoices || []).map(inv => (\r\n              <div key={inv.id} className=\"border rounded mb-4 p-3\">\r\n                <div className=\"flex flex-col md:flex-row md:justify-between text-sm mb-1\">\r\n                  <div className=\"mb-1 md:mb-0\">\r\n                    <span className=\"font-semibold\">Customer: </span>\r\n                    {inv.customerName}\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"font-semibold\">Time: </span>\r\n                    {inv.date}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-4 text-sm mb-2\">\r\n                  <div>Grand Total: {inv.grandTotal}</div>\r\n                  <div>Paid: {inv.paidNow}</div>\r\n                  <div>Pending:  {inv.pending}</div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full text-xs border min-w-full\">\r\n                    <thead className=\"bg-gray-100\">\r\n                      <tr>\r\n                        <th className=\"border px-1 py-0.5 whitespace-nowrap\">#</th>\r\n                        <th className=\"border px-1 py-0.5 whitespace-nowrap\">Product</th>\r\n                        <th className=\"border px-1 py-0.5 whitespace-nowrap\">Qty</th>\r\n                        <th className=\"border px-1 py-0.5 whitespace-nowrap\">Weight</th>\r\n                        <th className=\"border px-1 py-0.5 whitespace-nowrap\">Price</th>\r\n                        <th className=\"border px-1 py-0.5 whitespace-nowrap\">Line Total</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {(inv.products || inv.lines || []).map((p, idx) => (\r\n                        <tr key={idx}>\r\n                          <td className=\"border px-1 py-0.5\">{idx + 1}</td>\r\n                          <td className=\"border px-1 py-0.5 whitespace-nowrap\">{p.productName}</td>\r\n                          <td className=\"border px-1 py-0.5\">{p.quantity || p.qty}</td>\r\n                          <td className=\"border px-1 py-0.5\">{p.weight}</td>\r\n                          <td className=\"border px-1 py-0.5\">{p.pricePerKg || p.price}</td>\r\n                          <td className=\"border px-1 py-0.5\">{p.lineTotal}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Debits({ t }) {\r\n  const [vendors, setVendors] = useState([]);\r\n  const [selectedVendorId, setSelectedVendorId] = useState('');\r\n\r\n  const [vendorName, setVendorName] = useState('');\r\n  const [vendorPlace, setVendorPlace] = useState('');\r\n  const [vendorCompany, setVendorCompany] = useState('');\r\n  const [editingVendorId, setEditingVendorId] = useState(null);\r\n\r\n  const [ledger, setLedger] = useState([]);\r\n  const [txType, setTxType] = useState('received');\r\n  const [txAmount, setTxAmount] = useState(0);\r\n  const [txMethod, setTxMethod] = useState('');\r\n  const [txBillRef, setTxBillRef] = useState('');\r\n  const [txDate, setTxDate] = useState('');\r\n  const [editingTxId, setEditingTxId] = useState(null);\r\n\r\n  const [purchaseDebits, setPurchaseDebits] = useState([]);\r\n  const [loadingPurchases, setLoadingPurchases] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadVendors();\r\n    loadPurchaseDebits();\r\n  }, []);\r\n\r\n  async function loadVendors() {\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/vendors');\r\n      const j = await res.json();\r\n      if (j.ok) setVendors(j.vendors || []);\r\n    } catch (error) {\r\n      console.error('Failed to load vendors', error);\r\n    }\r\n  }\r\n\r\n  async function loadLedger(vendorId) {\r\n    if (!vendorId) {\r\n      setLedger([]);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendorId}/ledger`);\r\n      const j = await res.json();\r\n      if (j.ok) {\r\n        setLedger(j.ledger || []);\r\n        setVendors(prev =>\r\n          prev.map(v => (v.id === vendorId ? j.vendor : v))\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load ledger', error);\r\n    }\r\n  }\r\n\r\n  async function loadPurchaseDebits() {\r\n    try {\r\n      setLoadingPurchases(true);\r\n      const res = await fetch('http://localhost:4000/api/purchases-with-pending');\r\n      const j = await res.json();\r\n      if (j.ok) setPurchaseDebits(j.purchases || []);\r\n    } catch (error) {\r\n      console.error('Failed to load purchase debits', error);\r\n    } finally {\r\n      setLoadingPurchases(false);\r\n    }\r\n  }\r\n\r\n  function onSelectVendor(id) {\r\n    setSelectedVendorId(id);\r\n    setEditingTxId(null);\r\n    resetTxForm();\r\n    if (id) loadLedger(id);\r\n    else setLedger([]);\r\n  }\r\n\r\n  function startNewVendor() {\r\n    setVendorName('');\r\n    setVendorPlace('');\r\n    setVendorCompany('');\r\n    setEditingVendorId(null);\r\n  }\r\n\r\n  function startEditVendor(vendor) {\r\n    setVendorName(vendor.name || '');\r\n    setVendorPlace(vendor.place || '');\r\n    setVendorCompany(vendor.company || '');\r\n    setEditingVendorId(vendor.id);\r\n  }\r\n\r\n  async function saveVendor() {\r\n    if (!vendorName) {\r\n      alert('Vendor name is required');\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      id: editingVendorId || undefined,\r\n      name: vendorName,\r\n      place: vendorPlace,\r\n      company: vendorCompany,\r\n    };\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/vendors', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to save vendor');\r\n        return;\r\n      }\r\n\r\n      const v = j.vendor;\r\n      setVendors(prev => {\r\n        const idx = prev.findIndex(x => x.id === v.id);\r\n        if (idx === -1) return [...prev, v];\r\n        const copy = [...prev];\r\n        copy[idx] = v;\r\n        return copy;\r\n      });\r\n\r\n      setVendorName('');\r\n      setVendorPlace('');\r\n      setVendorCompany('');\r\n      setEditingVendorId(null);\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error saving vendor');\r\n    }\r\n  }\r\n\r\n  async function deleteVendor(vendor) {\r\n    if (!window.confirm(`Delete vendor \"${vendor.name}\" and all its debits?`)) return;\r\n    try {\r\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendor.id}`, {\r\n        method: 'DELETE',\r\n      });\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to delete vendor');\r\n        return;\r\n      }\r\n      setVendors(prev => prev.filter(v => v.id !== vendor.id));\r\n      if (selectedVendorId === vendor.id) {\r\n        setSelectedVendorId('');\r\n        setLedger([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error deleting vendor');\r\n    }\r\n  }\r\n\r\n  async function deletePurchaseDebit(p) {\r\n    if (!p || !p.id) return;\r\n    if (!window.confirm('Delete this pending purchase?')) return;\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/purchases/${p.id}`,\r\n        { method: 'DELETE' }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to delete purchase');\r\n        return;\r\n      }\r\n\r\n      await loadPurchaseDebits();\r\n      alert('Purchase deleted');\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error deleting purchase');\r\n    }\r\n  }\r\n\r\n  function resetTxForm() {\r\n    setTxType('received');\r\n    setTxAmount(0);\r\n    setTxMethod('');\r\n    setTxBillRef('');\r\n    setTxDate('');\r\n    setEditingTxId(null);\r\n  }\r\n\r\n  function startEditTx(tx) {\r\n    setTxType(tx.type);\r\n    setTxAmount(tx.amount);\r\n    setTxMethod(tx.method || '');\r\n    setTxBillRef(tx.billRef || '');\r\n    setTxDate(tx.date ? tx.date.slice(0, 10) : '');\r\n    setEditingTxId(tx.id);\r\n  }\r\n\r\n  async function saveTransaction() {\r\n    if (!selectedVendorId) {\r\n      alert('Select a vendor first');\r\n      return;\r\n    }\r\n    if (!txAmount || Number(txAmount) <= 0) {\r\n      alert('Amount must be greater than 0');\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      type: txType,\r\n      amount: Number(txAmount),\r\n      method: txMethod,\r\n      billRef: txBillRef,\r\n      date: txDate ? new Date(txDate).toISOString() : undefined,\r\n    };\r\n\r\n    try {\r\n      let url = `http://localhost:4000/api/vendors/${selectedVendorId}/transactions`;\r\n      let method = 'POST';\r\n\r\n      if (editingTxId) {\r\n        url += `/${editingTxId}`;\r\n        method = 'PUT';\r\n      }\r\n\r\n      const res = await fetch(url, {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to save transaction');\r\n        return;\r\n      }\r\n\r\n      setLedger(j.ledger || []);\r\n      setVendors(prev =>\r\n        prev.map(v => (v.id === selectedVendorId ? j.vendor : v))\r\n      );\r\n      resetTxForm();\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error saving transaction');\r\n    }\r\n  }\r\n\r\n  async function deleteTransaction(tx) {\r\n    if (!selectedVendorId) return;\r\n    if (!window.confirm('Delete this transaction?')) return;\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/vendors/${selectedVendorId}/transactions/${tx.id}`,\r\n        { method: 'DELETE' }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to delete');\r\n        return;\r\n      }\r\n      setLedger(j.ledger || []);\r\n      setVendors(prev =>\r\n        prev.map(v => (v.id === selectedVendorId ? j.vendor : v))\r\n      );\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error deleting transaction');\r\n    }\r\n  }\r\n\r\n  async function editPurchaseDebit(p) {\r\n    if (!p || !p.id) return;\r\n\r\n    const newPaidStr = prompt(\r\n      'Enter new paid amount for this purchase:',\r\n      String(p.paidNow || 0)\r\n    );\r\n    if (newPaidStr === null) return;\r\n    const newPaid = Number(newPaidStr);\r\n    if (isNaN(newPaid)) {\r\n      alert('Invalid amount');\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      vendorName: p.vendor_name,\r\n      products: p.products || [],\r\n      paidNow: newPaid,\r\n      modeOfPayment: p.mode_of_payment,\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/purchases/${p.id}`,\r\n        {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to update purchase');\r\n        return;\r\n      }\r\n\r\n      await loadPurchaseDebits();\r\n      alert('Purchase updated');\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error updating purchase');\r\n    }\r\n  }\r\n\r\n  const totalReceived = ledger\r\n    .filter(tx => tx.type === 'received')\r\n    .reduce((s, tx) => s + Number(tx.amount || 0), 0);\r\n\r\n  const totalPaid = ledger\r\n    .filter(tx => tx.type === 'paid')\r\n    .reduce((s, tx) => s + Number(tx.amount || 0), 0);\r\n\r\n  const totalGoods = ledger\r\n    .filter(tx => tx.type === 'goods')\r\n    .reduce((s, tx) => s + Number(tx.amount || 0), 0);\r\n\r\n  const remaining =\r\n    (vendors.find(v => v.id === selectedVendorId)?.remaining ?? 0);\r\n\r\n  const selectedVendor = vendors.find(v => v.id === selectedVendorId) || null;\r\n\r\n  const filteredPurchases = selectedVendor\r\n    ? purchaseDebits.filter(p =>\r\n      (p.vendor_name || '').toLowerCase() ===\r\n      (selectedVendor.name || '').toLowerCase()\r\n    )\r\n    : purchaseDebits;\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">Debits</h2>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\r\n        <div className=\"lg:col-span-1 space-y-4\">\r\n          <div className=\"bg-white p-4 rounded shadow\">\r\n            <h3 className=\"font-semibold mb-3 text-sm md:text-base\">Vendor Debit Management</h3>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <input\r\n                className=\"border p-2 rounded w-full text-sm md:text-base\"\r\n                placeholder=\"Vendor Name\"\r\n                value={vendorName}\r\n                onChange={e => setVendorName(e.target.value)}\r\n              />\r\n              <input\r\n                className=\"border p-2 rounded w-full text-sm md:text-base\"\r\n                placeholder=\"Place / Location\"\r\n                value={vendorPlace}\r\n                onChange={e => setVendorPlace(e.target.value)}\r\n              />\r\n              <input\r\n                className=\"border p-2 rounded w-full text-sm md:text-base\"\r\n                placeholder=\"Company Name\"\r\n                value={vendorCompany}\r\n                onChange={e => setVendorCompany(e.target.value)}\r\n              />\r\n              <div className=\"flex gap-2 mt-2\">\r\n                <button\r\n                  onClick={saveVendor}\r\n                  className=\"px-3 py-1 bg-teal-600 text-white rounded hover:bg-teal-700 text-sm md:text-base\"\r\n                >\r\n                  {editingVendorId ? 'Update Vendor' : 'Save Vendor'}\r\n                </button>\r\n                <button\r\n                  onClick={startNewVendor}\r\n                  className=\"px-3 py-1 border rounded text-sm md:text-base\"\r\n                >\r\n                  New\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-4 rounded shadow max-h-[400px] overflow-auto\">\r\n            <h3 className=\"font-semibold mb-3 text-sm md:text-base\">Vendors</h3>\r\n            {vendors.length === 0 ? (\r\n              <p className=\"text-xs text-gray-500\">No vendors yet.</p>\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-xs min-w-full\">\r\n                  <thead className=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th className=\"p-2 text-left whitespace-nowrap\">Name</th>\r\n                      <th className=\"p-2 text-right whitespace-nowrap\">Remaining</th>\r\n                      <th className=\"p-2 text-center whitespace-nowrap\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {vendors.map(v => (\r\n                      <tr\r\n                        key={v.id}\r\n                        className={\r\n                          'border-t ' +\r\n                          (v.id === selectedVendorId ? 'bg-sky-50' : '')\r\n                        }\r\n                      >\r\n                        <td className=\"p-2\">\r\n                          <button\r\n                            onClick={() => onSelectVendor(v.id)}\r\n                            className=\"text-left text-xs hover:underline whitespace-nowrap\"\r\n                          >\r\n                            {v.name}\r\n                            {v.company ? ` (${v.company})` : ''}\r\n                          </button>\r\n                        </td>\r\n                        <td className=\"p-2 text-right whitespace-nowrap\">\r\n                          {Number(v.remaining || 0).toFixed(2)}\r\n                        </td>\r\n                        <td className=\"p-2 text-center whitespace-nowrap\">\r\n                          <button\r\n                            onClick={() => startEditVendor(v)}\r\n                            className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            onClick={() => deleteVendor(v)}\r\n                            className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\r\n                          >\r\n                            🗑\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lg:col-span-2 space-y-4\">\r\n          <div className=\"bg-white p-4 rounded shadow overflow-x-auto\">\r\n            <h3 className=\"font-semibold mb-3 text-sm md:text-base\">\r\n              {selectedVendorId ? 'Vendor Ledger' : 'Select a Vendor'}\r\n            </h3>\r\n\r\n            {selectedVendorId && (\r\n              <>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 text-sm\">\r\n                  <div className=\"bg-sky-50 p-2 rounded\">\r\n                    <div className=\"text-xs text-gray-500\">Total Received</div>\r\n                    <div className=\"font-semibold\">\r\n                      {totalReceived.toFixed(2)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-sky-50 p-2 rounded\">\r\n                    <div className=\"text-xs text-gray-500\">Total Paid</div>\r\n                    <div className=\"font-semibold\">\r\n                      {totalPaid.toFixed(2)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-sky-50 p-2 rounded\">\r\n                    <div className=\"text-xs text-gray-500\">Goods Purchased</div>\r\n                    <div className=\"font-semibold\">\r\n                      {totalGoods.toFixed(2)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-sky-50 p-2 rounded\">\r\n                    <div className=\"text-xs text-gray-500\">Remaining</div>\r\n                    <div className=\"font-semibold\">\r\n                      {Number(remaining || 0).toFixed(2)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border rounded p-3 mb-4 text-sm\">\r\n                  <h4 className=\"font-semibold mb-2\">\r\n                    {editingTxId ? 'Edit Transaction' : 'Add Transaction'}\r\n                  </h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-5 gap-2\">\r\n                    <select\r\n                      className=\"border p-2 rounded text-sm md:text-base\"\r\n                      value={txType}\r\n                      onChange={e => setTxType(e.target.value)}\r\n                    >\r\n                      <option value=\"received\">Received from Vendor</option>\r\n                      <option value=\"paid\">Paid to Vendor</option>\r\n                      <option value=\"goods\">\r\n                        Goods Purchased (vendor takes goods)\r\n                      </option>\r\n                    </select>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"border p-2 rounded text-sm md:text-base\"\r\n                      placeholder=\"Amount\"\r\n                      value={txAmount}\r\n                      onChange={e => setTxAmount(e.target.value)}\r\n                    />\r\n                    <input\r\n                      type=\"date\"\r\n                      className=\"border p-2 rounded text-sm md:text-base\"\r\n                      value={txDate}\r\n                      onChange={e => setTxDate(e.target.value)}\r\n                    />\r\n                    <input\r\n                      className=\"border p-2 rounded text-sm md:text-base\"\r\n                      placeholder=\"Payment Method\"\r\n                      value={txMethod}\r\n                      onChange={e => setTxMethod(e.target.value)}\r\n                    />\r\n                    <input\r\n                      className=\"border p-2 rounded text-sm md:text-base\"\r\n                      placeholder=\"Remarks\"\r\n                      value={txBillRef}\r\n                      onChange={e => setTxBillRef(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex gap-2 mt-3\">\r\n                    <button\r\n                      onClick={saveTransaction}\r\n                      className=\"px-3 py-1 bg-teal-600 text-white rounded text-sm md:text-base\"\r\n                    >\r\n                      {editingTxId ? 'Update Transaction' : 'Save Transaction'}\r\n                    </button>\r\n                    <button\r\n                      onClick={resetTxForm}\r\n                      className=\"px-3 py-1 border rounded text-sm md:text-base\"\r\n                    >\r\n                      Clear\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"max-h-[380px] overflow-auto text-xs\">\r\n                  <table className=\"w-full min-w-full\">\r\n                    <thead className=\"bg-gray-100\">\r\n                      <tr>\r\n                        <th className=\"p-2 text-left whitespace-nowrap\">Date</th>\r\n                        <th className=\"p-2 text-left whitespace-nowrap\">Type</th>\r\n                        <th className=\"p-2 text-right whitespace-nowrap\">Amount</th>\r\n                        <th className=\"p-2 text-left whitespace-nowrap\">Method</th>\r\n                        <th className=\"p-2 text-left whitespace-nowrap\">Remarks</th>\r\n                        <th className=\"p-2 text-right whitespace-nowrap\">Balance After</th>\r\n                        <th className=\"p-2 text-center whitespace-nowrap\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {ledger.map(tx => (\r\n                        <tr key={tx.id} className=\"border-t\">\r\n                          <td className=\"p-2 whitespace-nowrap\">\r\n                            {tx.date\r\n                              ? new Date(tx.date).toLocaleDateString()\r\n                              : '-'}\r\n                          </td>\r\n                          <td className=\"p-2 capitalize whitespace-nowrap\">{tx.type}</td>\r\n                          <td className=\"p-2 text-right whitespace-nowrap\">\r\n                            {Number(tx.amount || 0).toFixed(2)}\r\n                          </td>\r\n                          <td className=\"p-2 whitespace-nowrap\">{tx.method}</td>\r\n                          <td className=\"p-2 whitespace-nowrap\">{tx.billRef}</td>\r\n                          <td className=\"p-2 text-right whitespace-nowrap\">\r\n                            {Number(tx.balance_after || 0).toFixed(2)}\r\n                          </td>\r\n                          <td className=\"p-2 text-center whitespace-nowrap\">\r\n                            <button\r\n                              onClick={() => startEditTx(tx)}\r\n                              className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\r\n                            >\r\n                              Edit\r\n                            </button>\r\n                            <button\r\n                              onClick={() => deleteTransaction(tx)}\r\n                              className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\r\n                            >\r\n                              🗑\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                      {ledger.length === 0 && (\r\n                        <tr>\r\n                          <td\r\n                            colSpan={7}\r\n                            className=\"p-2 text-center text-gray-500\"\r\n                          >\r\n                            No transactions yet.\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {!selectedVendorId && (\r\n              <p className=\"text-xs text-gray-500\">\r\n                Select a vendor on the left to view and manage their debits.\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-4 rounded shadow overflow-x-auto\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center mb-3\">\r\n          <h3 className=\"font-semibold text-sm md:text-base mb-2 md:mb-0\">Purchased Vendor (Pending Purchases)</h3>\r\n          <button\r\n            onClick={loadPurchaseDebits}\r\n            className=\"md:ml-auto px-3 py-1 text-xs border rounded\"\r\n          >\r\n            {loadingPurchases ? 'Refreshing…' : 'Refresh'}\r\n          </button>\r\n        </div>\r\n        <p className=\"text-xs text-gray-500 mb-2\">\r\n          Showing all purchases where some amount is still pending.\r\n          {selectedVendor\r\n            ? ` (Filtered by vendor: ${selectedVendor.name})`\r\n            : ' (All vendors)'}\r\n        </p>\r\n        <table className=\"w-full text-xs min-w-full\">\r\n          <thead className=\"bg-gray-100\">\r\n            <tr>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Vendor</th>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Date</th>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Product</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Qty</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Grand Total</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Paid</th>\r\n              <th className=\"p-2 text-right whitespace-nowrap\">Remaining</th>\r\n              <th className=\"p-2 text-left whitespace-nowrap\">Mode</th>\r\n              <th className=\"p-2 text-center whitespace-nowrap\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredPurchases.map(p => {\r\n              const productsList = (p.products || []).map(x => x.productName).join(', ');\r\n              const totalQty = (p.products || []).reduce(\r\n                (s, x) => s + Number(x.qty || x.quantity || 0),\r\n                0\r\n              );\r\n              return (\r\n                <tr key={p.id} className=\"border-t\">\r\n                  <td className=\"p-2 whitespace-nowrap\">{p.vendor_name}</td>\r\n                  <td className=\"p-2 whitespace-nowrap\">\r\n                    {p.date ? new Date(p.date).toLocaleDateString() : '-'}\r\n                  </td>\r\n                  <td className=\"p-2 whitespace-nowrap\">{productsList || '-'}</td>\r\n                  <td className=\"p-2 text-right\">{totalQty}</td>\r\n                  <td className=\"p-2 text-right\">\r\n                    {Number(p.grand_total || 0).toFixed(2)}\r\n                  </td>\r\n                  <td className=\"p-2 text-right\">\r\n                    {Number(p.paid_now || 0).toFixed(2)}\r\n                  </td>\r\n                  <td className=\"p-2 text-right\">\r\n                    {Number(p.pending || 0).toFixed(2)}\r\n                  </td>\r\n                  <td className=\"p-2 whitespace-nowrap\">{p.mode_of_payment}</td>\r\n                  <td className=\"p-2 text-center whitespace-nowrap\">\r\n                    <button\r\n                      onClick={() => editPurchaseDebit(p)}\r\n                      className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deletePurchaseDebit(p)}\r\n                      className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\r\n                    >\r\n                      🗑\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n            {filteredPurchases.length === 0 && (\r\n              <tr>\r\n                <td\r\n                  className=\"p-2 text-center text-gray-500\"\r\n                  colSpan={9}\r\n                >\r\n                  No pending purchases found.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RecycleBin({ t }) {\r\n  const [activeType, setActiveType] = useState('sales');\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState('');\r\n\r\n  async function loadItems(type = activeType) {\r\n    try {\r\n      setLoading(true);\r\n      setErr('');\r\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${type}`);\r\n      const j = await res.json();\r\n      if (!j.ok) throw new Error(j.message || 'Failed to load recycle bin');\r\n      setItems(j.items || []);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErr(e.message || 'Failed to load recycle bin');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadItems('sales');\r\n  }, []);\r\n\r\n  function changeType(type) {\r\n    setActiveType(type);\r\n    loadItems(type);\r\n  }\r\n\r\n  async function handleRestore(id) {\r\n    if (!window.confirm('Restore this record?')) return;\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/recycle-bin/restore', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ type: activeType, id }),\r\n      });\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to restore');\r\n        return;\r\n      }\r\n      await loadItems();\r\n      alert('Restored successfully');\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Error restoring item');\r\n    }\r\n  }\r\n\r\n  async function handleDelete(id) {\r\n    if (!window.confirm('Permanently delete this item?')) return;\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/recycle-bin/${activeType}/${id}`,\r\n        { method: 'DELETE' }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to delete from recycle bin');\r\n        return;\r\n      }\r\n      await loadItems();\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Error deleting item');\r\n    }\r\n  }\r\n\r\n  async function handleDeleteAll() {\r\n    if (\r\n      !window.confirm(\r\n        `Permanently delete ALL ${activeType} items from recycle bin?`\r\n      )\r\n    )\r\n      return;\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/api/recycle-bin/${activeType}`,\r\n        { method: 'DELETE' }\r\n      );\r\n      const j = await res.json();\r\n      if (!j.ok) {\r\n        alert(j.message || 'Failed to delete all');\r\n        return;\r\n      }\r\n      await loadItems();\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Error deleting all items');\r\n    }\r\n  }\r\n\r\n  function renderMainLabel(item) {\r\n    if (activeType === 'sales') {\r\n      return `${item.customer_name || 'Unknown'} — Grand: ${\r\n        item.grand_total\r\n      } | Pending: ${item.pending}`;\r\n    }\r\n    if (activeType === 'purchases') {\r\n      return `${item.vendor_name || 'Unknown'} — Grand: ${\r\n        item.grand_total\r\n      } | Pending: ${item.pending}`;\r\n    }\r\n    if (activeType === 'vendors') {\r\n      return `${item.name || 'Vendor'} — Remaining: ${item.remaining || 0}`;\r\n    }\r\n    if (activeType === 'customers') {\r\n      return `${item.name || 'Customer'} — Pending: ${\r\n        item.previous_pending || 0\r\n      }`;\r\n    }\r\n    return 'Item';\r\n  }\r\n\r\n  function formatDate(iso) {\r\n    if (!iso) return '';\r\n    try {\r\n      return new Date(iso).toLocaleString();\r\n    } catch {\r\n      return iso;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">Recycle Bin</h2>\r\n\r\n      <div className=\"flex flex-wrap gap-2 mb-4\">\r\n        {['sales', 'purchases', 'vendors', 'customers'].map((type) => (\r\n          <button\r\n            key={type}\r\n            onClick={() => changeType(type)}\r\n            className={\r\n              'px-3 py-1 rounded text-sm ' +\r\n              (activeType === type\r\n                ? 'bg-sky-600 text-white'\r\n                : 'bg-white text-sky-700 border')\r\n            }\r\n          >\r\n            {type.charAt(0).toUpperCase() + type.slice(1)}\r\n          </button>\r\n        ))}\r\n\r\n        <button\r\n          onClick={() => loadItems()}\r\n          className=\"ml-auto px-3 py-1 text-xs bg-gray-100 border rounded hover:bg-gray-200\"\r\n        >\r\n          Refresh\r\n        </button>\r\n        <button\r\n          onClick={handleDeleteAll}\r\n          className=\"px-3 py-1 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200\"\r\n        >\r\n          Delete All Permanently\r\n        </button>\r\n      </div>\r\n\r\n      {loading && (\r\n        <p className=\"text-sm text-gray-500 mb-2\">Loading recycle bin…</p>\r\n      )}\r\n      {err && <p className=\"text-sm text-red-600 mb-2\">{err}</p>}\r\n\r\n      {items.length === 0 ? (\r\n        <p className=\"text-sm text-gray-500\">\r\n          No deleted {activeType} records in recycle bin.\r\n        </p>\r\n      ) : (\r\n        <div className=\"bg-white rounded shadow divide-y\">\r\n          {items.map((item) => (\r\n            <div\r\n              key={item.id}\r\n              className=\"p-3 flex flex-col sm:flex-row sm:justify-between sm:items-center text-sm\"\r\n            >\r\n              <div className=\"space-y-0.5 mb-2 sm:mb-0\">\r\n                <div className=\"font-medium truncate\">{renderMainLabel(item)}</div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  ID: {item.id}{' '}\r\n                  {item.date && <>| Date: {formatDate(item.date)}</>}\r\n                  {item.deleted_at && (\r\n                    <>\r\n                      {' '}\r\n                      | Deleted:{' '}\r\n                      {formatDate(item.deleted_at)}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => handleRestore(item.id)}\r\n                  className=\"px-2 py-1 text-xs bg-emerald-600 text-white rounded\"\r\n                >\r\n                  Restore\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(item.id)}\r\n                  className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Settings({ t, onLogoChange }) {\r\n  const [logoData, setLogoData] = useState(localStorage.getItem('erp_logo') || '');\r\n  function upload(e) {\r\n    const f = e.target.files[0];\r\n    if (!f) return;\r\n    const reader = new FileReader();\r\n    reader.onload = ev => {\r\n      setLogoData(ev.target.result);\r\n      onLogoChange(ev.target.result);\r\n    };\r\n    reader.readAsDataURL(f);\r\n  }\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl md:text-2xl font-semibold mb-4\">{t('settings')}</h2>\r\n      <div className=\"bg-white p-4 rounded shadow\">\r\n        <label className=\"block mb-2\">Upload Logo (PNG/JPG)</label>\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={upload}\r\n          className=\"mt-2 w-full text-sm md:text-base\"\r\n        />\r\n        {logoData && (\r\n          <div className=\"mt-4\">\r\n            <img src={logoData} className=\"h-28 md:h-32\" alt=\"logo\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":";;;;;;;;;;;;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,MAAMC,GAAG,GAAG;EACVC,EAAE,EAAE;IACFC,UAAU,EAAE,aAAa;IACzBC,WAAW,EAAE,cAAc;IAC3BC,OAAO,EAAE,UAAU;IACnBC,SAAS,EAAE,WAAW;IACtBC,eAAe,EAAE,kBAAkB;IACnCC,SAAS,EAAE,cAAc;IACzBC,QAAQ,EAAE,UAAU;IACpBC,SAAS,EAAE,WAAW;IACtBC,SAAS,EAAE,WAAW;IACtBC,KAAK,EAAE,OAAO;IACdC,OAAO,EAAE,SAAS;IAClBC,MAAM,EAAE,QAAQ;IAChBC,QAAQ,EAAE,UAAU;IACpBC,KAAK,EAAE,cAAc;IACrBC,QAAQ,EAAE,UAAU;IACpBC,QAAQ,EAAE,UAAU;IACpBC,QAAQ,EAAE,OAAO;IACjBC,UAAU,EAAE,aAAa;IACzBC,aAAa,EAAE,iBAAiB;IAChCC,IAAI,EAAE,MAAM;IACZC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,QAAQ;IAChBC,MAAM,EAAE,QAAQ;IAChBC,iBAAiB,EAAE,oBAAoB;IACvCC,UAAU,EAAE;EACd,CAAC;EACDC,EAAE,EAAE;IACFzB,UAAU,EAAE,iBAAiB;IAC7BC,WAAW,EAAE,iBAAiB;IAC9BC,OAAO,EAAE,SAAS;IAClBC,SAAS,EAAE,MAAM;IACjBC,eAAe,EAAE,aAAa;IAC9BC,SAAS,EAAE,0BAA0B;IACrCC,QAAQ,EAAE,SAAS;IACnBC,SAAS,EAAE,QAAQ;IACnBC,SAAS,EAAE,SAAS;IACpBC,KAAK,EAAE,OAAO;IACdC,OAAO,EAAE,QAAQ;IACjBC,MAAM,EAAE,WAAW;IACnBC,QAAQ,EAAE,QAAQ;IAClBC,KAAK,EAAE,aAAa;IACpBC,QAAQ,EAAE,MAAM;IAChBC,QAAQ,EAAE,SAAS;IACnBC,QAAQ,EAAE,QAAQ;IAClBC,UAAU,EAAE,eAAe;IAC3BC,aAAa,EAAE,kBAAkB;IACjCC,IAAI,EAAE,KAAK;IACXC,IAAI,EAAE,MAAM;IACZC,MAAM,EAAE,KAAK;IACbC,MAAM,EAAE,SAAS;IACjBC,iBAAiB,EAAE,gBAAgB;IACnCC,UAAU,EAAE,cAAc;IAC1BX,KAAK,EAAE;EACT;AACF,CAAC;AAED,SAASa,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGrC,QAAQ,CAACsC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;EAC1E,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGzC,QAAQ,CAAC,WAAW,CAAC;EAC/C,MAAM,CAAC0C,IAAI,EAAEC,OAAO,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC4C,IAAI,EAAEC,OAAO,CAAC,GAAG7C,QAAQ,CAACsC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;EACxE,MAAM,CAACO,aAAa,EAAEC,gBAAgB,CAAC,GAAG/C,QAAQ,CAACgD,MAAM,CAACC,UAAU,GAAG,GAAG,CAAC;EAE3E,SAASC,CAACA,CAACC,CAAC,EAAE;IAAE,OAAO7C,GAAG,CAAC8B,IAAI,CAAC,CAACe,CAAC,CAAC,IAAIA,CAAC;EAAE;EAE1ClD,SAAS,CAAC,MAAM;IACd,IAAIyC,IAAI,EAAED,QAAQ,CAAC,WAAW,CAAC;EACjC,CAAC,EAAE,CAACC,IAAI,CAAC,CAAC;EAEVzC,SAAS,CAAC,MAAM;IACd,MAAMmD,YAAY,GAAGA,CAAA,KAAM;MACzBL,gBAAgB,CAACC,MAAM,CAACC,UAAU,GAAG,GAAG,CAAC;IAC3C,CAAC;IACDD,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/C,OAAO,MAAMJ,MAAM,CAACM,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;EACjE,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACV,IAAI,EAAE;IACT,oBACEvC,OAAA,CAACoD,KAAK;MACJC,SAAS,EAAEC,CAAC,IAAI;QAAEd,OAAO,CAACc,CAAC,CAAC;MAAE,CAAE;MAChCb,IAAI,EAAEA,IAAK;MACXM,CAAC,EAAEA,CAAE;MACLb,OAAO,EAAEA,OAAQ;MACjBD,IAAI,EAAEA;IAAK;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC;EAEN;EAEA,MAAMC,QAAQ,GAAG;IACfC,SAAS,EAAE,WAAW;IACtBjD,QAAQ,EAAEoC,CAAC,CAAC,UAAU,CAAC;IACvBjC,KAAK,EAAEiC,CAAC,CAAC,OAAO,CAAC;IACjBlC,SAAS,EAAEkC,CAAC,CAAC,WAAW,CAAC;IACzBhC,OAAO,EAAEgC,CAAC,CAAC,SAAS,CAAC;IACrB/B,MAAM,EAAE+B,CAAC,CAAC,QAAQ,CAAC;IACnB9B,QAAQ,EAAE8B,CAAC,CAAC,UAAU,CAAC;IACvBc,UAAU,EAAEd,CAAC,CAAC,aAAa;EAC7B,CAAC;EACD,MAAMe,YAAY,GAAGH,QAAQ,CAACtB,KAAK,CAAC,IAAI,aAAa;EAErD,oBACErC,OAAA;IAAK+D,SAAS,EAAC,oEAAoE;IAAAC,QAAA,gBAEjFhE,OAAA;MAAK+D,SAAS,EAAC,yEAAyE;MAAAC,QAAA,gBACtFhE,OAAA;QAAK+D,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtChE,OAAA;UACEiE,OAAO,EAAEA,CAAA,KAAMrB,gBAAgB,CAAC,CAACD,aAAa,CAAE;UAChDoB,SAAS,EAAC,KAAK;UAAAC,QAAA,eAEfhE,OAAA;YAAK+D,SAAS,EAAC,SAAS;YAACG,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAJ,QAAA,eAC5EhE,OAAA;cAAMqE,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAyB;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9F;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACT1D,OAAA;UAAAgE,QAAA,gBACEhE,OAAA;YAAK+D,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvE1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACN1D,OAAA;QAAK+D,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtChE,OAAA;UACEyE,KAAK,EAAExC,IAAK;UACZyC,QAAQ,EAAEC,CAAC,IAAI;YAAE,MAAMC,CAAC,GAAGD,CAAC,CAACE,MAAM,CAACJ,KAAK;YAAEvC,OAAO,CAAC0C,CAAC,CAAC;YAAEzC,YAAY,CAAC2C,OAAO,CAAC,UAAU,EAAEF,CAAC,CAAC;UAAE,CAAE;UAC9Fb,SAAS,EAAC,gEAAgE;UAAAC,QAAA,gBAE1EhE,OAAA;YAAQyE,KAAK,EAAC,IAAI;YAAAT,QAAA,EAAC;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9B1D,OAAA;YAAQyE,KAAK,EAAC,IAAI;YAAAT,QAAA,EAAC;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eACT1D,OAAA;UACEiE,OAAO,EAAEA,CAAA,KAAM;YAAEzB,OAAO,CAAC,IAAI,CAAC;YAAEF,QAAQ,CAAC,OAAO,CAAC;UAAE,CAAE;UACrDyB,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EACpD;QAED;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN1D,OAAA;MAAO+D,SAAS,EAAE;AACxB,UAAUpB,aAAa,GAAG,eAAe,GAAG,mBAAmB;AAC/D;AACA;AACA;AACA,OAAQ;MAAAqB,QAAA,gBAEAhE,OAAA;QAAK+D,SAAS,EAAC,6DAA6D;QAAAC,QAAA,GACzEvB,IAAI,gBACHzC,OAAA;UACE+E,GAAG,EAAEtC,IAAK;UACVuC,GAAG,EAAC,IAAI;UACRjB,SAAS,EAAC;QAAoE;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC,gBAEF1D,OAAA;UAAK+D,SAAS,EAAC,4FAA4F;UAAAC,QAAA,EAAC;QAE5G;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN,eACD1D,OAAA;UAAAgE,QAAA,gBACEhE,OAAA;YAAK+D,SAAS,EAAC,0BAA0B;YAAAC,QAAA,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC/D1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,eACN1D,OAAA;UACEiE,OAAO,EAAEA,CAAA,KAAMrB,gBAAgB,CAAC,KAAK,CAAE;UACvCmB,SAAS,EAAC,uBAAuB;UAAAC,QAAA,eAEjChE,OAAA;YAAK+D,SAAS,EAAC,SAAS;YAACG,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAJ,QAAA,eAC5EhE,OAAA;cAAMqE,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAsB;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3F;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGN1D,OAAA;QAAK+D,SAAS,EAAC,4CAA4C;QAAAC,QAAA,EACxD,CACC,CAAC,WAAW,EAAE,WAAW,CAAC,EAC1B,CAAC,UAAU,EAAEjB,CAAC,CAAC,UAAU,CAAC,CAAC,EAC3B,CAAC,OAAO,EAAEA,CAAC,CAAC,OAAO,CAAC,CAAC,EACrB,CAAC,WAAW,EAAEA,CAAC,CAAC,WAAW,CAAC,CAAC,EAC7B,CAAC,SAAS,EAAEA,CAAC,CAAC,SAAS,CAAC,CAAC,EACzB,CAAC,QAAQ,EAAEA,CAAC,CAAC,QAAQ,CAAC,CAAC,EACvB,CAAC,UAAU,EAAEA,CAAC,CAAC,UAAU,CAAC,CAAC,EAC3B,CAAC,YAAY,EAAEA,CAAC,CAAC,aAAa,CAAC,CAAC,CACjC,CAACkC,GAAG,CAAC,CAAC,CAACR,KAAK,EAAES,KAAK,CAAC,kBACnBlF,OAAA;UAEEiE,OAAO,EAAEA,CAAA,KAAM;YACb3B,QAAQ,CAACmC,KAAK,CAAC;YACf,IAAI5B,MAAM,CAACC,UAAU,GAAG,GAAG,EAAEF,gBAAgB,CAAC,KAAK,CAAC;UACtD,CAAE;UACFmB,SAAS,EAAE;AACzB;AACA,kBAAkB1B,KAAK,KAAKoC,KAAK,GACb,uGAAuG,GACvG,sCAAsC;AAC1D,eACgB;UAAAT,QAAA,EAEDkB;QAAK,GAbDT,KAAK;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcJ,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGN1D,OAAA;QAAK+D,SAAS,EAAC,8GAA8G;QAAAC,QAAA,gBAC3HhE,OAAA;UAAAgE,QAAA,EAAOzB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEpB;QAAQ;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC7B1D,OAAA;UAAK+D,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtChE,OAAA;YACEyE,KAAK,EAAExC,IAAK;YACZyC,QAAQ,EAAEC,CAAC,IAAI;cAAE,MAAMC,CAAC,GAAGD,CAAC,CAACE,MAAM,CAACJ,KAAK;cAAEvC,OAAO,CAAC0C,CAAC,CAAC;cAAEzC,YAAY,CAAC2C,OAAO,CAAC,UAAU,EAAEF,CAAC,CAAC;YAAE,CAAE;YAC9Fb,SAAS,EAAC,kEAAkE;YAAAC,QAAA,gBAE5EhE,OAAA;cAAQyE,KAAK,EAAC,IAAI;cAAAT,QAAA,EAAC;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC9B1D,OAAA;cAAQyE,KAAK,EAAC,IAAI;cAAAT,QAAA,EAAC;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,eACT1D,OAAA;YACEiE,OAAO,EAAEA,CAAA,KAAM;cAAEzB,OAAO,CAAC,IAAI,CAAC;cAAEF,QAAQ,CAAC,OAAO,CAAC;YAAE,CAAE;YACrDyB,SAAS,EAAC,iCAAiC;YAAAC,QAAA,EAC5C;UAED;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,EAGPf,aAAa,iBACZ3C,OAAA;MACE+D,SAAS,EAAC,0CAA0C;MACpDE,OAAO,EAAEA,CAAA,KAAMrB,gBAAgB,CAAC,KAAK;IAAE;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CACF,eAGD1D,OAAA;MAAM+D,SAAS,EAAC,mCAAmC;MAAAC,QAAA,GAEhDvB,IAAI,iBACHzC,OAAA;QACE+E,GAAG,EAAEtC,IAAK;QACVuC,GAAG,EAAC,YAAY;QAChBjB,SAAS,EAAC;MAAwF;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnG,CACF,eAED1D,OAAA;QAAK+D,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBAEzChE,OAAA;UAAK+D,SAAS,EAAC,yGAAyG;UAAAC,QAAA,eACtHhE,OAAA;YAAI+D,SAAS,EAAC,iDAAiD;YAAAC,QAAA,EAC5DF;UAAY;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eAGN1D,OAAA;UAAK+D,SAAS,EAAC,eAAe;UAAAC,QAAA,GAC3B3B,KAAK,KAAK,WAAW,iBAAIrC,OAAA,CAACmF,SAAS;YAACpC,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC5CrB,KAAK,KAAK,UAAU,iBAAIrC,OAAA,CAACoF,QAAQ;YAACrC,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC1CrB,KAAK,KAAK,OAAO,iBAAIrC,OAAA,CAACqF,KAAK;YAACtC,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACpCrB,KAAK,KAAK,WAAW,iBAAIrC,OAAA,CAACsF,SAAS;YAACvC,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC5CrB,KAAK,KAAK,SAAS,iBAAIrC,OAAA,CAACuF,OAAO;YAACxC,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACxCrB,KAAK,KAAK,QAAQ,iBAAIrC,OAAA,CAACwF,MAAM;YAACzC,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACtCrB,KAAK,KAAK,YAAY,iBAAIrC,OAAA,CAAC6D,UAAU;YAACd,CAAC,EAAEA;UAAE;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC9CrB,KAAK,KAAK,UAAU,iBAAIrC,OAAA,CAACyF,QAAQ;YAAC1C,CAAC,EAAEA,CAAE;YAAC2C,YAAY,EAAEd,CAAC,IAAI;cAAElC,OAAO,CAACkC,CAAC,CAAC;cAAEzC,YAAY,CAAC2C,OAAO,CAAC,UAAU,EAAEF,CAAC,CAAC;YAAE;UAAE;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC1B,EAAA,CAlNQD,GAAG;AAAA4D,EAAA,GAAH5D,GAAG;AAoNZ,SAAS6D,MAAMA,CAAC;EAAEtD,QAAQ;EAAEE,OAAO;EAAEC,IAAI;EAAEC,OAAO;EAAET,IAAI;EAAEC,OAAO;EAAEa;AAAE,CAAC,EAAE;EACtE,oBACE/C,OAAA;IAAQ+D,SAAS,EAAC,sBAAsB;IAAAC,QAAA,eACtChE,OAAA;MAAK+D,SAAS,EAAC,gHAAgH;MAAAC,QAAA,gBAE7HhE,OAAA;QAAK+D,SAAS,EAAC,yBAAyB;QAAAC,QAAA,GACrCvB,IAAI,gBACHzC,OAAA;UACE+E,GAAG,EAAEtC,IAAK;UACVuC,GAAG,EAAC,MAAM;UACVjB,SAAS,EAAC;QAA0B;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,gBAEF1D,OAAA;UAAK+D,SAAS,EAAC,4EAA4E;UAAAC,QAAA,EAAC;QAE5F;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN,eACD1D,OAAA;UAAI+D,SAAS,EAAC,+CAA+C;UAAAC,QAAA,EAAC;QAE9D;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAGN1D,OAAA;QAAK+D,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChDhE,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,WAAW,CAAE;UAAA0B,QAAA,EAEpCjB,CAAC,CAAC,WAAW;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACT1D,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,UAAU,CAAE;UAAA0B,QAAA,EAEnCjB,CAAC,CAAC,UAAU;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACT1D,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,OAAO,CAAE;UAAA0B,QAAA,EAEhCjB,CAAC,CAAC,OAAO;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACT1D,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,WAAW,CAAE;UAAA0B,QAAA,EAEpCjB,CAAC,CAAC,WAAW;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACT1D,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,SAAS,CAAE;UAAA0B,QAAA,EAElCjB,CAAC,CAAC,SAAS;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC,eACT1D,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,QAAQ,CAAE;UAAA0B,QAAA,EAEjCjB,CAAC,CAAC,QAAQ;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACT1D,OAAA;UACE+D,SAAS,EAAC,oEAAoE;UAC9EE,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAAC,UAAU,CAAE;UAAA0B,QAAA,EAEnCjB,CAAC,CAAC,UAAU;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eAET1D,OAAA;UACEyE,KAAK,EAAExC,IAAK;UACZyC,QAAQ,EAAEC,CAAC,IAAI;YACbzC,OAAO,CAACyC,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;YACvBtC,YAAY,CAAC2C,OAAO,CAAC,UAAU,EAAEH,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;UAClD,CAAE;UACFV,SAAS,EAAC,6CAA6C;UAAAC,QAAA,gBAEvDhE,OAAA;YAAQyE,KAAK,EAAC,IAAI;YAAAT,QAAA,EAAC;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9B1D,OAAA;YAAQyE,KAAK,EAAC,IAAI;YAAAT,QAAA,EAAC;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eAET1D,OAAA;UACE+D,SAAS,EAAC,2FAA2F;UACrGE,OAAO,EAAEA,CAAA,KAAM;YACbzB,OAAO,CAAC,IAAI,CAAC;YACbL,YAAY,CAAC0D,UAAU,CAAC,UAAU,CAAC;UACrC,CAAE;UAAA7B,QAAA,EAEDjB,CAAC,CAAC,OAAO;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEb;AAACoC,GAAA,GA5FQF,MAAM;AA8Ff,SAASxC,KAAKA,CAAC;EAAEC,SAAS;EAAEZ,IAAI;EAAEM,CAAC;EAAEb,OAAO;EAAED;AAAK,CAAC,EAAE;EAAA8D,GAAA;EACpD,MAAM,CAACzC,CAAC,EAAE0C,IAAI,CAAC,GAAGnG,QAAQ,CAAC,OAAO,CAAC;EACnC,MAAM,CAACoG,CAAC,EAAEC,IAAI,CAAC,GAAGrG,QAAQ,CAAC,OAAO,CAAC;EACnC,MAAM,CAACsG,GAAG,EAAEC,MAAM,CAAC,GAAGvG,QAAQ,CAAC,EAAE,CAAC;EAElC,eAAewG,MAAMA,CAAC1B,CAAC,EAAE;IACvBA,CAAC,CAAC2B,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;QAAEC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAE1F,QAAQ,EAAEmC,CAAC;UAAElC,QAAQ,EAAE6E;QAAE,CAAC;MAAE,CAAC,CAAC;MACnL,IAAI,CAACM,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;MAC5C,MAAMC,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B5D,SAAS,CAAC2D,CAAC,CAACzE,IAAI,CAAC;IACnB,CAAC,CAAC,OAAO4D,GAAG,EAAE;MACZC,MAAM,CAAC,4BAA4B,CAAC;IACtC;EACF;EAEA,oBACEpG,OAAA;IAAK+D,SAAS,EAAC,mDAAmD;IAAAC,QAAA,eAChEhE,OAAA;MAAK+D,SAAS,EAAC,0DAA0D;MAAAC,QAAA,gBACvEhE,OAAA;QAAK+D,SAAS,EAAC,0BAA0B;QAAAC,QAAA,EACtCvB,IAAI,gBACHzC,OAAA;UAAK+E,GAAG,EAAEtC,IAAK;UAACsB,SAAS,EAAC,0CAA0C;UAACiB,GAAG,EAAC;QAAM;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAClF1D,OAAA;UAAK+D,SAAS,EAAC,iGAAiG;UAAAC,QAAA,EAAC;QAEjH;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEL,CAAC,eACN1D,OAAA;QAAI+D,SAAS,EAAC,sDAAsD;QAAAC,QAAA,EAAEjB,CAAC,CAAC,OAAO;MAAC;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtF1D,OAAA;QAAMkH,QAAQ,EAAEb,MAAO;QAACtC,SAAS,EAAC,WAAW;QAAAC,QAAA,gBAC3ChE,OAAA;UACEmH,WAAW,EAAEpE,CAAC,CAAC,UAAU,CAAE;UAC3BgB,SAAS,EAAC,+EAA+E;UACzFU,KAAK,EAAEnB,CAAE;UACToB,QAAQ,EAAEC,CAAC,IAAIqB,IAAI,CAACrB,CAAC,CAACE,MAAM,CAACJ,KAAK;QAAE;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eACF1D,OAAA;UACEoH,IAAI,EAAC,UAAU;UACfD,WAAW,EAAEpE,CAAC,CAAC,UAAU,CAAE;UAC3BgB,SAAS,EAAC,+EAA+E;UACzFU,KAAK,EAAEwB,CAAE;UACTvB,QAAQ,EAAEC,CAAC,IAAIuB,IAAI,CAACvB,CAAC,CAACE,MAAM,CAACJ,KAAK;QAAE;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eACF1D,OAAA;UAAK+D,SAAS,EAAC,+DAA+D;UAAAC,QAAA,gBAC5EhE,OAAA;YACEyE,KAAK,EAAExC,IAAK;YACZyC,QAAQ,EAAEC,CAAC,IAAI;cAAEzC,OAAO,CAACyC,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;cAAEtC,YAAY,CAAC2C,OAAO,CAAC,UAAU,EAAEH,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;YAAE,CAAE;YAC9FV,SAAS,EAAC,gDAAgD;YAAAC,QAAA,gBAE1DhE,OAAA;cAAQyE,KAAK,EAAC,IAAI;cAAAT,QAAA,EAAC;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC9B1D,OAAA;cAAQyE,KAAK,EAAC,IAAI;cAAAT,QAAA,EAAC;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,eACT1D,OAAA;YAAQ+D,SAAS,EAAC,yGAAyG;YAAAC,QAAA,EACxHjB,CAAC,CAAC,UAAU;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,EACNyC,GAAG,iBAAInG,OAAA;QAAG+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEmC;MAAG;QAAA5C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACqC,GAAA,CA7DQ3C,KAAK;AAAAiE,GAAA,GAALjE,KAAK;AA+Dd,SAAS+B,SAASA,CAAC;EAAEpC;AAAE,CAAC,EAAE;EAAAuE,GAAA;EACxB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG3H,QAAQ,CAAC,WAAW,CAAC;EACvD,MAAM,CAACiB,KAAK,EAAE2G,QAAQ,CAAC,GAAG5H,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC6H,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG9H,QAAQ,CAAC,EAAE,CAAC;EACpE,MAAM,CAAC+H,OAAO,EAAEC,UAAU,CAAC,GAAGhI,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsG,GAAG,EAAEC,MAAM,CAAC,GAAGvG,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAMiI,OAAO,GAAG3F,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE;EAEtD,MAAM,CAAC2F,KAAK,EAAEC,QAAQ,CAAC,GAAGnI,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoI,SAAS,EAAEC,YAAY,CAAC,GAAGrI,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACsI,YAAY,EAAEC,eAAe,CAAC,GAAGvI,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACwI,QAAQ,EAAEC,WAAW,CAAC,GAAGzI,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACdyI,SAAS,CAAC,CAAC;IACXC,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeD,SAASA,CAAA,EAAG;IACzB,IAAI;MACFV,UAAU,CAAC,IAAI,CAAC;MAChBzB,MAAM,CAAC,EAAE,CAAC;MACV,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAiC,CAAC;MAC1D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTV,MAAM,CAACY,CAAC,CAACyB,OAAO,IAAI,sBAAsB,CAAC;QAC3C;MACF;MACAhB,QAAQ,CAACT,CAAC,CAAClG,KAAK,IAAI,EAAE,CAAC;IACzB,CAAC,CAAC,OAAO6D,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChByB,MAAM,CAAC,sBAAsB,CAAC;IAChC,CAAC,SAAS;MACRyB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,eAAeW,aAAaA,CAAA,EAAG;IAC7B,IAAI;MACFJ,eAAe,CAAC,IAAI,CAAC;MACrBE,WAAW,CAAC,EAAE,CAAC;MAEf,MAAM,CAACM,IAAI,EAAEC,IAAI,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACrCvC,KAAK,CAAC,qCAAqC,CAAC,EAC5CA,KAAK,CAAC,iCAAiC,CAAC,CACzC,CAAC;MAEF,MAAM,CAACwC,KAAK,EAAEC,KAAK,CAAC,GAAG,MAAMH,OAAO,CAACC,GAAG,CAAC,CAACH,IAAI,CAAC3B,IAAI,CAAC,CAAC,EAAE4B,IAAI,CAAC5B,IAAI,CAAC,CAAC,CAAC,CAAC;MAEpE,IAAI,CAAC+B,KAAK,CAAClC,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACiC,KAAK,CAACP,OAAO,IAAI,0BAA0B,CAAC;MAC3E,IAAI,CAACQ,KAAK,CAACnC,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACkC,KAAK,CAACR,OAAO,IAAI,sBAAsB,CAAC;MAEvE,MAAM5H,SAAS,GAAGmI,KAAK,CAACnI,SAAS,IAAI,EAAE;MACvC,MAAMqI,SAAS,GAAGD,KAAK,CAACnI,KAAK,IAAI,EAAE;MAEnC,MAAMqI,IAAI,GAAG,EAAE;MAEftI,SAAS,CAACuI,OAAO,CAAEnD,CAAC,IAAK;QACvB,CAACA,CAAC,CAACtF,QAAQ,IAAIsF,CAAC,CAACoD,KAAK,IAAI,EAAE,EAAED,OAAO,CAAEE,IAAI,IAAK;UAC9CH,IAAI,CAACI,IAAI,CAAC;YACRC,IAAI,EAAEvD,CAAC,CAACuD,IAAI;YACZpC,IAAI,EAAE,UAAU;YAChBqC,WAAW,EAAEH,IAAI,CAACG,WAAW,IAAI,EAAE;YACnCC,SAAS,EAAEC,MAAM,CAACL,IAAI,CAACM,MAAM,IAAI,CAAC,CAAC;YACnCC,SAAS,EAAEF,MAAM,CAACL,IAAI,CAACQ,GAAG,IAAIR,IAAI,CAACS,QAAQ,IAAI,CAAC;UAClD,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;MAEFb,SAAS,CAACE,OAAO,CAAEY,CAAC,IAAK;QACvB,CAACA,CAAC,CAACrJ,QAAQ,IAAIqJ,CAAC,CAACX,KAAK,IAAI,EAAE,EAAED,OAAO,CAAEE,IAAI,IAAK;UAC9CH,IAAI,CAACI,IAAI,CAAC;YACRC,IAAI,EAAEQ,CAAC,CAACR,IAAI;YACZpC,IAAI,EAAE,MAAM;YACZqC,WAAW,EAAEH,IAAI,CAACG,WAAW,IAAI,EAAE;YACnCC,SAAS,EAAEC,MAAM,CAACL,IAAI,CAACM,MAAM,IAAI,CAAC,CAAC;YACnCC,SAAS,EAAEF,MAAM,CAACL,IAAI,CAACS,QAAQ,IAAIT,IAAI,CAACQ,GAAG,IAAI,CAAC;UAClD,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF5B,YAAY,CAACiB,IAAI,CAAC;MAClBnB,QAAQ,CAACmB,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOxE,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChB2D,WAAW,CAAC3D,CAAC,CAAC8D,OAAO,IAAI,2BAA2B,CAAC;IACvD,CAAC,SAAS;MACRL,eAAe,CAAC,KAAK,CAAC;IACxB;EACF;EAEA,MAAM6B,aAAa,GAAG,IAAIC,GAAG,CAAC,CAAC;EAE/B,CAACpJ,KAAK,IAAI,EAAE,EAAEsI,OAAO,CAAEY,CAAC,IAAK;IAC3B,MAAMG,IAAI,GAAGH,CAAC,CAACI,YAAY,IAAI,SAAS;IACxC,IAAI,CAACH,aAAa,CAACI,GAAG,CAACF,IAAI,CAAC,EAAE;MAC5BF,aAAa,CAACK,GAAG,CAACH,IAAI,EAAE;QACtBC,YAAY,EAAED,IAAI;QAClBI,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,CAAC;QACbC,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;IAEA,MAAMC,KAAK,GAAGT,aAAa,CAACU,GAAG,CAACR,IAAI,CAAC;IACrCO,KAAK,CAACH,QAAQ,CAAChB,IAAI,CAACS,CAAC,CAAC;IACtBU,KAAK,CAACF,UAAU,IAAIb,MAAM,CAACK,CAAC,CAACY,UAAU,IAAI,CAAC,CAAC;IAC7CF,KAAK,CAACD,SAAS,IAAId,MAAM,CAACK,CAAC,CAACzJ,OAAO,IAAI,CAAC,CAAC;EAC3C,CAAC,CAAC;EAEF,MAAMsK,oBAAoB,GAAGC,KAAK,CAACC,IAAI,CAACd,aAAa,CAACe,MAAM,CAAC,CAAC,CAAC,CAC5D/F,GAAG,CAAEyF,KAAK,IAAK;IACd,MAAMO,cAAc,GAAG,CAAC,GAAGP,KAAK,CAACH,QAAQ,CAAC,CAACW,IAAI,CAC7C,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACF,CAAC,CAAC3B,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI6B,IAAI,CAACD,CAAC,CAAC5B,IAAI,IAAI,CAAC,CACxD,CAAC;IACD,MAAM8B,IAAI,GAAGL,cAAc,CAACA,cAAc,CAACM,MAAM,GAAG,CAAC,CAAC;IACtD,MAAMC,aAAa,GAAG7B,MAAM,CAAC,CAAA2B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,OAAO,KAAI,CAAC,CAAC;IAEhD,OAAO;MACL,GAAGf,KAAK;MACRH,QAAQ,EAAEU,cAAc;MACxBS,YAAY,EAAEF;IAChB,CAAC;EACH,CAAC,CAAC,CACDG,MAAM,CAAEjB,KAAK,IAAKA,KAAK,CAACgB,YAAY,GAAG,CAAC,CAAC,CACzCR,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACM,YAAY,GAAGP,CAAC,CAACO,YAAY,CAAC;EAElD,MAAME,gBAAgB,GACpBf,oBAAoB,CAACgB,IAAI,CACtBC,CAAC,IAAKA,CAAC,CAAC1B,YAAY,KAAK1C,oBAC5B,CAAC,IAAI,IAAI;EAEX,MAAMqE,eAAe,GAAG,IAAI7B,GAAG,CAAC,CAAC;EAEjC,CAACjC,SAAS,IAAI,EAAE,EAAEmB,OAAO,CAAE4C,EAAE,IAAK;IAChC,MAAM7B,IAAI,GAAG6B,EAAE,CAACvC,WAAW,IAAI,EAAE;IACjC,MAAMwC,KAAK,GAAGtC,MAAM,CAACqC,EAAE,CAACtC,SAAS,IAAIsC,EAAE,CAACC,KAAK,IAAI,CAAC,CAAC;IACnD,IAAI,CAAC9B,IAAI,IAAI,CAAC8B,KAAK,EAAE;IAErB,MAAMC,GAAG,GAAG,GAAG/B,IAAI,KAAK8B,KAAK,EAAE;IAC/B,IAAI,CAACF,eAAe,CAAC1B,GAAG,CAAC6B,GAAG,CAAC,EAAE;MAC7BH,eAAe,CAACzB,GAAG,CAAC4B,GAAG,EAAE;QACvBzC,WAAW,EAAEU,IAAI;QACjBT,SAAS,EAAEuC,KAAK;QAChBE,SAAS,EAAE,CAAC;QACZC,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;IACA,MAAMC,GAAG,GAAGN,eAAe,CAACpB,GAAG,CAACuB,GAAG,CAAC;IAEpC,MAAMpC,GAAG,GAAGH,MAAM,CAACqC,EAAE,CAACnC,SAAS,IAAImC,EAAE,CAAClC,GAAG,IAAIkC,EAAE,CAACM,IAAI,IAAI,CAAC,CAAC;IAE1D,IAAIN,EAAE,CAAC5E,IAAI,KAAK,UAAU,EAAE;MAC1BiF,GAAG,CAACF,SAAS,IAAII,IAAI,CAACC,GAAG,CAAC1C,GAAG,CAAC;IAChC,CAAC,MAAM,IAAIkC,EAAE,CAAC5E,IAAI,KAAK,MAAM,EAAE;MAC7BiF,GAAG,CAACD,IAAI,IAAIG,IAAI,CAACC,GAAG,CAAC1C,GAAG,CAAC;IAC3B;EACF,CAAC,CAAC;EAEF,MAAM2C,gBAAgB,GAAG3B,KAAK,CAACC,IAAI,CAACgB,eAAe,CAACf,MAAM,CAAC,CAAC,CAAC,CAC1D/F,GAAG,CAAEyH,CAAC,KAAM;IACX,GAAGA,CAAC;IACJC,SAAS,EAAED,CAAC,CAACP,SAAS,GAAGO,CAAC,CAACN;EAC7B,CAAC,CAAC,CAAC,CACFlB,IAAI,CACH,CAACC,CAAC,EAAEC,CAAC,KACHD,CAAC,CAAC1B,WAAW,CAACmD,aAAa,CAACxB,CAAC,CAAC3B,WAAW,CAAC,IAC1C0B,CAAC,CAACzB,SAAS,GAAG0B,CAAC,CAAC1B,SACpB,CAAC;EAEH,MAAMmD,aAAa,GACjBJ,gBAAgB,CAAClB,MAAM,KAAK,CAAC,GACzB,CAAC,GACDgB,IAAI,CAACO,GAAG,CACR,GAAGL,gBAAgB,CAACxH,GAAG,CAAEyH,CAAC,IACxBH,IAAI,CAACO,GAAG,CAACJ,CAAC,CAACP,SAAS,EAAEO,CAAC,CAACN,IAAI,EAAEM,CAAC,CAACC,SAAS,CAC3C,CAAC,EACD,CACF,CAAC;EAEL,MAAMI,gBAAgB,GAAG,IAAI7C,GAAG,CAAC,CAAC;EAClCuC,gBAAgB,CAACrD,OAAO,CAAEsD,CAAC,IAAK;IAC9B,IAAI,CAACK,gBAAgB,CAAC1C,GAAG,CAACqC,CAAC,CAACjD,WAAW,CAAC,EAAE;MACxCsD,gBAAgB,CAACzC,GAAG,CAACoC,CAAC,CAACjD,WAAW,EAAE;QAClCA,WAAW,EAAEiD,CAAC,CAACjD,WAAW;QAC1B0C,SAAS,EAAE,CAAC;QACZC,IAAI,EAAE,CAAC;QACPO,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;IACA,MAAMjC,KAAK,GAAGqC,gBAAgB,CAACpC,GAAG,CAAC+B,CAAC,CAACjD,WAAW,CAAC;IACjDiB,KAAK,CAACyB,SAAS,IAAIO,CAAC,CAACP,SAAS;IAC9BzB,KAAK,CAAC0B,IAAI,IAAIM,CAAC,CAACN,IAAI;IACpB1B,KAAK,CAACiC,SAAS,IAAID,CAAC,CAACC,SAAS;EAChC,CAAC,CAAC;EAEF,MAAMK,aAAa,GAAGlC,KAAK,CAACC,IAAI,CAACgC,gBAAgB,CAAC/B,MAAM,CAAC,CAAC,CAAC,CAACE,IAAI,CAC9D,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACuB,SAAS,GAAGxB,CAAC,CAACwB,SAC5B,CAAC;EAED,MAAMM,eAAe,GACnBD,aAAa,CAACzB,MAAM,KAAK,CAAC,GACtB,CAAC,GACDgB,IAAI,CAACO,GAAG,CACR,GAAGE,aAAa,CAAC/H,GAAG,CAAEgB,CAAC,IACrBsG,IAAI,CAACO,GAAG,CAAC7G,CAAC,CAACkG,SAAS,EAAElG,CAAC,CAACmG,IAAI,EAAEnG,CAAC,CAAC0G,SAAS,CAC3C,CAAC,EACD,CACF,CAAC;EAEL,MAAMO,kBAAkB,GAAGF,aAAa,CAACG,MAAM,CAC7C,CAACC,GAAG,EAAEnH,CAAC,KAAKmH,GAAG,GAAGb,IAAI,CAACO,GAAG,CAAC7G,CAAC,CAAC0G,SAAS,EAAE,CAAC,CAAC,EAC1C,CACF,CAAC;EAED,MAAMU,oBAAoB,GAAGL,aAAa,CAACrB,MAAM,CAC9C1F,CAAC,IAAKA,CAAC,CAAC0G,SAAS,GAAG,CACvB,CAAC,CAACpB,MAAM;EAER,MAAM+B,aAAa,GAAGN,aAAa,CAACrB,MAAM,CACvC1F,CAAC,IAAKA,CAAC,CAAC0G,SAAS,GAAG,CAAC,IAAI1G,CAAC,CAAC0G,SAAS,IAAI,EAC3C,CAAC,CAACpB,MAAM;EAER,MAAMgC,kBAAkB,GAAGP,aAAa,CAACQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAEpD,SAASC,qBAAqBA,CAACC,MAAM,EAAE;IACrC,IAAI,CAACA,MAAM,EAAE;IAEb,MAAMC,QAAQ,GAAGD,MAAM,CAAClE,IAAI,GACxB,IAAI6B,IAAI,CAACqC,MAAM,CAAClE,IAAI,CAAC,CAACoE,cAAc,CAAC,CAAC,GACtC,IAAIvC,IAAI,CAAC,CAAC,CAACuC,cAAc,CAAC,CAAC;IAE/B,MAAMC,KAAK,GAAGH,MAAM,CAAC/M,QAAQ,IAAI+M,MAAM,CAACrE,KAAK,IAAI,EAAE;IACnD,MAAMyE,aAAa,GAAGnE,MAAM,CAAC+D,MAAM,CAACI,aAAa,IAAI,CAAC,CAAC;IACvD,MAAMrN,eAAe,GAAGkJ,MAAM,CAAC+D,MAAM,CAACjN,eAAe,IAAI,CAAC,CAAC;IAC3D,MAAMmK,UAAU,GAAGjB,MAAM,CAAC+D,MAAM,CAAC9C,UAAU,IAAI,CAAC,CAAC;IACjD,MAAMrK,OAAO,GAAGoJ,MAAM,CAAC+D,MAAM,CAACnN,OAAO,IAAI,CAAC,CAAC;IAC3C,MAAMC,SAAS,GAAGmJ,MAAM,CAAC+D,MAAM,CAACjC,OAAO,IAAI,CAAC,CAAC;IAE7C,MAAMsC,IAAI,GAAG;AACjB;AACA,kBAAkBjG,OAAO;AACzB;AACA,uBAAuB4F,MAAM,CAACtD,YAAY,IAAI,EAAE;AAChD,8BAA8BuD,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAUE,KAAK,CACN5I,GAAG,CACF,CAAC+I,EAAE,EAAEC,CAAC,KAAK;AACrB;AACA,kBAAkBA,CAAC,GAAG,CAAC;AACvB,kBAAkBD,EAAE,CAACvE,WAAW,IAAI,EAAE;AACtC,kBAAkBuE,EAAE,CAACjE,QAAQ,IAAIiE,EAAE,CAAClE,GAAG,IAAI,CAAC;AAC5C,kBAAkBkE,EAAE,CAACpE,MAAM,IAAI,CAAC;AAChC,kBAAkBoE,EAAE,CAACE,UAAU,IAAIF,EAAE,CAACG,KAAK,IAAI,CAAC;AAChD,kBAAkBxE,MAAM,CACZqE,EAAE,CAACI,SAAS,IACZzE,MAAM,CAACqE,EAAE,CAACjE,QAAQ,IAAIiE,EAAE,CAAClE,GAAG,IAAI,CAAC,CAAC,GAElCH,MAAM,CAACqE,EAAE,CAACE,UAAU,IAAIF,EAAE,CAACG,KAAK,IAAI,CAAC,CACvC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC;AACtB,gBACQ,CAAC,CACAC,IAAI,CAAC,EAAE,CAAC;AACjB;AACA,4BAA4BR,aAAa,CAACO,OAAO,CAAC,CAAC,CAAC;AACpD,+BAA+B5N,eAAe,CAAC4N,OAAO,CAAC,CAAC,CAAC;AACzD,0BAA0BzD,UAAU,CAACyD,OAAO,CAAC,CAAC,CAAC;AAC/C,mBAAmB9N,OAAO,CAAC8N,OAAO,CAAC,CAAC,CAAC;AACrC,wBAAwB7N,SAAS,CAAC6N,OAAO,CAAC,CAAC,CAAC;AAC5C;AACA,KAAK;IAED,MAAME,CAAC,GAAG1L,MAAM,CAAC2L,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;IACnCD,CAAC,CAACE,QAAQ,CAACC,KAAK,CAACX,IAAI,CAAC;IACtBQ,CAAC,CAACE,QAAQ,CAACE,KAAK,CAAC,CAAC;IAClBC,UAAU,CAAC,MAAML,CAAC,CAACM,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;EAClC;EAEA,eAAeC,uBAAuBA,CAACC,EAAE,EAAE;IACzC,IAAI,CAAClM,MAAM,CAACmM,OAAO,CAAC,mBAAmB,CAAC,EAAE;IAC1C,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAmCuI,EAAE,EAAE,EAAE;QAC/DtI,MAAM,EAAE;MACV,CAAC,CAAC;MACF,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,uBAAuB,CAAC;QAC3C;MACF;MACAhB,QAAQ,CAAEyH,IAAI,IAAKA,IAAI,CAACvD,MAAM,CAAE3B,CAAC,IAAKA,CAAC,CAAC+E,EAAE,KAAKA,EAAE,CAAC,CAAC;IACrD,CAAC,CAAC,OAAOpK,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF;EAEA,oBACEjP,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAS;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGrE1D,OAAA;MAAK+D,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACxChE,OAAA;QACEiE,OAAO,EAAEA,CAAA,KAAMuD,YAAY,CAAC,WAAW,CAAE;QACzCzD,SAAS,EACP,4BAA4B,IAC3BwD,SAAS,KAAK,WAAW,GACtB,uBAAuB,GACvB,8BAA8B,CACnC;QAAAvD,QAAA,EACF;MAED;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT1D,OAAA;QACEiE,OAAO,EAAEA,CAAA,KAAMuD,YAAY,CAAC,OAAO,CAAE;QACrCzD,SAAS,EACP,4BAA4B,IAC3BwD,SAAS,KAAK,OAAO,GAClB,uBAAuB,GACvB,8BAA8B,CACnC;QAAAvD,QAAA,EACF;MAED;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAET1D,OAAA;QACEiE,OAAO,EAAEA,CAAA,KAAM;UACb,IAAIsD,SAAS,KAAK,WAAW,EAAE;YAC7BgB,SAAS,CAAC,CAAC;UACb,CAAC,MAAM,IAAIhB,SAAS,KAAK,OAAO,EAAE;YAChCiB,aAAa,CAAC,CAAC;UACjB;QACF,CAAE;QACFzE,SAAS,EAAC,wEAAwE;QAAAC,QAAA,EACnF;MAED;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAEL6D,SAAS,KAAK,WAAW,IAAIK,OAAO,iBACnC5H,OAAA;MAAG+D,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAc;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC5D,EACA6D,SAAS,KAAK,WAAW,IAAIpB,GAAG,iBAC/BnG,OAAA;MAAG+D,SAAS,EAAC,2BAA2B;MAAAC,QAAA,EAAEmC;IAAG;MAAA5C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAClD,EAEA6D,SAAS,KAAK,OAAO,IAAIY,YAAY,iBACpCnI,OAAA;MAAG+D,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAc;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC5D,EACA6D,SAAS,KAAK,OAAO,IAAIc,QAAQ,iBAChCrI,OAAA;MAAG+D,SAAS,EAAC,2BAA2B;MAAAC,QAAA,EAAEqE;IAAQ;MAAA9E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CACvD,EAGA6D,SAAS,KAAK,WAAW,iBACxBvH,OAAA;MAAK+D,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAEpDhE,OAAA;QAAK+D,SAAS,EAAC,2DAA2D;QAAAC,QAAA,gBACxEhE,OAAA;UAAI+D,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAE3C;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEJmH,oBAAoB,CAACU,MAAM,KAAK,CAAC,gBAChCvL,OAAA;UAAG+D,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAErC;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEJ1D,OAAA;UAAK+D,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9BhE,OAAA;YAAO+D,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBAC1ChE,OAAA;cAAO+D,SAAS,EAAC,aAAa;cAAAC,QAAA,eAC5BhE,OAAA;gBAAAgE,QAAA,gBACEhE,OAAA;kBAAI+D,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAAC;gBAAQ;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC7D1D,OAAA;kBAAI+D,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAAC;gBAAO;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3D;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACR1D,OAAA;cAAAgE,QAAA,EACG6G,oBAAoB,CAAC5F,GAAG,CAAE6G,CAAC,iBAC1B9L,OAAA;gBAEE+D,SAAS,EACP,0BAA0B,IACzB+H,CAAC,CAAC1B,YAAY,KAAK1C,oBAAoB,GACpC,WAAW,GACX,EAAE,CACP;gBACDzD,OAAO,EAAEA,CAAA,KAAM0D,uBAAuB,CAACmE,CAAC,CAAC1B,YAAY,CAAE;gBAAApG,QAAA,gBAEvDhE,OAAA;kBAAI+D,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAE8H,CAAC,CAAC1B;gBAAY;kBAAA7G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC3D1D,OAAA;kBAAI+D,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAC7C8H,CAAC,CAACJ,YAAY,CAAC2C,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxB,CAAC;cAAA,GAZAoI,CAAC,CAAC1B,YAAY;gBAAA7G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAajB,CACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGN1D,OAAA;QAAK+D,SAAS,EAAC,2DAA2D;QAAAC,QAAA,EACvE,CAAC4H,gBAAgB,gBAChB5L,OAAA;UAAG+D,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAGrC;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEJ1D,OAAA,CAAAE,SAAA;UAAA8D,QAAA,gBACEhE,OAAA;YAAK+D,SAAS,EAAC,2DAA2D;YAAAC,QAAA,gBACxEhE,OAAA;cAAK+D,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BhE,OAAA;gBAAK+D,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAC3B4H,gBAAgB,CAACxB;cAAY;gBAAA7G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,gBACvB,EAAC,GAAG,eAClBhE,OAAA;kBAAAgE,QAAA,EACG4H,gBAAgB,CAACF,YAAY,CAAC2C,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN1D,OAAA;cAAK+D,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChChE,OAAA;gBAAAgE,QAAA,GAAK,cACS,EAAC,GAAG,eAChBhE,OAAA;kBAAAgE,QAAA,EACG4H,gBAAgB,CAACpB,UAAU,CAAC6D,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACN1D,OAAA;gBAAAgE,QAAA,GAAK,aACQ,EAAC,GAAG,eACfhE,OAAA;kBAAAgE,QAAA,EACG4H,gBAAgB,CAACnB,SAAS,CAAC4D,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAELkI,gBAAgB,CAACrB,QAAQ,CAACtF,GAAG,CAAEkK,GAAG,iBACjCnP,OAAA;YAEE+D,SAAS,EAAC,iDAAiD;YAAAC,QAAA,gBAE3DhE,OAAA;cAAK+D,SAAS,EAAC,mDAAmD;cAAAC,QAAA,gBAChEhE,OAAA;gBAAK+D,SAAS,EAAC,cAAc;gBAAAC,QAAA,gBAC3BhE,OAAA;kBAAM+D,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAM;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,EAC5CyL,GAAG,CAAC3F,IAAI;cAAA;gBAAAjG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnChE,OAAA;kBAAAgE,QAAA,gBAAMhE,OAAA;oBAAM+D,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAO;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,EAACyL,GAAG,CAACvE,UAAU;gBAAA;kBAAArH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC3E1D,OAAA;kBAAAgE,QAAA,EAAM;gBAAC;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd1D,OAAA;kBAAAgE,QAAA,gBAAMhE,OAAA;oBAAM+D,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAM;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,EAACyL,GAAG,CAAC5O,OAAO;gBAAA;kBAAAgD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACvE1D,OAAA;kBAAAgE,QAAA,EAAM;gBAAC;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd1D,OAAA;kBAAAgE,QAAA,gBAAMhE,OAAA;oBAAM+D,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAW;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,EAACyL,GAAG,CAAC1D,OAAO;gBAAA;kBAAAlI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN1D,OAAA;cAAK+D,SAAS,EAAC,iBAAiB;cAAAC,QAAA,eAC9BhE,OAAA;gBAAO+D,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,gBAC1DhE,OAAA;kBAAO+D,SAAS,EAAC,aAAa;kBAAAC,QAAA,eAC5BhE,OAAA;oBAAAgE,QAAA,gBACEhE,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAC;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC3D1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAO;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACjE1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAG;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC7D1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAM;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAChE1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAK;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC/D1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAU;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,eACR1D,OAAA;kBAAAgE,QAAA,EACG,CAACmL,GAAG,CAACxO,QAAQ,IAAIwO,GAAG,CAAC9F,KAAK,IAAI,EAAE,EAAEpE,GAAG,CAAC,CAACgB,CAAC,EAAEmJ,GAAG,kBAC5CpP,OAAA;oBAAAgE,QAAA,gBACEhE,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAAEoL,GAAG,GAAG;oBAAC;sBAAA7L,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACjD1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EACjDiC,CAAC,CAACwD;oBAAW;sBAAAlG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACZ,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BiC,CAAC,CAAC8D,QAAQ,IAAI9D,CAAC,CAAC6D;oBAAG;sBAAAvG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClB,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BiC,CAAC,CAAC2D;oBAAM;sBAAArG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACP,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BiC,CAAC,CAACiI,UAAU,IAAIjI,CAAC,CAACkI;oBAAK;sBAAA5K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACtB,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BiC,CAAC,CAACmI;oBAAS;sBAAA7K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACV,CAAC;kBAAA,GAhBE0L,GAAG;oBAAA7L,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAiBR,CACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eAEN1D,OAAA;cAAK+D,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBACpDhE,OAAA;gBACEiE,OAAO,EAAEA,CAAA,KAAMwJ,qBAAqB,CAAC0B,GAAG,CAAE;gBAC1CpL,SAAS,EAAC,oDAAoD;gBAAAC,QAAA,EAC/D;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT1D,OAAA;gBACEiE,OAAO,EAAEA,CAAA,KAAM6K,uBAAuB,CAACK,GAAG,CAACJ,EAAE,CAAE;gBAC/ChL,SAAS,EAAC,iDAAiD;gBAAAC,QAAA,EAC5D;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA,GAnEDyL,GAAG,CAACJ,EAAE;YAAAxL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAoER,CACN,CAAC;QAAA,eACF;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGA6D,SAAS,KAAK,OAAO,iBACpBvH,OAAA;MAAK+D,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1DhE,OAAA;QAAK+D,SAAS,EAAC,gDAAgD;QAAAC,QAAA,gBAC7DhE,OAAA;UAAI+D,SAAS,EAAC,sCAAsC;UAAAC,QAAA,EAAC;QAAa;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvE1D,OAAA;UACEiE,OAAO,EAAEuE,aAAc;UACvBzE,SAAS,EAAC,8DAA8D;UAAAC,QAAA,EACzE;QAED;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELyE,YAAY,iBACXnI,OAAA;QAAG+D,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAc;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAC5D,EACA2E,QAAQ,iBACPrI,OAAA;QAAG+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEqE;MAAQ;QAAA9E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CACvD,eAED1D,OAAA;QAAK+D,SAAS,EAAC,oDAAoD;QAAAC,QAAA,gBACjEhE,OAAA;UAAK+D,SAAS,EAAC,uCAAuC;UAAAC,QAAA,gBACpDhE,OAAA;YAAK+D,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAAC;UAEpD;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnCqJ;UAAoB;YAAA9J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN1D,OAAA;UAAK+D,SAAS,EAAC,2CAA2C;UAAAC,QAAA,gBACxDhE,OAAA;YAAK+D,SAAS,EAAC,wCAAwC;YAAAC,QAAA,EAAC;UAExD;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnCkJ;UAAkB;YAAA3J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN1D,OAAA;UAAK+D,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhE,OAAA;YAAK+D,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EAAC;UAEtD;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnCsJ;UAAa;YAAA/J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAEL+I,gBAAgB,CAAClB,MAAM,KAAK,CAAC,gBAC5BvL,OAAA;QAAG+D,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAC;MAErC;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAEJ1D,OAAA,CAAAE,SAAA;QAAA8D,QAAA,eACEhE,OAAA;UAAK+D,SAAS,EAAC,uCAAuC;UAAAC,QAAA,gBACpDhE,OAAA;YAAK+D,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BhE,OAAA;cAAI+D,SAAS,EAAC,4BAA4B;cAAAC,QAAA,EAAC;YAE3C;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL1D,OAAA;cAAO+D,SAAS,EAAC,gCAAgC;cAAAC,QAAA,gBAC/ChE,OAAA;gBAAO+D,SAAS,EAAC,aAAa;gBAAAC,QAAA,eAC5BhE,OAAA;kBAAAgE,QAAA,gBACEhE,OAAA;oBAAI+D,SAAS,EAAC,iCAAiC;oBAAAC,QAAA,EAAC;kBAAO;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC5D1D,OAAA;oBAAI+D,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAAC;kBAAM;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC5D1D,OAAA;oBAAI+D,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAAC;kBAAS;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC/D1D,OAAA;oBAAI+D,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAAC;kBAAI;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC1D1D,OAAA;oBAAI+D,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAAC;kBAAS;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7D;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACR1D,OAAA;gBAAAgE,QAAA,EACGyI,gBAAgB,CAACxH,GAAG,CAAEyH,CAAC,iBACtB1M,OAAA;kBAEE+D,SAAS,EAAC,UAAU;kBAAAC,QAAA,gBAEpBhE,OAAA;oBAAI+D,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,EAAE0I,CAAC,CAACjD;kBAAW;oBAAAlG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC1D1D,OAAA;oBAAI+D,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAAE0I,CAAC,CAAChD;kBAAS;oBAAAnG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACjD1D,OAAA;oBAAI+D,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAAE0I,CAAC,CAACP;kBAAS;oBAAA5I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACjD1D,OAAA;oBAAI+D,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAAE0I,CAAC,CAACN;kBAAI;oBAAA7I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC5C1D,OAAA;oBACE+D,SAAS,EACP,iBAAiB,IAChB2I,CAAC,CAACC,SAAS,GAAG,CAAC,GACZ,4BAA4B,GAC5B,EAAE,CACP;oBAAA3I,QAAA,EAEA0I,CAAC,CAACC;kBAAS;oBAAApJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACV,CAAC;gBAAA,GAhBA,GAAGgJ,CAAC,CAACjD,WAAW,IAAIiD,CAAC,CAAChD,SAAS,EAAE;kBAAAnG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAiBpC,CACL;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAEN1D,OAAA;YAAAgE,QAAA,gBACEhE,OAAA;cAAI+D,SAAS,EAAC,4BAA4B;cAAAC,QAAA,EAAC;YAE3C;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEJ6J,kBAAkB,CAAChC,MAAM,KAAK,CAAC,gBAC9BvL,OAAA;cAAG+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAErC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,gBAEJ1D,OAAA;cAAK+D,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvBuJ,kBAAkB,CAACtI,GAAG,CAAEgB,CAAC,iBACxBjG,OAAA;gBAAAgE,QAAA,gBACEhE,OAAA;kBAAK+D,SAAS,EAAC,+DAA+D;kBAAAC,QAAA,gBAC5EhE,OAAA;oBAAM+D,SAAS,EAAC,UAAU;oBAAAC,QAAA,EAAEiC,CAAC,CAACwD;kBAAW;oBAAAlG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACjD1D,OAAA;oBAAAgE,QAAA,GAAM,aAAW,EAACiC,CAAC,CAAC0G,SAAS;kBAAA;oBAAApJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClC,CAAC,eAEN1D,OAAA;kBAAK+D,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,gBAC3DhE,OAAA;oBACEqP,KAAK,EAAE;sBACLC,KAAK,EACFrJ,CAAC,CAACkG,SAAS,GAAGc,eAAe,GAAI,GAAG,GAAG;oBAC5C,CAAE;oBACFlJ,SAAS,EAAC,aAAa;oBACvBwL,KAAK,EAAE,cAActJ,CAAC,CAACkG,SAAS;kBAAG;oBAAA5I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACpC,CAAC,eACF1D,OAAA;oBACEqP,KAAK,EAAE;sBACLC,KAAK,EACFrJ,CAAC,CAACmG,IAAI,GAAGa,eAAe,GAAI,GAAG,GAAG;oBACvC,CAAE;oBACFlJ,SAAS,EAAC,YAAY;oBACtBwL,KAAK,EAAE,SAAStJ,CAAC,CAACmG,IAAI;kBAAG;oBAAA7I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1B,CAAC,eACF1D,OAAA;oBACEqP,KAAK,EAAE;sBACLC,KAAK,EACF/C,IAAI,CAACO,GAAG,CAAC7G,CAAC,CAAC0G,SAAS,EAAE,CAAC,CAAC,GACvBM,eAAe,GACjB,GAAG,GAAG;oBACV,CAAE;oBACFlJ,SAAS,EAAC,cAAc;oBACxBwL,KAAK,EAAE,cAActJ,CAAC,CAAC0G,SAAS;kBAAG;oBAAApJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACpC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAEN1D,OAAA;kBAAK+D,SAAS,EAAC,+EAA+E;kBAAAC,QAAA,gBAC5FhE,OAAA;oBAAAgE,QAAA,GAAM,aAAW,EAACiC,CAAC,CAACkG,SAAS;kBAAA;oBAAA5I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACrC1D,OAAA;oBAAAgE,QAAA,GAAM,QAAM,EAACiC,CAAC,CAACmG,IAAI;kBAAA;oBAAA7I,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC3B1D,OAAA;oBAAAgE,QAAA,GAAM,aAAW,EAACiC,CAAC,CAAC0G,SAAS;kBAAA;oBAAApJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClC,CAAC;cAAA,GAvCE,YAAYuC,CAAC,CAACwD,WAAW,EAAE;gBAAAlG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAwChC,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN,eAED1D,OAAA;cAAK+D,SAAS,EAAC,qDAAqD;cAAAC,QAAA,gBAClEhE,OAAA;gBAAK+D,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtChE,OAAA;kBAAM+D,SAAS,EAAC;gBAA6C;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EAAC,GAAG,EAAC,WAEvE;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtChE,OAAA;kBAAM+D,SAAS,EAAC;gBAA4C;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EAAC,GAAG,EAAC,MAEtE;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtChE,OAAA;kBAAM+D,SAAS,EAAC;gBAA8C;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EAAC,GAAG,EAAC,WAExE;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,gBACN,CACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC4D,GAAA,CAxrBQnC,SAAS;AAAAqK,GAAA,GAATrK,SAAS;AA0rBlB,SAASC,QAAQA,CAAC;EAAErC;AAAE,CAAC,EAAE;EAAA0M,GAAA;EACvB,MAAM,CAACtF,IAAI,EAAEuF,OAAO,CAAC,GAAG7P,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACkK,QAAQ,EAAE4F,WAAW,CAAC,GAAG9P,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAAC+P,IAAI,EAAEC,OAAO,CAAC,GAAGhQ,QAAQ,CAAC,EAAE,CAAC;EACpCC,SAAS,CAAC,MAAM;IACdgQ,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,YAAYA,CAAA,EAAG;IAC5B,IAAI;MACF,MAAMvJ,GAAG,GAAG,MAAMC,KAAK,CAAC,oCAAoC,CAAC;MAC7D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACR+I,OAAO,CAAC7I,CAAC,CAACrG,QAAQ,IAAI,EAAE,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOgI,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF;EAEA,eAAeoH,GAAGA,CAAA,EAAG;IACnB,IAAI,CAAC5F,IAAI,EAAE,OAAO8E,KAAK,CAAC,oBAAoB,CAAC;IAC7C,IAAI;MACF,MAAM1I,GAAG,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEsD,IAAI;UAAEJ;QAAS,CAAC;MACzC,CAAC,CAAC;MACF,MAAM/C,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACR,MAAMgJ,YAAY,CAAC,CAAC;QACpBJ,OAAO,CAAC,EAAE,CAAC;QACXC,WAAW,CAAC,CAAC,CAAC;MAChB;IACF,CAAC,CAAC,OAAOhH,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CsG,KAAK,CAAC,uBAAuB,CAAC;IAChC;EACF;EAEA,oBACEjP,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAEjB,CAAC,CAAC,UAAU;IAAC;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC3E1D,OAAA;MAAK+D,SAAS,EAAC,kCAAkC;MAAAC,QAAA,eAC/ChE,OAAA;QAAK+D,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDhE,OAAA;UACEmH,WAAW,EAAC,cAAc;UAC1B1C,KAAK,EAAE0F,IAAK;UACZzF,QAAQ,EAAEC,CAAC,IAAI+K,OAAO,CAAC/K,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;UACvCV,SAAS,EAAC;QAAyC;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,eACF1D,OAAA;UACEoH,IAAI,EAAC,QAAQ;UACb3C,KAAK,EAAEsF,QAAS;UAChBrF,QAAQ,EAAEC,CAAC,IAAIgL,WAAW,CAAChG,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,CAAE;UACnDV,SAAS,EAAC;QAAyC;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,eACF1D,OAAA;UACEiE,OAAO,EAAE8L,GAAI;UACbhM,SAAS,EAAC,qFAAqF;UAAAC,QAAA,EAE9FjB,CAAC,CAAC,YAAY;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACN1D,OAAA;MAAK+D,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1DhE,OAAA;QAAI+D,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAAkB;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1D1D,OAAA;QAAO+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBAC1ChE,OAAA;UAAO+D,SAAS,EAAC,aAAa;UAAAC,QAAA,eAC5BhE,OAAA;YAAAgE,QAAA,gBACEhE,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvD1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzD1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAG;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1D,OAAA;UAAAgE,QAAA,EACG4L,IAAI,CAAC3K,GAAG,CAACgB,CAAC,iBACTjG,OAAA;YAAe+D,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACjChE,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEiC,CAAC,CAAC8I;YAAE;cAAAxL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjD1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEiC,CAAC,CAACkE;YAAI;cAAA5G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnD1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEiC,CAAC,CAAC8D;YAAQ;cAAAxG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA,GAHhDuC,CAAC,CAAC8I,EAAE;YAAAxL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIT,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC+L,GAAA,CAxFQrK,QAAQ;AAAA4K,GAAA,GAAR5K,QAAQ;AA0FjB,SAASC,KAAKA,CAAC;EAAEtC;AAAE,CAAC,EAAE;EAAAkN,GAAA;EACpB,MAAM,CAACrP,SAAS,EAAEsP,YAAY,CAAC,GAAGrQ,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACsQ,YAAY,EAAEC,eAAe,CAAC,GAAGvQ,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACwQ,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGzQ,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACuK,YAAY,EAAEmG,eAAe,CAAC,GAAG1Q,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACY,eAAe,EAAE+P,kBAAkB,CAAC,GAAG3Q,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACgO,KAAK,EAAE4C,QAAQ,CAAC,GAAG5Q,QAAQ,CAAC,CACjC;IAAE4J,WAAW,EAAE,EAAE;IAAEM,QAAQ,EAAE,CAAC;IAAEH,MAAM,EAAE,CAAC;IAAEsE,UAAU,EAAE;EAAE,CAAC,CAC3D,CAAC;EACF,MAAM,CAAC3N,OAAO,EAAEmQ,UAAU,CAAC,GAAG7Q,QAAQ,CAAC,CAAC,CAAC;EACzC,MAAM,CAAC8Q,IAAI,EAAEC,OAAO,CAAC,GAAG/Q,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACgR,YAAY,EAAEC,eAAe,CAAC,GAAGjR,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACkR,YAAY,EAAEC,eAAe,CAAC,GAAGnR,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACoR,SAAS,EAAEC,YAAY,CAAC,GAAGrR,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACdqR,aAAa,CAAC,CAAC;IACfrB,YAAY,CAAC,CAAC;IACdvH,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,eAAe4I,aAAaA,CAAA,EAAG;IAC7B,IAAI;MACF,MAAM5K,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC,CAAC;MAC9D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAEoJ,YAAY,CAAClJ,CAAC,CAACpG,SAAS,IAAI,EAAE,CAAC;IAC3C,CAAC,CAAC,OAAO+H,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF;EAEA,eAAemH,YAAYA,CAAA,EAAG;IAC5B,IAAI;MACF,MAAMvJ,GAAG,GAAG,MAAMC,KAAK,CAAC,oCAAoC,CAAC;MAC7D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAEsJ,eAAe,CAACpJ,CAAC,CAACrG,QAAQ,IAAI,EAAE,CAAC;IAC7C,CAAC,CAAC,OAAOgI,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF;EAEA,eAAeJ,SAASA,CAAA,EAAG;IACzB,IAAI;MACF,MAAMhC,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAiC,CAAC;MAC1D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAEgK,eAAe,CAAC9J,CAAC,CAAClG,KAAK,IAAI,EAAE,CAAC;IAC1C,CAAC,CAAC,OAAO6H,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF;EAEA,eAAerI,WAAWA,CAAA,EAAG;IAC3B,MAAM6J,IAAI,GAAGiH,MAAM,CAAC,eAAe,CAAC;IACpC,IAAI,CAACjH,IAAI,EAAE;IACX,MAAMkH,QAAQ,GAAGD,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE;IACzC,MAAMlC,IAAI,GAAGvF,MAAM,CAACyH,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;IAEpD,IAAI;MACF,MAAM7K,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;QAC7DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEsD,IAAI;UAAEkH,QAAQ;UAAE5Q,eAAe,EAAEyO;QAAK,CAAC;MAChE,CAAC,CAAC;MACF,MAAMlI,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACR,MAAMqK,aAAa,CAAC,CAAC;QACrBlC,KAAK,CAAC,gBAAgB,CAAC;MACzB;IACF,CAAC,CAAC,OAAOtG,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CsG,KAAK,CAAC,wBAAwB,CAAC;IACjC;EACF;EAEA,SAASqC,OAAOA,CAAA,EAAG;IACjBb,QAAQ,CAAEvB,IAAI,IAAK,CACjB,GAAGA,IAAI,EACP;MAAEzF,WAAW,EAAE,EAAE;MAAEM,QAAQ,EAAE,CAAC;MAAEH,MAAM,EAAE,CAAC;MAAEsE,UAAU,EAAE;IAAE,CAAC,CAC3D,CAAC;EACJ;EAEA,SAASqD,UAAUA,CAACtD,CAAC,EAAE/B,GAAG,EAAEzH,KAAK,EAAE;IACjC,MAAM+M,IAAI,GAAG,CAAC,GAAG3D,KAAK,CAAC;IACvB2D,IAAI,CAACvD,CAAC,CAAC,CAAC/B,GAAG,CAAC,GAAGzH,KAAK;IACpBgM,QAAQ,CAACe,IAAI,CAAC;EAChB;EAEA,SAASC,gBAAgBA,CAAC1C,EAAE,EAAE;IAC5BuB,qBAAqB,CAACvB,EAAE,CAAC;IACzB,IAAI,CAACA,EAAE,EAAE;MACPyB,kBAAkB,CAAC,CAAC,CAAC;MACrBD,eAAe,CAAC,EAAE,CAAC;MACnB;IACF;IACA,MAAMzE,CAAC,GAAGlL,SAAS,CAACiL,IAAI,CAAE6F,CAAC,IAAKA,CAAC,CAAC3C,EAAE,KAAKA,EAAE,CAAC;IAC5C,IAAIjD,CAAC,EAAE;MACLyE,eAAe,CAACzE,CAAC,CAAC3B,IAAI,CAAC;MACvBqG,kBAAkB,CAAC1E,CAAC,CAAC6F,gBAAgB,IAAI,CAAC,CAAC;IAC7C;EACF;EAEA,eAAeC,SAASA,CAAA,EAAG;IACzB,IAAI;MACF,MAAMrL,GAAG,GAAG,MAAMC,KAAK,CAAC,6CAA6C,EAAE;QACrEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAElG,QAAQ,EAAEkN,KAAK;UAAEpN;QAAgB,CAAC;MAC3D,CAAC,CAAC;MACF,MAAMuG,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B2J,OAAO,CAAC5J,CAAC,CAAC;IACZ,CAAC,CAAC,OAAO2B,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CsG,KAAK,CAAC,6BAA6B,CAAC;IACtC;EACF;EAEA,MAAMnB,aAAa,GACjB6C,IAAI,IAAI,OAAOA,IAAI,CAAC7C,aAAa,KAAK,WAAW,GAC7CnE,MAAM,CAACgH,IAAI,CAAC7C,aAAa,IAAI,CAAC,CAAC,GAC/BD,KAAK,CAACV,MAAM,CACZ,CAACnD,CAAC,EAAEgE,EAAE,KACJhE,CAAC,GACDL,MAAM,CAACqE,EAAE,CAACjE,QAAQ,IAAI,CAAC,CAAC,GACxBJ,MAAM,CAACqE,EAAE,CAACE,UAAU,IAAI,CAAC,CAAC,EAC5B,CACF,CAAC;EAEL,MAAMtD,UAAU,GAAG,CAAC,CAACkD,aAAa,GAAGnE,MAAM,CAAClJ,eAAe,IAAI,CAAC,CAAC,EAAE4N,OAAO,CAAC,CAAC,CAAC;EAC7E,MAAM7N,SAAS,GAAG,CAAC,CAACoK,UAAU,GAAGjB,MAAM,CAACpJ,OAAO,IAAI,CAAC,CAAC,EAAE8N,OAAO,CAAC,CAAC,CAAC;EACjE,MAAMvG,OAAO,GAAG3F,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE;EAEtD,SAASyP,SAASA,CAAA,EAAG;IACnB,MAAM9D,IAAI,GAAG;AACjB;AACA,kBAAkBjG,OAAO;AACzB;AACA,uBAAuBsC,YAAY;AACnC,mBAAmB,IAAIiB,IAAI,CAAC,CAAC,CAACuC,cAAc,CAAC,CAAC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAUC,KAAK,CAAC5I,GAAG,CAAC,CAAC+I,EAAE,EAAEC,CAAC,KACpB;AACN,kBAAkBA,CAAC,GAAG,CAAC;AACvB,kBAAkBD,EAAE,CAACvE,WAAW;AAChC,kBAAkBuE,EAAE,CAACjE,QAAQ;AAC7B,kBAAkBiE,EAAE,CAACpE,MAAM;AAC3B,gBACI,CAAC,CAAC0E,IAAI,CAAC,EAAE,CAAC;AACd;AACA,qBAAqB;IACjB,MAAMC,CAAC,GAAG1L,MAAM,CAAC2L,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;IACnCD,CAAC,CAACE,QAAQ,CAACC,KAAK,CAACX,IAAI,CAAC;IACtBQ,CAAC,CAACE,QAAQ,CAACE,KAAK,CAAC,CAAC;IAClBC,UAAU,CAAC,MAAML,CAAC,CAACM,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;EAClC;EAEA,SAASiD,YAAYA,CAACpE,MAAM,EAAE;IAC5B,MAAMC,QAAQ,GACZD,MAAM,IAAIA,MAAM,CAAClE,IAAI,GACjB,IAAI6B,IAAI,CAACqC,MAAM,CAAClE,IAAI,CAAC,CAACoE,cAAc,CAAC,CAAC,GACtC,IAAIvC,IAAI,CAAC,CAAC,CAACuC,cAAc,CAAC,CAAC;IAEjC,MAAMG,IAAI,GAAG;AACjB;AACA,kBAAkBjG,OAAO;AACzB;AACA,uBAAuBsC,YAAY;AACnC,8BAA8BuD,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAUE,KAAK,CACN5I,GAAG,CACF,CAAC+I,EAAE,EAAEC,CAAC,KAAK;AACrB;AACA,kBAAkBA,CAAC,GAAG,CAAC;AACvB,kBAAkBD,EAAE,CAACvE,WAAW;AAChC,kBAAkBuE,EAAE,CAACjE,QAAQ;AAC7B,kBAAkBiE,EAAE,CAACpE,MAAM;AAC3B,kBAAkBoE,EAAE,CAACE,UAAU;AAC/B,kBAAkB,CACNvE,MAAM,CAACqE,EAAE,CAACjE,QAAQ,IAAI,CAAC,CAAC,GACxBJ,MAAM,CAACqE,EAAE,CAACE,UAAU,IAAI,CAAC,CAAC,EAC1BG,OAAO,CAAC,CAAC,CAAC;AACtB,gBACQ,CAAC,CACAC,IAAI,CAAC,EAAE,CAAC;AACjB;AACA,4BAA4BR,aAAa,CAACO,OAAO,CAAC,CAAC,CAAC;AACpD,+BAA+B1E,MAAM,CAAClJ,eAAe,IAAI,CAAC,CAAC,CAAC4N,OAAO,CAAC,CAAC,CAAC;AACtE,0BAA0BzD,UAAU,CAACyD,OAAO,CAAC,CAAC,CAAC;AAC/C,mBAAmB1E,MAAM,CAACpJ,OAAO,IAAI,CAAC,CAAC,CAAC8N,OAAO,CAAC,CAAC,CAAC;AAClD,wBAAwB7N,SAAS,CAAC6N,OAAO,CAAC,CAAC,CAAC;AAC5C;AACA,KAAK;IACD,MAAME,CAAC,GAAG1L,MAAM,CAAC2L,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;IACnCD,CAAC,CAACE,QAAQ,CAACC,KAAK,CAACX,IAAI,CAAC;IACtBQ,CAAC,CAACE,QAAQ,CAACE,KAAK,CAAC,CAAC;IAClBC,UAAU,CAAC,MAAML,CAAC,CAACM,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;EAClC;EAEA,eAAekD,YAAYA,CAAA,EAAG;IAC5B,IAAI;MACF,MAAMxL,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;QAC7DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBmL,UAAU,EAAE3B,kBAAkB;UAC9BjG,YAAY;UACZ3J,eAAe;UACfE,QAAQ,EAAEkN,KAAK;UACftN;QACF,CAAC;MACH,CAAC,CAAC;MACF,MAAMyG,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACRmI,KAAK,CACH,uDAAuD,GACvDjI,CAAC,CAAC0G,MAAM,CAACjC,OACX,CAAC;QACD,MAAMlD,SAAS,CAAC,CAAC;QACjB,MAAM4I,aAAa,CAAC,CAAC;QACrBW,YAAY,CAAC9K,CAAC,CAAC0G,MAAM,CAAC;MACxB,CAAC,MAAM;QACLuB,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,qBAAqB,CAAC;MAC3C;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CsG,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF;EAEA,eAAegD,UAAUA,CAAClD,EAAE,EAAE;IAC5B,IAAI,CAAClM,MAAM,CAACmM,OAAO,CAAC,mBAAmB,CAAC,EAAE;IAC1C,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAmCuI,EAAE,EAAE,EAAE;QAC/DtI,MAAM,EAAE;MACV,CAAC,CAAC;MACF,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACR,MAAMyB,SAAS,CAAC,CAAC;MACnB,CAAC,MAAM;QACL0G,KAAK,CAAC,uBAAuB,CAAC;MAChC;IACF,CAAC,CAAC,OAAOtG,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CsG,KAAK,CAAC,uBAAuB,CAAC;IAChC;EACF;EAEA,SAASiD,SAASA,CAACC,KAAK,EAAE;IACxB,MAAMnI,CAAC,GAAG6G,YAAY,CAACsB,KAAK,CAAC;IAC7B,IAAI,CAACnI,CAAC,EAAE;IAERsG,qBAAqB,CAACtG,CAAC,CAACgI,UAAU,IAAI,EAAE,CAAC;IACzCzB,eAAe,CAACvG,CAAC,CAACI,YAAY,IAAI,EAAE,CAAC;IACrCoG,kBAAkB,CAAC7G,MAAM,CAACK,CAAC,CAACvJ,eAAe,IAAI,CAAC,CAAC,CAAC;IAClDiQ,UAAU,CAAC/G,MAAM,CAACK,CAAC,CAACzJ,OAAO,IAAI,CAAC,CAAC,CAAC;IAElC,MAAM6R,aAAa,GAAG,CAACpI,CAAC,CAACrJ,QAAQ,IAAIqJ,CAAC,CAACX,KAAK,IAAI,EAAE,EAAEpE,GAAG,CAAEoN,IAAI;MAAA,IAAAC,IAAA,EAAAC,cAAA,EAAAC,YAAA,EAAAC,KAAA,EAAAC,gBAAA;MAAA,OAAM;QACjEjJ,WAAW,EAAE4I,IAAI,CAAC5I,WAAW,IAAI,EAAE;QACnCM,QAAQ,EAAEJ,MAAM,EAAA2I,IAAA,IAAAC,cAAA,GAACF,IAAI,CAACtI,QAAQ,cAAAwI,cAAA,cAAAA,cAAA,GAAIF,IAAI,CAACvI,GAAG,cAAAwI,IAAA,cAAAA,IAAA,GAAI,CAAC,CAAC;QAChD1I,MAAM,EAAED,MAAM,EAAA6I,YAAA,GAACH,IAAI,CAACzI,MAAM,cAAA4I,YAAA,cAAAA,YAAA,GAAI,CAAC,CAAC;QAChCtE,UAAU,EAAEvE,MAAM,EAAA8I,KAAA,IAAAC,gBAAA,GAACL,IAAI,CAACnE,UAAU,cAAAwE,gBAAA,cAAAA,gBAAA,GAAIL,IAAI,CAAClE,KAAK,cAAAsE,KAAA,cAAAA,KAAA,GAAI,CAAC;MACvD,CAAC;IAAA,CAAC,CAAC;IAEHhC,QAAQ,CACN2B,aAAa,CAAC7G,MAAM,GAChB6G,aAAa,GACb,CAAC;MAAE3I,WAAW,EAAE,EAAE;MAAEM,QAAQ,EAAE,CAAC;MAAEH,MAAM,EAAE,CAAC;MAAEsE,UAAU,EAAE;IAAE,CAAC,CACjE,CAAC;IAED8C,eAAe,CAACmB,KAAK,CAAC;EACxB;EAEA,oBACEnS,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAe;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE3E1D,OAAA;MAAK+D,SAAS,EAAC,qCAAqC;MAAAC,QAAA,gBAClDhE,OAAA;QAAK+D,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDhE,OAAA;UACE+D,SAAS,EAAC,yCAAyC;UACnDU,KAAK,EAAE4L,kBAAmB;UAC1B3L,QAAQ,EAAGC,CAAC,IAAK8M,gBAAgB,CAAC9M,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;UAAAT,QAAA,gBAElDhE,OAAA;YAAQyE,KAAK,EAAC,EAAE;YAAAT,QAAA,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACxC9C,SAAS,CAACqE,GAAG,CAAE6G,CAAC,iBACf9L,OAAA;YAAmByE,KAAK,EAAEqH,CAAC,CAACiD,EAAG;YAAA/K,QAAA,GAC5B8H,CAAC,CAAC3B,IAAI,EAAC,KAAG,EAAC2B,CAAC,CAACuF,QAAQ;UAAA,GADXvF,CAAC,CAACiD,EAAE;YAAAxL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAET,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eACT1D,OAAA;UACEmH,WAAW,EAAC,eAAe;UAC3B1C,KAAK,EAAE2F,YAAa;UACpB1F,QAAQ,EAAGC,CAAC,IAAK4L,eAAe,CAAC5L,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;UACjDV,SAAS,EAAC;QAAyC;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,eACF1D,OAAA;UACEoH,IAAI,EAAC,QAAQ;UACbD,WAAW,EAAC,kBAAkB;UAC9B1C,KAAK,EAAEhE,eAAgB;UACvBiE,QAAQ,EAAGC,CAAC,IAAK6L,kBAAkB,CAAC7G,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,CAAE;UAC5DV,SAAS,EAAC;QAAyC;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QAAK+D,SAAS,EAAC,MAAM;QAAAC,QAAA,eACnBhE,OAAA;UACEiE,OAAO,EAAE3D,WAAY;UACrByD,SAAS,EAAC,mFAAmF;UAAAC,QAAA,EAE5FjB,CAAC,CAAC,aAAa;QAAC;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN1D,OAAA;MAAK+D,SAAS,EAAC,qDAAqD;MAAAC,QAAA,gBAClEhE,OAAA;QAAO+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBAC1ChE,OAAA;UAAO+D,SAAS,EAAC,YAAY;UAAAC,QAAA,eAC3BhE,OAAA;YAAAgE,QAAA,gBACEhE,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtD1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAG;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzD1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAM;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAK;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAU;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1D,OAAA;UAAAgE,QAAA,EACG6J,KAAK,CAAC5I,GAAG,CAAC,CAAC+I,EAAE,EAAEC,CAAC,kBACfjO,OAAA;YAAY+D,SAAS,EAAC,UAAU;YAAAC,QAAA,gBAC9BhE,OAAA;cAAI+D,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEiK,CAAC,GAAG;YAAC;cAAA1K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAChC1D,OAAA;cAAI+D,SAAS,EAAC,KAAK;cAAAC,QAAA,eACjBhE,OAAA;gBACE+D,SAAS,EAAC,gDAAgD;gBAC1DU,KAAK,EAAEuJ,EAAE,CAACvE,WAAY;gBACtB/E,QAAQ,EAAGC,CAAC,IACV4M,UAAU,CAACtD,CAAC,EAAE,aAAa,EAAEtJ,CAAC,CAACE,MAAM,CAACJ,KAAK,CAC5C;gBACDmL,IAAI,EAAC;cAAe;gBAAArM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACL1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,eAC5BhE,OAAA;gBACE+D,SAAS,EAAC,iEAAiE;gBAC3EqD,IAAI,EAAC,QAAQ;gBACb3C,KAAK,EAAEuJ,EAAE,CAACjE,QAAS;gBACnBrF,QAAQ,EAAGC,CAAC,IACV4M,UAAU,CAACtD,CAAC,EAAE,UAAU,EAAEtE,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;cACjD;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACL1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,eAC5BhE,OAAA;gBACE+D,SAAS,EAAC,iEAAiE;gBAC3EqD,IAAI,EAAC,QAAQ;gBACb3C,KAAK,EAAEuJ,EAAE,CAACpE,MAAO;gBACjBlF,QAAQ,EAAGC,CAAC,IACV4M,UAAU,CAACtD,CAAC,EAAE,QAAQ,EAAEtE,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;cAC/C;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACL1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,eAC5BhE,OAAA;gBACE+D,SAAS,EAAC,iEAAiE;gBAC3EqD,IAAI,EAAC,QAAQ;gBACb3C,KAAK,EAAEuJ,EAAE,CAACE,UAAW;gBACrBxJ,QAAQ,EAAGC,CAAC,IACV4M,UAAU,CAACtD,CAAC,EAAE,YAAY,EAAEtE,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;cACnD;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACL1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAC3B,CACC2F,MAAM,CAACqE,EAAE,CAACjE,QAAQ,IAAI,CAAC,CAAC,GACxBJ,MAAM,CAACqE,EAAE,CAACE,UAAU,IAAI,CAAC,CAAC,EAC1BG,OAAO,CAAC,CAAC;YAAC;cAAA9K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA,GA/CEuK,CAAC;YAAA1K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAgDN,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAER1D,OAAA;QAAU+O,EAAE,EAAC,eAAe;QAAA/K,QAAA,EACzBmM,YAAY,CAAClL,GAAG,CAAEgB,CAAC,iBAClBjG,OAAA;UAAmByE,KAAK,EAAEwB,CAAC,CAACkE;QAAK,GAApBlE,CAAC,CAAC8I,EAAE;UAAAxL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAkB,CACpC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM,CAAC,eAEX1D,OAAA;QAAK+D,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDhE,OAAA;UACEiE,OAAO,EAAEqN,OAAQ;UACjBvN,SAAS,EAAC,gFAAgF;UAAAC,QAAA,EAC3F;QAED;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT1D,OAAA;UACEiE,OAAO,EAAE2N,SAAU;UACnB7N,SAAS,EAAC,0FAA0F;UAAAC,QAAA,EACrG;QAED;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAET1D,OAAA;UAAK+D,SAAS,EAAC,2CAA2C;UAAAC,QAAA,gBACxDhE,OAAA;YAAO+D,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAQ;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3C1D,OAAA;YACEoH,IAAI,EAAC,QAAQ;YACb3C,KAAK,EAAElE,OAAQ;YACfmE,QAAQ,EAAGC,CAAC,IAAK+L,UAAU,CAAC/G,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,CAAE;YACpDV,SAAS,EAAC;UAAiE;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5E,CAAC,eACF1D,OAAA;YACEiE,OAAO,EAAE8N,YAAa;YACtBhO,SAAS,EAAC,8FAA8F;YAAAC,QAAA,EAEvGjB,CAAC,CAAC,WAAW;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAEN1D,OAAA;UACEiE,OAAO,EAAE4N,SAAU;UACnB9N,SAAS,EAAC,8FAA8F;UAAAC,QAAA,EACzG;QAED;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAEN1D,OAAA;QAAK+D,SAAS,EAAC,+CAA+C;QAAAC,QAAA,gBAC5DhE,OAAA;UAAAgE,QAAA,GAAK,iBACY,EAAC,GAAG,eACnBhE,OAAA;YAAAgE,QAAA,EAAS8J,aAAa,CAACO,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC,eACN1D,OAAA;UAAAgE,QAAA,GAAK,mBACc,EAAC,GAAG,eACrBhE,OAAA;YAAAgE,QAAA,EAAS2F,MAAM,CAAClJ,eAAe,IAAI,CAAC,CAAC,CAAC4N,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC,eACN1D,OAAA;UAAAgE,QAAA,GAAK,cACS,EAAC,GAAG,eAChBhE,OAAA;YAAAgE,QAAA,EAAS4G,UAAU,CAACyD,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eACN1D,OAAA;UAAAgE,QAAA,GAAK,WACM,EAAC,GAAG,eACbhE,OAAA;YAAAgE,QAAA,EAAS2F,MAAM,CAACpJ,OAAO,IAAI,CAAC,CAAC,CAAC8N,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eACN1D,OAAA;UAAAgE,QAAA,GAAK,YACO,EAAC,GAAG,eACdhE,OAAA;YAAAgE,QAAA,EAASxD,SAAS,CAAC6N,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN1D,OAAA;MAAK+D,SAAS,EAAC,gDAAgD;MAAAC,QAAA,gBAC7DhE,OAAA;QAAI+D,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAAc;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC1EmN,YAAY,CAACtF,MAAM,KAAK,CAAC,gBACxBvL,OAAA;QAAG+D,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAC;MAAsB;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAE/D1D,OAAA;QAAO+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBAC1ChE,OAAA;UAAO+D,SAAS,EAAC,aAAa;UAAAC,QAAA,eAC5BhE,OAAA;YAAAgE,QAAA,gBACEhE,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtD1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAQ;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7D1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAS;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC9D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAW;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjE1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAS;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/D1D,OAAA;cAAI+D,SAAS,EAAC,mCAAmC;cAAAC,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1D,OAAA;UAAAgE,QAAA,EACG6M,YAAY,CAAC5L,GAAG,CAAC,CAAC+E,CAAC,EAAEoF,GAAG,kBACvBpP,OAAA;YAAe+D,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACjChE,OAAA;cAAI+D,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEoL,GAAG,GAAG;YAAC;cAAA7L,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAClC1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEgG,CAAC,CAACI;YAAY;cAAA7G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC3D1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEgG,CAAC,CAACR;YAAI;cAAAjG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnD1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAEgG,CAAC,CAACY;YAAU;cAAArH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAClD1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAEgG,CAAC,CAACzJ;YAAO;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/C1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAEgG,CAAC,CAACyB;YAAO;cAAAlI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/C1D,OAAA;cAAI+D,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC7BhE,OAAA;gBACEiE,OAAO,EAAEA,CAAA,KAAMiO,SAAS,CAAC9C,GAAG,CAAE;gBAC9BrL,SAAS,EAAC,sDAAsD;gBAAAC,QAAA,EACjE;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT1D,OAAA;gBACEiE,OAAO,EAAEA,CAAA,KAAMgO,UAAU,CAACjI,CAAC,CAAC+E,EAAE,CAAE;gBAChChL,SAAS,EAAC,iDAAiD;gBAAAC,QAAA,EAC5D;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC;UAAA,GApBEsG,CAAC,CAAC+E,EAAE;YAAAxL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqBT,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACuM,GAAA,CA/fQ5K,KAAK;AAAAsN,GAAA,GAALtN,KAAK;AAigBd,SAASuN,wBAAwBA,CAAC;EAAE7P;AAAE,CAAC,EAAE;EAAA8P,GAAA;EACvC,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGlT,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACmT,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGpT,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAAC+H,OAAO,EAAEC,UAAU,CAAC,GAAGhI,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsG,GAAG,EAAEC,MAAM,CAAC,GAAGvG,QAAQ,CAAC,EAAE,CAAC;EAElCC,SAAS,CAAC,MAAM;IACdoT,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,mBAAmBA,CAAA,EAAG;IACnC,IAAI;MACFrL,UAAU,CAAC,IAAI,CAAC;MAChBzB,MAAM,CAAC,EAAE,CAAC;MAEV,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,kDAAkD,CAAC;MAC3E,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACT,MAAM,IAAIC,KAAK,CAACC,CAAC,CAACyB,OAAO,IAAI,iCAAiC,CAAC;MACjE;MAEA,MAAMmH,IAAI,GAAG5I,CAAC,CAACnG,SAAS,IAAI,EAAE;MAC9B,MAAMoE,GAAG,GAAG,IAAIiF,GAAG,CAAC,CAAC;MACrB0F,IAAI,CAACxG,OAAO,CAAEnD,CAAC,IAAK;QAClB,MAAMkE,IAAI,GAAGlE,CAAC,CAAC3E,UAAU,IAAI,SAAS;QACtC,IAAI,CAAC2D,GAAG,CAACoF,GAAG,CAACF,IAAI,CAAC,EAAE;UAClBlF,GAAG,CAACqF,GAAG,CAACH,IAAI,EAAE;YACZ7I,UAAU,EAAE6I,IAAI;YAChBuB,YAAY,EAAE,CAAC;YACflB,UAAU,EAAE,CAAC;YACbC,SAAS,EAAE,CAAC;YACZ5J,SAAS,EAAE;UACb,CAAC,CAAC;QACJ;QACA,MAAMsS,CAAC,GAAGlO,GAAG,CAAC0F,GAAG,CAACR,IAAI,CAAC;QACvBgJ,CAAC,CAACzH,YAAY,IAAI/B,MAAM,CAAC1D,CAAC,CAACwF,OAAO,IAAI,CAAC,CAAC;QACxC0H,CAAC,CAAC3I,UAAU,IAAIb,MAAM,CAAC1D,CAAC,CAAC2E,UAAU,IAAI,CAAC,CAAC;QACzCuI,CAAC,CAAC1I,SAAS,IAAId,MAAM,CAAC1D,CAAC,CAAC1F,OAAO,IAAI,CAAC,CAAC;QACrC4S,CAAC,CAACtS,SAAS,CAAC0I,IAAI,CAACtD,CAAC,CAAC;MACrB,CAAC,CAAC;MAEF,MAAMmN,MAAM,GAAGtI,KAAK,CAACC,IAAI,CAAC9F,GAAG,CAAC+F,MAAM,CAAC,CAAC,CAAC,CAACE,IAAI,CAC1C,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACM,YAAY,GAAGP,CAAC,CAACO,YAC/B,CAAC;MAEDqH,iBAAiB,CAACK,MAAM,CAAC;MAEzB,IAAI,CAACJ,kBAAkB,IAAII,MAAM,CAAC7H,MAAM,GAAG,CAAC,EAAE;QAC5C0H,qBAAqB,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC9R,UAAU,CAAC;MAC7C;IACF,CAAC,CAAC,OAAOqD,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChByB,MAAM,CAACzB,CAAC,CAAC8D,OAAO,IAAI,iCAAiC,CAAC;IACxD,CAAC,SAAS;MACRZ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,eAAewL,oBAAoBA,CAACC,QAAQ,EAAE;IAC5C,IAAI,CAACA,QAAQ,EAAE;IACf,IAAI,CAACzQ,MAAM,CAACmM,OAAO,CAAC,8BAA8B,CAAC,EAAE;IAErD,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CACrB,uCAAuC8M,QAAQ,CAACvE,EAAE,EAAE,EACpD;QAAEtI,MAAM,EAAE;MAAS,CACrB,CAAC;MACD,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,qBAAqB,CAAC;QACzC;MACF;MAEA,MAAMyK,mBAAmB,CAAC,CAAC;IAC7B,CAAC,CAAC,OAAOvO,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF;EAEA,MAAMsE,qBAAqB,GACzBT,cAAc,CAACjH,IAAI,CAAE2H,CAAC,IAAKA,CAAC,CAAClS,UAAU,KAAK0R,kBAAkB,CAAC,IAAI,IAAI;EAEzE,MAAMS,eAAe,GAAGX,cAAc,CAAC3F,MAAM,CAC3C,CAACC,GAAG,EAAEoG,CAAC,KAAKpG,GAAG,GAAGoG,CAAC,CAAC9H,YAAY,EAChC,CACF,CAAC;EAED,oBACE1L,OAAA;IAAK+D,SAAS,EAAC,kDAAkD;IAAAC,QAAA,gBAC/DhE,OAAA;MAAK+D,SAAS,EAAC,gDAAgD;MAAAC,QAAA,gBAC7DhE,OAAA;QAAI+D,SAAS,EAAC,wDAAwD;QAAAC,QAAA,EAAC;MAEvE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACL1D,OAAA;QACEiE,OAAO,EAAEiP,mBAAoB;QAC7BnP,SAAS,EAAC,kCAAkC;QAAAC,QAAA,EAC7C;MAED;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELkE,OAAO,iBACN5H,OAAA;MAAG+D,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAyB;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACvE,EACAyC,GAAG,iBAAInG,OAAA;MAAG+D,SAAS,EAAC,2BAA2B;MAAAC,QAAA,EAAEmC;IAAG;MAAA5C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEzDoP,cAAc,CAACvH,MAAM,KAAK,CAAC,gBAC1BvL,OAAA;MAAG+D,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EAAC;IAGrC;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEJ1D,OAAA;MAAK+D,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDhE,OAAA;QAAK+D,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/DhE,OAAA;UAAI+D,SAAS,EAAC,uCAAuC;UAAAC,QAAA,EAAC;QAEtD;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL1D,OAAA;UAAO+D,SAAS,EAAC,0CAA0C;UAAAC,QAAA,gBACzDhE,OAAA;YAAO+D,SAAS,EAAC,aAAa;YAAAC,QAAA,eAC5BhE,OAAA;cAAAgE,QAAA,gBACEhE,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAM;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3D1D,OAAA;gBAAI+D,SAAS,EAAC,kCAAkC;gBAAAC,QAAA,EAAC;cAAO;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACR1D,OAAA;YAAAgE,QAAA,EACG8O,cAAc,CAAC7N,GAAG,CAAEuO,CAAC,iBACpBxT,OAAA;cAEE+D,SAAS,EACP,0BAA0B,IACzByP,CAAC,CAAClS,UAAU,KAAK0R,kBAAkB,GAChC,WAAW,GACX,EAAE,CACP;cACD/O,OAAO,EAAEA,CAAA,KAAMgP,qBAAqB,CAACO,CAAC,CAAClS,UAAU,CAAE;cAAA0C,QAAA,gBAEnDhE,OAAA;gBAAI+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAEwP,CAAC,CAAClS;cAAU;gBAAAiC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACzD1D,OAAA;gBAAI+D,SAAS,EAAC,kCAAkC;gBAAAC,QAAA,EAC7CwP,CAAC,CAAC9H,YAAY,CAAC2C,OAAO,CAAC,CAAC;cAAC;gBAAA9K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC;YAAA,GAZA8P,CAAC,CAAClS,UAAU;cAAAiC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAaf,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAER1D,OAAA;UAAK+D,SAAS,EAAC,4BAA4B;UAAAC,QAAA,gBACzChE,OAAA;YAAAgE,QAAA,EAAQ;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC/B+P,eAAe,CAACpF,OAAO,CAAC,CAAC,CAAC;QAAA;UAAA9K,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN1D,OAAA;QAAK+D,SAAS,EAAC,kDAAkD;QAAAC,QAAA,EAC9D,CAACuP,qBAAqB,gBACrBvT,OAAA;UAAG+D,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAGrC;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEJ1D,OAAA,CAAAE,SAAA;UAAA8D,QAAA,gBACEhE,OAAA;YAAK+D,SAAS,EAAC,sEAAsE;YAAAC,QAAA,gBACnFhE,OAAA;cAAK+D,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BhE,OAAA;gBAAK+D,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAC3BuP,qBAAqB,CAACjS;cAAU;gBAAAiC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,eAAe;gBAAAC,QAAA,GAAC,gBACf,EAAC,GAAG,eAClBhE,OAAA;kBAAAgE,QAAA,EACGuP,qBAAqB,CAAC7H,YAAY,CAAC2C,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN1D,OAAA;cAAK+D,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnChE,OAAA;gBAAAgE,QAAA,GAAK,cACS,EAAC,GAAG,eAChBhE,OAAA;kBAAAgE,QAAA,EACGuP,qBAAqB,CAAC/I,UAAU,CAAC6D,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACN1D,OAAA;gBAAAgE,QAAA,GAAK,aACQ,EAAC,GAAG,eACfhE,OAAA;kBAAAgE,QAAA,EACGuP,qBAAqB,CAAC9I,SAAS,CAAC4D,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAEL6P,qBAAqB,CAAC1S,SAAS,CAACoE,GAAG,CAAEgB,CAAC,IAAK;YAC1C,MAAM4H,KAAK,GAAG5H,CAAC,CAACtF,QAAQ,IAAI,EAAE;YAC9B,oBACEX,OAAA;cAEE+D,SAAS,EAAC,gEAAgE;cAAAC,QAAA,gBAE1EhE,OAAA;gBAAK+D,SAAS,EAAC,mDAAmD;gBAAAC,QAAA,gBAChEhE,OAAA;kBAAK+D,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBAC3BhE,OAAA;oBAAM+D,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAM;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,EAC5CuC,CAAC,CAACuD,IAAI,GACH,IAAI6B,IAAI,CAACpF,CAAC,CAACuD,IAAI,CAAC,CAACoE,cAAc,CAAC,CAAC,GACjC,GAAG;gBAAA;kBAAArK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACN1D,OAAA;kBAAK+D,SAAS,EAAC,sBAAsB;kBAAAC,QAAA,gBACnChE,OAAA;oBAAAgE,QAAA,gBAAMhE,OAAA;sBAAM+D,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAAC;oBAAO;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,EAACuC,CAAC,CAAC2E,UAAU;kBAAA;oBAAArH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACzE1D,OAAA;oBAAAgE,QAAA,EAAM;kBAAC;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACd1D,OAAA;oBAAAgE,QAAA,gBAAMhE,OAAA;sBAAM+D,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAAC;oBAAM;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,EAACuC,CAAC,CAAC1F,OAAO;kBAAA;oBAAAgD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACrE1D,OAAA;oBAAAgE,QAAA,EAAM;kBAAC;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACd1D,OAAA;oBAAAgE,QAAA,gBAAMhE,OAAA;sBAAM+D,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAAC;oBAAW;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,EAACuC,CAAC,CAACwF,OAAO;kBAAA;oBAAAlI,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN1D,OAAA;gBAAO+D,SAAS,EAAC,sDAAsD;gBAAAC,QAAA,gBACrEhE,OAAA;kBAAO+D,SAAS,EAAC,aAAa;kBAAAC,QAAA,eAC5BhE,OAAA;oBAAAgE,QAAA,gBACEhE,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAC;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC3D1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAO;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACjE1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAG;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC7D1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAM;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAChE1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAK;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC/D1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAC;oBAAU;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,eACR1D,OAAA;kBAAAgE,QAAA,EACG6J,KAAK,CAAC5I,GAAG,CAAC,CAAC+I,EAAE,EAAEoB,GAAG,kBACjBpP,OAAA;oBAAAgE,QAAA,gBACEhE,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BoL,GAAG,GAAG;oBAAC;sBAAA7L,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACN,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EACjDgK,EAAE,CAACvE;oBAAW;sBAAAlG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACb,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BgK,EAAE,CAAClE,GAAG,IAAIkE,EAAE,CAACjE;oBAAQ;sBAAAxG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACpB,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BgK,EAAE,CAACpE;oBAAM;sBAAArG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACR,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BgK,EAAE,CAACE,UAAU,IAAIF,EAAE,CAACG;oBAAK;sBAAA5K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACxB,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAC/BgK,EAAE,CAACI;oBAAS;sBAAA7K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACX,CAAC;kBAAA,GAlBE0L,GAAG;oBAAA7L,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAmBR,CACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAER1D,OAAA;gBAAK+D,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,gBACpDhE,OAAA;kBACEiE,OAAO,EAAEA,CAAA,KACPgL,KAAK,CACH,oDACF,CACD;kBACDlL,SAAS,EAAC,iDAAiD;kBAAAC,QAAA,EAC5D;gBAED;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT1D,OAAA;kBACEiE,OAAO,EAAEA,CAAA,KAAMoP,oBAAoB,CAACpN,CAAC,CAAE;kBACvClC,SAAS,EAAC,iDAAiD;kBAAAC,QAAA,EAC5D;gBAED;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA,GAzEDuC,CAAC,CAAC8I,EAAE;cAAAxL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA0EN,CAAC;UAEV,CAAC,CAAC;QAAA,eACF;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACmP,GAAA,CApRQD,wBAAwB;AAAAc,GAAA,GAAxBd,wBAAwB;AAsRjC,SAAStN,SAASA,CAAC;EAAEvC;AAAE,CAAC,EAAE;EAAA4Q,GAAA;EACxB,MAAM,CAACrS,UAAU,EAAEsS,aAAa,CAAC,GAAG/T,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgU,IAAI,EAAEC,OAAO,CAAC,GAAGjU,QAAQ,CAAC,CAC/B;IAAE4J,WAAW,EAAE,EAAE;IAAEK,GAAG,EAAE,CAAC;IAAEF,MAAM,EAAE,CAAC;IAAEsE,UAAU,EAAE;EAAE,CAAC,CACtD,CAAC;EACF,MAAM,CAAC3N,OAAO,EAAEmQ,UAAU,CAAC,GAAG7Q,QAAQ,CAAC,CAAC,CAAC;EACzC,MAAM,CAACkU,IAAI,EAAEC,OAAO,CAAC,GAAGnU,QAAQ,CAAC,MAAM,CAAC;EACxC,MAAM,CAACoU,OAAO,EAAEC,UAAU,CAAC,GAAGrU,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACkR,YAAY,EAAEC,eAAe,CAAC,GAAGnR,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACoR,SAAS,EAAEC,YAAY,CAAC,GAAGrR,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACsU,UAAU,EAAEC,aAAa,CAAC,GAAGvU,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACmT,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGpT,QAAQ,CAAC,EAAE,CAAC;;EAEhE;EACAC,SAAS,CAAC,MAAM;IACduU,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,aAAaA,CAAA,EAAG;IAC7B,IAAI;MACF,MAAM9N,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC,CAAC;MAC9D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACRoN,UAAU,CAAClN,CAAC,CAACnG,SAAS,IAAI,EAAE,CAAC;MAC/B;IACF,CAAC,CAAC,OAAO8H,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF;EAEA,SAAS2L,MAAMA,CAAA,EAAG;IAChBR,OAAO,CAAE5E,IAAI,IAAK,CAChB,GAAGA,IAAI,EACP;MAAEzF,WAAW,EAAE,EAAE;MAAEK,GAAG,EAAE,CAAC;MAAEF,MAAM,EAAE,CAAC;MAAEsE,UAAU,EAAE;IAAE,CAAC,CACtD,CAAC;EACJ;EAEA,SAASqG,SAASA,CAACtG,CAAC,EAAE/B,GAAG,EAAEzH,KAAK,EAAE;IAChC,MAAM0G,CAAC,GAAG,CAAC,GAAG0I,IAAI,CAAC;IACnB1I,CAAC,CAAC8C,CAAC,CAAC,CAAC/B,GAAG,CAAC,GAAGzH,KAAK;IACjBqP,OAAO,CAAC3I,CAAC,CAAC;EACZ;EAEA,MAAMqJ,KAAK,GAAGX,IAAI,CAAC1G,MAAM,CACvB,CAACnD,CAAC,EAAE0C,CAAC,KACH1C,CAAC,GACDL,MAAM,CAAC+C,CAAC,CAAC5C,GAAG,IAAI,CAAC,CAAC,GAClBH,MAAM,CAAC+C,CAAC,CAACwB,UAAU,IAAI,CAAC,CAAC,EAC3B,CACF,CAAC;EACD,MAAM1N,SAAS,GAAG,CAAC,CAACgU,KAAK,GAAG7K,MAAM,CAACpJ,OAAO,IAAI,CAAC,CAAC,EAAE8N,OAAO,CAAC,CAAC,CAAC;EAE5D,eAAeoG,YAAYA,CAAA,EAAG;IAC5B,MAAMC,eAAe,GAAGb,IAAI,CAAC5O,GAAG,CAACyH,CAAC,KAAK;MACrCjD,WAAW,EAAEiD,CAAC,CAACjD,WAAW;MAC1BK,GAAG,EAAEH,MAAM,CAAC+C,CAAC,CAAC5C,GAAG,IAAI,CAAC,CAAC;MACvBF,MAAM,EAAED,MAAM,CAAC+C,CAAC,CAAC9C,MAAM,IAAI,CAAC,CAAC;MAC7BsE,UAAU,EAAEvE,MAAM,CAAC+C,CAAC,CAACwB,UAAU,IAAI,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,MAAMyG,OAAO,GAAG;MACdrT,UAAU;MACVX,QAAQ,EAAE+T,eAAe;MACzBnU,OAAO;MACPgB,aAAa,EAAEwS;IACjB,CAAC;IAED,IAAI;MACF,IAAI/M,CAAC;MACL,IAAI+J,YAAY,KAAK,IAAI,IAAIE,SAAS,EAAE;QACtC;QACA,MAAM1K,GAAG,GAAG,MAAMC,KAAK,CACrB,uCAAuCyK,SAAS,EAAE,EAClD;UACExK,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC8N,OAAO;QAC9B,CACF,CAAC;QACD3N,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;QACpB,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;UACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,2BAA2B,CAAC;UAC/C;QACF;QAEAwG,KAAK,CAAC,kBAAkB,CAAC;MAC3B,CAAC,MAAM;QACL;QACA,MAAM1I,GAAG,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;UACjEC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC8N,OAAO;QAC9B,CAAC,CAAC;QACF3N,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;QACpB,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;UACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,yBAAyB,CAAC;UAC7C;QACF;QACAwG,KAAK,CAAC,gBAAgB,CAAC;MACzB;;MAEA;MACA+B,eAAe,CAAC,IAAI,CAAC;MACrBE,YAAY,CAAC,IAAI,CAAC;MAClB0C,aAAa,CAAC,EAAE,CAAC;MACjBlD,UAAU,CAAC,CAAC,CAAC;MACbsD,OAAO,CAAC,MAAM,CAAC;MACfF,OAAO,CAAC,CAAC;QAAErK,WAAW,EAAE,EAAE;QAAEK,GAAG,EAAE,CAAC;QAAEF,MAAM,EAAE,CAAC;QAAEsE,UAAU,EAAE;MAAE,CAAC,CAAC,CAAC;MAEhE,MAAMmG,aAAa,CAAC,CAAC;IACvB,CAAC,CAAC,OAAO1P,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,uBAAuB,CAAC;IAChC;EACF;EAEA,SAAS2F,YAAYA,CAACzC,KAAK,EAAE;IAC3B,MAAMzF,CAAC,GAAGuH,OAAO,CAAC9B,KAAK,CAAC;IACxB,IAAI,CAACzF,CAAC,EAAE;;IAER;IACAkH,aAAa,CAAClH,CAAC,CAACmI,WAAW,IAAI,EAAE,CAAC;IAClCnE,UAAU,CAAC/G,MAAM,CAAC+C,CAAC,CAACoI,QAAQ,IAAI,CAAC,CAAC,CAAC;IACnCd,OAAO,CAACtH,CAAC,CAACqI,eAAe,IAAI,MAAM,CAAC;IAEpC,MAAMC,YAAY,GAAG,CAACtI,CAAC,CAAC/L,QAAQ,IAAI,EAAE,EAAEsE,GAAG,CAAEgB,CAAC,KAAM;MAClDwD,WAAW,EAAExD,CAAC,CAACwD,WAAW;MAC1BK,GAAG,EAAE7D,CAAC,CAAC6D,GAAG,IAAI7D,CAAC,CAAC8D,QAAQ,IAAI,CAAC;MAC7BH,MAAM,EAAE3D,CAAC,CAAC2D,MAAM,IAAI,CAAC;MACrBsE,UAAU,EAAEjI,CAAC,CAACiI,UAAU,IAAIjI,CAAC,CAACkI,KAAK,IAAI;IACzC,CAAC,CAAC,CAAC;IAEH2F,OAAO,CACLkB,YAAY,CAACzJ,MAAM,GACfyJ,YAAY,GACZ,CAAC;MAAEvL,WAAW,EAAE,EAAE;MAAEK,GAAG,EAAE,CAAC;MAAEF,MAAM,EAAE,CAAC;MAAEsE,UAAU,EAAE;IAAE,CAAC,CAC5D,CAAC;;IAED;IACA8C,eAAe,CAACmB,KAAK,CAAC;IACtBjB,YAAY,CAACxE,CAAC,CAACqC,EAAE,CAAC;EACpB;EAEA,eAAekG,cAAcA,CAAC9C,KAAK,EAAE;IACnC,MAAMzF,CAAC,GAAGuH,OAAO,CAAC9B,KAAK,CAAC;IACxB,IAAI,CAACzF,CAAC,IAAI,CAACA,CAAC,CAACqC,EAAE,EAAE;IACjB,IAAI,CAAClM,MAAM,CAACmM,OAAO,CAAC,uBAAuB,CAAC,EAAE;IAC9C,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CACrB,uCAAuCkG,CAAC,CAACqC,EAAE,EAAE,EAC7C;QAAEtI,MAAM,EAAE;MAAS,CACrB,CAAC;MACD,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,2BAA2B,CAAC;QAC/C;MACF;MAEA,MAAM4L,aAAa,CAAC,CAAC;MACrBpF,KAAK,CAAC,kBAAkB,CAAC;IAC3B,CAAC,CAAC,OAAOtK,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF;;EAEA;EACA,MAAMiG,SAAS,GAAG,IAAIhL,GAAG,CAAC,CAAC;EAE3B,CAAC+J,OAAO,IAAI,EAAE,EAAE7K,OAAO,CAAEsD,CAAC,IAAK;IAC7B,MAAMvC,IAAI,GAAGuC,CAAC,CAACmI,WAAW,IAAI,SAAS;IACvC,IAAI,CAACK,SAAS,CAAC7K,GAAG,CAACF,IAAI,CAAC,EAAE;MACxB+K,SAAS,CAAC5K,GAAG,CAACH,IAAI,EAAE;QAClB7I,UAAU,EAAE6I,IAAI;QAChBK,UAAU,EAAE,CAAC;QACbC,SAAS,EAAE,CAAC;QACZiB,YAAY,EAAE,CAAC;QACf7K,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;IACA,MAAM6J,KAAK,GAAGwK,SAAS,CAACvK,GAAG,CAACR,IAAI,CAAC;IACjCO,KAAK,CAACF,UAAU,IAAIb,MAAM,CAAC+C,CAAC,CAACyI,WAAW,IAAI,CAAC,CAAC;IAC9CzK,KAAK,CAACD,SAAS,IAAId,MAAM,CAAC+C,CAAC,CAACoI,QAAQ,IAAI,CAAC,CAAC;IAC1CpK,KAAK,CAACgB,YAAY,IAAI/B,MAAM,CAAC+C,CAAC,CAACjB,OAAO,IAAI,CAAC,CAAC;IAC5Cf,KAAK,CAAC7J,SAAS,CAAC0I,IAAI,CAACmD,CAAC,CAAC;EACzB,CAAC,CAAC;;EAEF;EACA,MAAMoG,cAAc,GAAGhI,KAAK,CAACC,IAAI,CAACmK,SAAS,CAAClK,MAAM,CAAC,CAAC,CAAC,CAACE,IAAI,CACxD,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACM,YAAY,GAAGP,CAAC,CAACO,YAC/B,CAAC;EAED,MAAM6H,qBAAqB,GACzBT,cAAc,CAACjH,IAAI,CAAE2H,CAAC,IAAKA,CAAC,CAAClS,UAAU,KAAK0R,kBAAkB,CAAC,IAAI,IAAI;;EAEzE;EACA,MAAMoC,gBAAgB,GAAGjB,UAAU,GAC/BF,OAAO,CAACtI,MAAM,CAAEe,CAAC,IAAK;IACtB,IAAI,CAACA,CAAC,CAAClD,IAAI,EAAE,OAAO,KAAK;IACzB,OAAOkD,CAAC,CAAClD,IAAI,CAACgE,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK2G,UAAU;EAC3C,CAAC,CAAC,GACAF,OAAO;EAEX,oBACEjU,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAEjB,CAAC,CAAC,WAAW;IAAC;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAE5E1D,OAAA;MAAK+D,SAAS,EAAC,kCAAkC;MAAAC,QAAA,gBAC/ChE,OAAA;QACEmH,WAAW,EAAEpE,CAAC,CAAC,YAAY,CAAE;QAC7B0B,KAAK,EAAEnD,UAAW;QAClBoD,QAAQ,EAAGC,CAAC,IAAKiP,aAAa,CAACjP,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;QAC/CV,SAAS,EAAC;MAA6C;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC,eAEF1D,OAAA;QAAK+D,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BhE,OAAA;UAAO+D,SAAS,EAAC,2BAA2B;UAAAC,QAAA,gBAC1ChE,OAAA;YAAO+D,SAAS,EAAC,YAAY;YAAAC,QAAA,eAC3BhE,OAAA;cAAAgE,QAAA,gBACEhE,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAC;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtD1D,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAO;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC5D1D,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAG;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACxD1D,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAM;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3D1D,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAK;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC1D1D,OAAA;gBAAI+D,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAAC;cAAK;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACR1D,OAAA;YAAAgE,QAAA,EACG6P,IAAI,CAAC5O,GAAG,CAAC,CAACyH,CAAC,EAAEuB,CAAC,kBACbjO,OAAA;cAAY+D,SAAS,EAAC,UAAU;cAAAC,QAAA,gBAC9BhE,OAAA;gBAAI+D,SAAS,EAAC,KAAK;gBAAAC,QAAA,EAAEiK,CAAC,GAAG;cAAC;gBAAA1K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAChC1D,OAAA;gBAAI+D,SAAS,EAAC,KAAK;gBAAAC,QAAA,eACjBhE,OAAA;kBACE+D,SAAS,EAAC,wCAAwC;kBAClDU,KAAK,EAAEiI,CAAC,CAACjD,WAAY;kBACrB/E,QAAQ,EAAGC,CAAC,IACV4P,SAAS,CAACtG,CAAC,EAAE,aAAa,EAAEtJ,CAAC,CAACE,MAAM,CAACJ,KAAK;gBAC3C;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,KAAK;gBAAAC,QAAA,eACjBhE,OAAA;kBACE+D,SAAS,EAAC,8CAA8C;kBACxDqD,IAAI,EAAC,QAAQ;kBACb3C,KAAK,EAAEiI,CAAC,CAAC5C,GAAI;kBACbpF,QAAQ,EAAGC,CAAC,IACV4P,SAAS,CAACtG,CAAC,EAAE,KAAK,EAAEtE,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;gBAC3C;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,KAAK;gBAAAC,QAAA,eACjBhE,OAAA;kBACE+D,SAAS,EAAC,8CAA8C;kBACxDqD,IAAI,EAAC,QAAQ;kBACb3C,KAAK,EAAEiI,CAAC,CAAC9C,MAAO;kBAChBlF,QAAQ,EAAGC,CAAC,IACV4P,SAAS,CAACtG,CAAC,EAAE,QAAQ,EAAEtE,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;gBAC9C;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,KAAK;gBAAAC,QAAA,eACjBhE,OAAA;kBACE+D,SAAS,EAAC,8CAA8C;kBACxDqD,IAAI,EAAC,QAAQ;kBACb3C,KAAK,EAAEiI,CAAC,CAACwB,UAAW;kBACpBxJ,QAAQ,EAAGC,CAAC,IACV4P,SAAS,CAACtG,CAAC,EAAE,YAAY,EAAEtE,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;gBAClD;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,KAAK;gBAAAC,QAAA,EAChB,CACC2F,MAAM,CAAC+C,CAAC,CAAC5C,GAAG,IAAI,CAAC,CAAC,GAClBH,MAAM,CAAC+C,CAAC,CAACwB,UAAU,IAAI,CAAC,CAAC,EACzBG,OAAO,CAAC,CAAC;cAAC;gBAAA9K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC;YAAA,GA9CEuK,CAAC;cAAA1K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+CN,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAEN1D,OAAA;QAAK+D,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDhE,OAAA;UACEiE,OAAO,EAAEqQ,MAAO;UAChBvQ,SAAS,EAAC,uEAAuE;UAAAC,QAAA,EAClF;QAED;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAET1D,OAAA;UACEyE,KAAK,EAAEsP,IAAK;UACZrP,QAAQ,EAAGC,CAAC,IAAKqP,OAAO,CAACrP,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;UACzCV,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBAEnDhE,OAAA;YAAQyE,KAAK,EAAC,MAAM;YAAAT,QAAA,EAAEjB,CAAC,CAAC,MAAM;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACzC1D,OAAA;YAAQyE,KAAK,EAAC,MAAM;YAAAT,QAAA,EAAEjB,CAAC,CAAC,MAAM;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACzC1D,OAAA;YAAQyE,KAAK,EAAC,QAAQ;YAAAT,QAAA,EAAEjB,CAAC,CAAC,QAAQ;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAC7C1D,OAAA;YAAQyE,KAAK,EAAC,QAAQ;YAAAT,QAAA,EAAEjB,CAAC,CAAC,QAAQ;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eAET1D,OAAA;UAAK+D,SAAS,EAAC,2CAA2C;UAAAC,QAAA,gBACxDhE,OAAA;YAAO+D,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAC;UAAW;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9C1D,OAAA;YACEoH,IAAI,EAAC,QAAQ;YACb3C,KAAK,EAAElE,OAAQ;YACfmE,QAAQ,EAAGC,CAAC,IAAK+L,UAAU,CAAC/G,MAAM,CAAChF,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,CAAE;YACpDV,SAAS,EAAC;UAA8C;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD,CAAC,eACF1D,OAAA;YAAK+D,SAAS,EAAC,sCAAsC;YAAAC,QAAA,GAAC,YAC1C,EAAC,GAAG,eACdhE,OAAA;cAAAgE,QAAA,EAASxD,SAAS,CAAC6N,OAAO,CAAC,CAAC;YAAC;cAAA9K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,eACN1D,OAAA;YACEiE,OAAO,EAAEwQ,YAAa;YACtB1Q,SAAS,EAAC,8FAA8F;YAAAC,QAAA,EAEvG+M,YAAY,KAAK,IAAI,GAAG,iBAAiB,GAAG;UAAe;YAAAxN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN1D,OAAA,CAAC4S,wBAAwB;MAAC7P,CAAC,EAAEA;IAAE;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAGlC1D,OAAA;MAAK+D,SAAS,EAAC,kDAAkD;MAAAC,QAAA,gBAC/DhE,OAAA;QAAK+D,SAAS,EAAC,gDAAgD;QAAAC,QAAA,gBAC7DhE,OAAA;UAAI+D,SAAS,EAAC,iDAAiD;UAAAC,QAAA,EAAC;QAAgB;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrF1D,OAAA;UAAK+D,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtChE,OAAA;YACEoH,IAAI,EAAC,MAAM;YACX3C,KAAK,EAAE0P,UAAW;YAClBzP,QAAQ,EAAGC,CAAC,IAAKyP,aAAa,CAACzP,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;YAC/CV,SAAS,EAAC;UAA4B;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC,eACF1D,OAAA;YACEiE,OAAO,EAAEoQ,aAAc;YACvBtQ,SAAS,EAAC,mDAAmD;YAAAC,QAAA,EAC9D;UAED;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAEL0R,gBAAgB,CAAC7J,MAAM,KAAK,CAAC,gBAC5BvL,OAAA;QAAG+D,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAC;MAA0B;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAEnE1D,OAAA;QAAO+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBAC1ChE,OAAA;UAAO+D,SAAS,EAAC,aAAa;UAAAC,QAAA,eAC5BhE,OAAA;YAAAgE,QAAA,gBACEhE,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtD1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAM;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3D1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzD1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAW;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjE1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7D1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAY;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjE1D,OAAA;cAAI+D,SAAS,EAAC,mCAAmC;cAAAC,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1D,OAAA;UAAAgE,QAAA,EACGoR,gBAAgB,CAACnQ,GAAG,CAAC,CAACyI,MAAM,EAAEyE,KAAK,kBAClCnS,OAAA;YAAoB+D,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACtChE,OAAA;cAAI+D,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEmO,KAAK,GAAG;YAAC;cAAA5O,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpC1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAE0J,MAAM,CAACmH;YAAW;cAAAtR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/D1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAClC0J,MAAM,CAAClE,IAAI,GAAG,IAAI6B,IAAI,CAACqC,MAAM,CAAClE,IAAI,CAAC,CAAC6L,kBAAkB,CAAC,CAAC,GAAG;YAAG;cAAA9R,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7D,CAAC,eACL1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAE2F,MAAM,CAAC+D,MAAM,CAACyH,WAAW,IAAI,CAAC,CAAC,CAAC9G,OAAO,CAAC,CAAC;YAAC;cAAA9K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAChF1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAE2F,MAAM,CAAC+D,MAAM,CAACoH,QAAQ,IAAI,CAAC,CAAC,CAACzG,OAAO,CAAC,CAAC;YAAC;cAAA9K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC7E1D,OAAA;cAAI+D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAE2F,MAAM,CAAC+D,MAAM,CAACjC,OAAO,IAAI,CAAC,CAAC,CAAC4C,OAAO,CAAC,CAAC;YAAC;cAAA9K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC5E1D,OAAA;cAAI+D,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAE0J,MAAM,CAACqH;YAAe;cAAAxR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnE1D,OAAA;cAAI+D,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAC/ChE,OAAA;gBACEiE,OAAO,EAAEA,CAAA,KAAM2Q,YAAY,CAACzC,KAAK,CAAE;gBACnCpO,SAAS,EAAC,sDAAsD;gBAAAC,QAAA,EACjE;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT1D,OAAA;gBACEiE,OAAO,EAAEA,CAAA,KAAMgR,cAAc,CAAC9C,KAAK,CAAE;gBACrCpO,SAAS,EAAC,iDAAiD;gBAAAC,QAAA,EAC5D;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC;UAAA,GAvBEgK,MAAM,CAACqB,EAAE;YAAAxL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAwBd,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACiQ,GAAA,CA5YQrO,SAAS;AAAAgQ,GAAA,GAAThQ,SAAS;AA8YlB,SAASC,OAAOA,CAAC;EAAExC;AAAE,CAAC,EAAE;EAAAwS,GAAA;EACtB,MAAM,CAAC/L,IAAI,EAAEgM,OAAO,CAAC,GAAG3V,QAAQ,CAAC,MAAM,IAAIwL,IAAI,CAAC,CAAC,CAACoK,WAAW,CAAC,CAAC,CAACjI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EAC7E,MAAM,CAACkI,MAAM,EAAEC,SAAS,CAAC,GAAG9V,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAAC+H,OAAO,EAAEC,UAAU,CAAC,GAAGhI,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsG,GAAG,EAAEC,MAAM,CAAC,GAAGvG,QAAQ,CAAC,EAAE,CAAC;EAElC,eAAe+V,UAAUA,CAACjR,CAAC,EAAE;IAC3B,IAAIA,CAAC,IAAIA,CAAC,CAAC2B,cAAc,EAAE3B,CAAC,CAAC2B,cAAc,CAAC,CAAC;IAC7C,IAAI,CAACkD,IAAI,EAAE;MACTyF,KAAK,CAAC,eAAe,CAAC;MACtB;IACF;IACApH,UAAU,CAAC,IAAI,CAAC;IAChBzB,MAAM,CAAC,EAAE,CAAC;IACVuP,SAAS,CAAC,IAAI,CAAC;IACf,IAAI;MACF,MAAMpP,GAAG,GAAG,MAAMC,KAAK,CAAC,8CAA8CgD,IAAI,EAAE,CAAC;MAC7E,MAAMxC,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACC,CAAC,CAACyB,OAAO,IAAI,uBAAuB,CAAC;MAChEkN,SAAS,CAAC3O,CAAC,CAAC;IACd,CAAC,CAAC,OAAOrC,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChByB,MAAM,CAAC,uBAAuB,CAAC;IACjC,CAAC,SAAS;MACRyB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,oBACE7H,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAO;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEnE1D,OAAA;MAAK+D,SAAS,EAAC,kCAAkC;MAAAC,QAAA,eAC/ChE,OAAA;QAAMkH,QAAQ,EAAE0O,UAAW;QAAC7R,SAAS,EAAC,8CAA8C;QAAAC,QAAA,gBAClFhE,OAAA;UAAK+D,SAAS,EAAC,QAAQ;UAAAC,QAAA,gBACrBhE,OAAA;YAAO+D,SAAS,EAAC,gCAAgC;YAAAC,QAAA,EAAC;UAAW;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrE1D,OAAA;YACEoH,IAAI,EAAC,MAAM;YACX3C,KAAK,EAAE+E,IAAK;YACZ9E,QAAQ,EAAEC,CAAC,IAAI6Q,OAAO,CAAC7Q,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;YACvCV,SAAS,EAAC;UAAgD;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACN1D,OAAA;UACEoH,IAAI,EAAC,QAAQ;UACbrD,SAAS,EAAC,0FAA0F;UAAAC,QAAA,EAEnG4D,OAAO,GAAG,UAAU,GAAG;QAAa;UAAArE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,EACRyC,GAAG,iBAAInG,OAAA;UAAM+D,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEmC;QAAG;UAAA5C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,EAEL,CAACgS,MAAM,IAAI,CAAC9N,OAAO,IAAI,CAACzB,GAAG,iBAC1BnG,OAAA;MAAG+D,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EAAC;IAAsD;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC/F,EAEAgS,MAAM,iBACL1V,OAAA,CAAAE,SAAA;MAAA8D,QAAA,gBACEhE,OAAA;QAAK+D,SAAS,EAAC,4CAA4C;QAAAC,QAAA,gBACzDhE,OAAA;UAAK+D,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChE,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAW;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACxD1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnC2F,MAAM,CAAC+L,MAAM,CAACG,UAAU,IAAI,CAAC,CAAC,CAACxH,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN1D,OAAA;UAAK+D,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChE,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5D1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnC2F,MAAM,CAAC+L,MAAM,CAACI,aAAa,IAAI,CAAC,CAAC,CAACzH,OAAO,CAAC,CAAC;UAAC;YAAA9K,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN1D,OAAA;UAAK+D,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChE,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5D1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnC,CAAC0R,MAAM,CAACnL,QAAQ,IAAI,EAAE,EAAEgB;UAAM;YAAAhI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN1D,OAAA;QAAK+D,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/DhE,OAAA;UAAI+D,SAAS,EAAC,oBAAoB;UAAAC,QAAA,GAAC,mBAAiB,EAAC0R,MAAM,CAAClM,IAAI;QAAA;UAAAjG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACrE,CAACgS,MAAM,CAACK,eAAe,IAAI,EAAE,EAAExK,MAAM,KAAK,CAAC,gBAC1CvL,OAAA;UAAG+D,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAA8B;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEvE1D,OAAA;UAAO+D,SAAS,EAAC,kCAAkC;UAAAC,QAAA,gBACjDhE,OAAA;YAAO+D,SAAS,EAAC,aAAa;YAAAC,QAAA,eAC5BhE,OAAA;cAAAgE,QAAA,gBACEhE,OAAA;gBAAI+D,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAO;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACzE1D,OAAA;gBAAI+D,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,EAAC;cAAS;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC5E1D,OAAA;gBAAI+D,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,EAAC;cAAY;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7E;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACR1D,OAAA;YAAAgE,QAAA,EACG0R,MAAM,CAACK,eAAe,CAAC9Q,GAAG,CAAC,CAACgB,CAAC,EAAEgI,CAAC,kBAC/BjO,OAAA;cAAAgE,QAAA,gBACEhE,OAAA;gBAAI+D,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,EAAEiC,CAAC,CAACwD;cAAW;gBAAAlG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACvE1D,OAAA;gBAAI+D,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,EAAEiC,CAAC,CAAC+P;cAAQ;gBAAAzS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC7D1D,OAAA;gBAAI+D,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,EAAEiC,CAAC,CAACgQ;cAAW;gBAAA1S,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA,GAHzDuK,CAAC;cAAA1K,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAIN,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEN1D,OAAA;QAAK+D,SAAS,EAAC,6CAA6C;QAAAC,QAAA,gBAC1DhE,OAAA;UAAI+D,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAC;QAAgB;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACvD,CAACgS,MAAM,CAACnL,QAAQ,IAAI,EAAE,EAAEgB,MAAM,KAAK,CAAC,iBACnCvL,OAAA;UAAG+D,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAyB;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAClE,EACA,CAACgS,MAAM,CAACnL,QAAQ,IAAI,EAAE,EAAEtF,GAAG,CAACkK,GAAG,iBAC9BnP,OAAA;UAAkB+D,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACnDhE,OAAA;YAAK+D,SAAS,EAAC,2DAA2D;YAAAC,QAAA,gBACxEhE,OAAA;cAAK+D,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BhE,OAAA;gBAAM+D,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAU;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAChDyL,GAAG,CAAC/E,YAAY;YAAA;cAAA7G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd,CAAC,eACN1D,OAAA;cAAAgE,QAAA,gBACEhE,OAAA;gBAAM+D,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAM;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC5CyL,GAAG,CAAC3F,IAAI;YAAA;cAAAjG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN1D,OAAA;YAAK+D,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAChDhE,OAAA;cAAAgE,QAAA,GAAK,eAAa,EAACmL,GAAG,CAACvE,UAAU;YAAA;cAAArH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACxC1D,OAAA;cAAAgE,QAAA,GAAK,QAAM,EAACmL,GAAG,CAAC5O,OAAO;YAAA;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9B1D,OAAA;cAAAgE,QAAA,GAAK,YAAU,EAACmL,GAAG,CAAC1D,OAAO;YAAA;cAAAlI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/B,CAAC,eACN1D,OAAA;YAAK+D,SAAS,EAAC,iBAAiB;YAAAC,QAAA,eAC9BhE,OAAA;cAAO+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,gBACjDhE,OAAA;gBAAO+D,SAAS,EAAC,aAAa;gBAAAC,QAAA,eAC5BhE,OAAA;kBAAAgE,QAAA,gBACEhE,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAC;kBAAC;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC3D1D,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAC;kBAAO;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACjE1D,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAC;kBAAG;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC7D1D,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAC;kBAAM;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAChE1D,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAC;kBAAK;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC/D1D,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAC;kBAAU;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACR1D,OAAA;gBAAAgE,QAAA,EACG,CAACmL,GAAG,CAACxO,QAAQ,IAAIwO,GAAG,CAAC9F,KAAK,IAAI,EAAE,EAAEpE,GAAG,CAAC,CAACgB,CAAC,EAAEmJ,GAAG,kBAC5CpP,OAAA;kBAAAgE,QAAA,gBACEhE,OAAA;oBAAI+D,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEoL,GAAG,GAAG;kBAAC;oBAAA7L,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACjD1D,OAAA;oBAAI+D,SAAS,EAAC,sCAAsC;oBAAAC,QAAA,EAAEiC,CAAC,CAACwD;kBAAW;oBAAAlG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACzE1D,OAAA;oBAAI+D,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEiC,CAAC,CAAC8D,QAAQ,IAAI9D,CAAC,CAAC6D;kBAAG;oBAAAvG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC7D1D,OAAA;oBAAI+D,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEiC,CAAC,CAAC2D;kBAAM;oBAAArG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAClD1D,OAAA;oBAAI+D,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEiC,CAAC,CAACiI,UAAU,IAAIjI,CAAC,CAACkI;kBAAK;oBAAA5K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACjE1D,OAAA;oBAAI+D,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAEiC,CAAC,CAACmI;kBAAS;oBAAA7K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA,GAN9C0L,GAAG;kBAAA7L,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAOR,CACL;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA,GAzCEyL,GAAG,CAACJ,EAAE;UAAAxL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA0CX,CACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA,eACN,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC6R,GAAA,CAjKQhQ,OAAO;AAAA2Q,GAAA,GAAP3Q,OAAO;AAmKhB,SAASC,MAAMA,CAAC;EAAEzC;AAAE,CAAC,EAAE;EAAAoT,GAAA;EAAA,IAAAC,qBAAA,EAAAC,aAAA;EACrB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG1W,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC2W,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5W,QAAQ,CAAC,EAAE,CAAC;EAE5D,MAAM,CAACyB,UAAU,EAAEsS,aAAa,CAAC,GAAG/T,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC6W,WAAW,EAAEC,cAAc,CAAC,GAAG9W,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC+W,aAAa,EAAEC,gBAAgB,CAAC,GAAGhX,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACiX,eAAe,EAAEC,kBAAkB,CAAC,GAAGlX,QAAQ,CAAC,IAAI,CAAC;EAE5D,MAAM,CAACmX,MAAM,EAAEC,SAAS,CAAC,GAAGpX,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqX,MAAM,EAAEC,SAAS,CAAC,GAAGtX,QAAQ,CAAC,UAAU,CAAC;EAChD,MAAM,CAACuX,QAAQ,EAAEC,WAAW,CAAC,GAAGxX,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACyX,QAAQ,EAAEC,WAAW,CAAC,GAAG1X,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC2X,SAAS,EAAEC,YAAY,CAAC,GAAG5X,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC6X,MAAM,EAAEC,SAAS,CAAC,GAAG9X,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC+X,WAAW,EAAEC,cAAc,CAAC,GAAGhY,QAAQ,CAAC,IAAI,CAAC;EAEpD,MAAM,CAACiY,cAAc,EAAEC,iBAAiB,CAAC,GAAGlY,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACmY,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpY,QAAQ,CAAC,KAAK,CAAC;EAE/DC,SAAS,CAAC,MAAM;IACdoY,WAAW,CAAC,CAAC;IACbC,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeD,WAAWA,CAAA,EAAG;IAC3B,IAAI;MACF,MAAM3R,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAmC,CAAC;MAC5D,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAEyP,UAAU,CAACvP,CAAC,CAACsP,OAAO,IAAI,EAAE,CAAC;IACvC,CAAC,CAAC,OAAO3N,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD;EACF;EAEA,eAAeyP,UAAUA,CAACC,QAAQ,EAAE;IAClC,IAAI,CAACA,QAAQ,EAAE;MACbpB,SAAS,CAAC,EAAE,CAAC;MACb;IACF;IACA,IAAI;MACF,MAAM1Q,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC6R,QAAQ,SAAS,CAAC;MAC/E,MAAMrR,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAE;QACRmQ,SAAS,CAACjQ,CAAC,CAACgQ,MAAM,IAAI,EAAE,CAAC;QACzBT,UAAU,CAACrH,IAAI,IACbA,IAAI,CAACjK,GAAG,CAACuO,CAAC,IAAKA,CAAC,CAACzE,EAAE,KAAKsJ,QAAQ,GAAGrR,CAAC,CAACsR,MAAM,GAAG9E,CAAE,CAClD,CAAC;MACH;IACF,CAAC,CAAC,OAAO7K,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF;EAEA,eAAewP,kBAAkBA,CAAA,EAAG;IAClC,IAAI;MACFF,mBAAmB,CAAC,IAAI,CAAC;MACzB,MAAM1R,GAAG,GAAG,MAAMC,KAAK,CAAC,kDAAkD,CAAC;MAC3E,MAAMQ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAID,CAAC,CAACF,EAAE,EAAEiR,iBAAiB,CAAC/Q,CAAC,CAACnG,SAAS,IAAI,EAAE,CAAC;IAChD,CAAC,CAAC,OAAO8H,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,SAAS;MACRsP,mBAAmB,CAAC,KAAK,CAAC;IAC5B;EACF;EAEA,SAASM,cAAcA,CAACxJ,EAAE,EAAE;IAC1B0H,mBAAmB,CAAC1H,EAAE,CAAC;IACvB8I,cAAc,CAAC,IAAI,CAAC;IACpBW,WAAW,CAAC,CAAC;IACb,IAAIzJ,EAAE,EAAEqJ,UAAU,CAACrJ,EAAE,CAAC,CAAC,KAClBkI,SAAS,CAAC,EAAE,CAAC;EACpB;EAEA,SAASwB,cAAcA,CAAA,EAAG;IACxB7E,aAAa,CAAC,EAAE,CAAC;IACjB+C,cAAc,CAAC,EAAE,CAAC;IAClBE,gBAAgB,CAAC,EAAE,CAAC;IACpBE,kBAAkB,CAAC,IAAI,CAAC;EAC1B;EAEA,SAAS2B,eAAeA,CAACJ,MAAM,EAAE;IAC/B1E,aAAa,CAAC0E,MAAM,CAACnO,IAAI,IAAI,EAAE,CAAC;IAChCwM,cAAc,CAAC2B,MAAM,CAACK,KAAK,IAAI,EAAE,CAAC;IAClC9B,gBAAgB,CAACyB,MAAM,CAACM,OAAO,IAAI,EAAE,CAAC;IACtC7B,kBAAkB,CAACuB,MAAM,CAACvJ,EAAE,CAAC;EAC/B;EAEA,eAAe8J,UAAUA,CAAA,EAAG;IAC1B,IAAI,CAACvX,UAAU,EAAE;MACf2N,KAAK,CAAC,yBAAyB,CAAC;MAChC;IACF;IAEA,MAAM0F,OAAO,GAAG;MACd5F,EAAE,EAAE+H,eAAe,IAAIgC,SAAS;MAChC3O,IAAI,EAAE7I,UAAU;MAChBqX,KAAK,EAAEjC,WAAW;MAClBkC,OAAO,EAAEhC;IACX,CAAC;IAED,IAAI;MACF,MAAMrQ,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAmC,EAAE;QAC3DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC8N,OAAO;MAC9B,CAAC,CAAC;MACF,MAAM3N,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,uBAAuB,CAAC;QAC3C;MACF;MAEA,MAAM+K,CAAC,GAAGxM,CAAC,CAACsR,MAAM;MAClB/B,UAAU,CAACrH,IAAI,IAAI;QACjB,MAAME,GAAG,GAAGF,IAAI,CAAC6J,SAAS,CAACrH,CAAC,IAAIA,CAAC,CAAC3C,EAAE,KAAKyE,CAAC,CAACzE,EAAE,CAAC;QAC9C,IAAIK,GAAG,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,GAAGF,IAAI,EAAEsE,CAAC,CAAC;QACnC,MAAMhC,IAAI,GAAG,CAAC,GAAGtC,IAAI,CAAC;QACtBsC,IAAI,CAACpC,GAAG,CAAC,GAAGoE,CAAC;QACb,OAAOhC,IAAI;MACb,CAAC,CAAC;MAEFoC,aAAa,CAAC,EAAE,CAAC;MACjB+C,cAAc,CAAC,EAAE,CAAC;MAClBE,gBAAgB,CAAC,EAAE,CAAC;MACpBE,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOpO,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACpBsG,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF;EAEA,eAAe+J,YAAYA,CAACV,MAAM,EAAE;IAClC,IAAI,CAACzV,MAAM,CAACmM,OAAO,CAAC,kBAAkBsJ,MAAM,CAACnO,IAAI,uBAAuB,CAAC,EAAE;IAC3E,IAAI;MACF,MAAM5D,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC8R,MAAM,CAACvJ,EAAE,EAAE,EAAE;QACxEtI,MAAM,EAAE;MACV,CAAC,CAAC;MACF,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,yBAAyB,CAAC;QAC7C;MACF;MACA8N,UAAU,CAACrH,IAAI,IAAIA,IAAI,CAACvD,MAAM,CAAC6H,CAAC,IAAIA,CAAC,CAACzE,EAAE,KAAKuJ,MAAM,CAACvJ,EAAE,CAAC,CAAC;MACxD,IAAIyH,gBAAgB,KAAK8B,MAAM,CAACvJ,EAAE,EAAE;QAClC0H,mBAAmB,CAAC,EAAE,CAAC;QACvBQ,SAAS,CAAC,EAAE,CAAC;MACf;IACF,CAAC,CAAC,OAAOtO,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACpBsG,KAAK,CAAC,uBAAuB,CAAC;IAChC;EACF;EAEA,eAAegK,mBAAmBA,CAAChT,CAAC,EAAE;IACpC,IAAI,CAACA,CAAC,IAAI,CAACA,CAAC,CAAC8I,EAAE,EAAE;IACjB,IAAI,CAAClM,MAAM,CAACmM,OAAO,CAAC,+BAA+B,CAAC,EAAE;IAEtD,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CACrB,uCAAuCP,CAAC,CAAC8I,EAAE,EAAE,EAC7C;QAAEtI,MAAM,EAAE;MAAS,CACrB,CAAC;MACD,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,2BAA2B,CAAC;QAC/C;MACF;MAEA,MAAM0P,kBAAkB,CAAC,CAAC;MAC1BlJ,KAAK,CAAC,kBAAkB,CAAC;IAC3B,CAAC,CAAC,OAAOtG,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACpBsG,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF;EAEA,SAASuJ,WAAWA,CAAA,EAAG;IACrBrB,SAAS,CAAC,UAAU,CAAC;IACrBE,WAAW,CAAC,CAAC,CAAC;IACdE,WAAW,CAAC,EAAE,CAAC;IACfE,YAAY,CAAC,EAAE,CAAC;IAChBE,SAAS,CAAC,EAAE,CAAC;IACbE,cAAc,CAAC,IAAI,CAAC;EACtB;EAEA,SAASqB,WAAWA,CAACC,EAAE,EAAE;IACvBhC,SAAS,CAACgC,EAAE,CAAC/R,IAAI,CAAC;IAClBiQ,WAAW,CAAC8B,EAAE,CAACC,MAAM,CAAC;IACtB7B,WAAW,CAAC4B,EAAE,CAAC1S,MAAM,IAAI,EAAE,CAAC;IAC5BgR,YAAY,CAAC0B,EAAE,CAACE,OAAO,IAAI,EAAE,CAAC;IAC9B1B,SAAS,CAACwB,EAAE,CAAC3P,IAAI,GAAG2P,EAAE,CAAC3P,IAAI,CAACgE,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC;IAC9CqK,cAAc,CAACsB,EAAE,CAACpK,EAAE,CAAC;EACvB;EAEA,eAAeuK,eAAeA,CAAA,EAAG;IAC/B,IAAI,CAAC9C,gBAAgB,EAAE;MACrBvH,KAAK,CAAC,uBAAuB,CAAC;MAC9B;IACF;IACA,IAAI,CAACmI,QAAQ,IAAIzN,MAAM,CAACyN,QAAQ,CAAC,IAAI,CAAC,EAAE;MACtCnI,KAAK,CAAC,+BAA+B,CAAC;MACtC;IACF;IAEA,MAAM0F,OAAO,GAAG;MACdvN,IAAI,EAAE8P,MAAM;MACZkC,MAAM,EAAEzP,MAAM,CAACyN,QAAQ,CAAC;MACxB3Q,MAAM,EAAE6Q,QAAQ;MAChB+B,OAAO,EAAE7B,SAAS;MAClBhO,IAAI,EAAEkO,MAAM,GAAG,IAAIrM,IAAI,CAACqM,MAAM,CAAC,CAACjC,WAAW,CAAC,CAAC,GAAGqD;IAClD,CAAC;IAED,IAAI;MACF,IAAIS,GAAG,GAAG,qCAAqC/C,gBAAgB,eAAe;MAC9E,IAAI/P,MAAM,GAAG,MAAM;MAEnB,IAAImR,WAAW,EAAE;QACf2B,GAAG,IAAI,IAAI3B,WAAW,EAAE;QACxBnR,MAAM,GAAG,KAAK;MAChB;MAEA,MAAMF,GAAG,GAAG,MAAMC,KAAK,CAAC+S,GAAG,EAAE;QAC3B9S,MAAM;QACNC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC8N,OAAO;MAC9B,CAAC,CAAC;MACF,MAAM3N,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,4BAA4B,CAAC;QAChD;MACF;MAEAwO,SAAS,CAACjQ,CAAC,CAACgQ,MAAM,IAAI,EAAE,CAAC;MACzBT,UAAU,CAACrH,IAAI,IACbA,IAAI,CAACjK,GAAG,CAACuO,CAAC,IAAKA,CAAC,CAACzE,EAAE,KAAKyH,gBAAgB,GAAGxP,CAAC,CAACsR,MAAM,GAAG9E,CAAE,CAC1D,CAAC;MACDgF,WAAW,CAAC,CAAC;IACf,CAAC,CAAC,OAAO7P,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACpBsG,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF;EAEA,eAAeuK,iBAAiBA,CAACL,EAAE,EAAE;IACnC,IAAI,CAAC3C,gBAAgB,EAAE;IACvB,IAAI,CAAC3T,MAAM,CAACmM,OAAO,CAAC,0BAA0B,CAAC,EAAE;IACjD,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CACrB,qCAAqCgQ,gBAAgB,iBAAiB2C,EAAE,CAACpK,EAAE,EAAE,EAC7E;QAAEtI,MAAM,EAAE;MAAS,CACrB,CAAC;MACD,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,kBAAkB,CAAC;QACtC;MACF;MACAwO,SAAS,CAACjQ,CAAC,CAACgQ,MAAM,IAAI,EAAE,CAAC;MACzBT,UAAU,CAACrH,IAAI,IACbA,IAAI,CAACjK,GAAG,CAACuO,CAAC,IAAKA,CAAC,CAACzE,EAAE,KAAKyH,gBAAgB,GAAGxP,CAAC,CAACsR,MAAM,GAAG9E,CAAE,CAC1D,CAAC;IACH,CAAC,CAAC,OAAO7K,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACpBsG,KAAK,CAAC,4BAA4B,CAAC;IACrC;EACF;EAEA,eAAewK,iBAAiBA,CAACxT,CAAC,EAAE;IAClC,IAAI,CAACA,CAAC,IAAI,CAACA,CAAC,CAAC8I,EAAE,EAAE;IAEjB,MAAM2K,UAAU,GAAGtI,MAAM,CACvB,0CAA0C,EAC1CuI,MAAM,CAAC1T,CAAC,CAAC1F,OAAO,IAAI,CAAC,CACvB,CAAC;IACD,IAAImZ,UAAU,KAAK,IAAI,EAAE;IACzB,MAAME,OAAO,GAAGjQ,MAAM,CAAC+P,UAAU,CAAC;IAClC,IAAIG,KAAK,CAACD,OAAO,CAAC,EAAE;MAClB3K,KAAK,CAAC,gBAAgB,CAAC;MACvB;IACF;IAEA,MAAM0F,OAAO,GAAG;MACdrT,UAAU,EAAE2E,CAAC,CAAC4O,WAAW;MACzBlU,QAAQ,EAAEsF,CAAC,CAACtF,QAAQ,IAAI,EAAE;MAC1BJ,OAAO,EAAEqZ,OAAO;MAChBrY,aAAa,EAAE0E,CAAC,CAAC8O;IACnB,CAAC;IAED,IAAI;MACF,MAAMxO,GAAG,GAAG,MAAMC,KAAK,CACrB,uCAAuCP,CAAC,CAAC8I,EAAE,EAAE,EAC7C;QACEtI,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC8N,OAAO;MAC9B,CACF,CAAC;MACD,MAAM3N,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,2BAA2B,CAAC;QAC/C;MACF;MAEA,MAAM0P,kBAAkB,CAAC,CAAC;MAC1BlJ,KAAK,CAAC,kBAAkB,CAAC;IAE3B,CAAC,CAAC,OAAOtG,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACpBsG,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF;EAEA,MAAM6G,aAAa,GAAGkB,MAAM,CACzBrL,MAAM,CAACwN,EAAE,IAAIA,EAAE,CAAC/R,IAAI,KAAK,UAAU,CAAC,CACpC+F,MAAM,CAAC,CAACnD,CAAC,EAAEmP,EAAE,KAAKnP,CAAC,GAAGL,MAAM,CAACwP,EAAE,CAACC,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAEnD,MAAM3O,SAAS,GAAGuM,MAAM,CACrBrL,MAAM,CAACwN,EAAE,IAAIA,EAAE,CAAC/R,IAAI,KAAK,MAAM,CAAC,CAChC+F,MAAM,CAAC,CAACnD,CAAC,EAAEmP,EAAE,KAAKnP,CAAC,GAAGL,MAAM,CAACwP,EAAE,CAACC,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAEnD,MAAMU,UAAU,GAAG9C,MAAM,CACtBrL,MAAM,CAACwN,EAAE,IAAIA,EAAE,CAAC/R,IAAI,KAAK,OAAO,CAAC,CACjC+F,MAAM,CAAC,CAACnD,CAAC,EAAEmP,EAAE,KAAKnP,CAAC,GAAGL,MAAM,CAACwP,EAAE,CAACC,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAEnD,MAAM5Y,SAAS,IAAA4V,qBAAA,IAAAC,aAAA,GACZC,OAAO,CAACzK,IAAI,CAAC2H,CAAC,IAAIA,CAAC,CAACzE,EAAE,KAAKyH,gBAAgB,CAAC,cAAAH,aAAA,uBAA5CA,aAAA,CAA8C7V,SAAS,cAAA4V,qBAAA,cAAAA,qBAAA,GAAI,CAAE;EAEhE,MAAM2D,cAAc,GAAGzD,OAAO,CAACzK,IAAI,CAAC2H,CAAC,IAAIA,CAAC,CAACzE,EAAE,KAAKyH,gBAAgB,CAAC,IAAI,IAAI;EAE3E,MAAMwD,iBAAiB,GAAGD,cAAc,GACpCjC,cAAc,CAACnM,MAAM,CAAC1F,CAAC,IACvB,CAACA,CAAC,CAAC4O,WAAW,IAAI,EAAE,EAAEoF,WAAW,CAAC,CAAC,KACnC,CAACF,cAAc,CAAC5P,IAAI,IAAI,EAAE,EAAE8P,WAAW,CAAC,CAC1C,CAAC,GACCnC,cAAc;EAElB,oBACE9X,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAM;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAElE1D,OAAA;MAAK+D,SAAS,EAAC,4CAA4C;MAAAC,QAAA,gBACzDhE,OAAA;QAAK+D,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtChE,OAAA;UAAK+D,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChE,OAAA;YAAI+D,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAuB;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpF1D,OAAA;YAAK+D,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChChE,OAAA;cACE+D,SAAS,EAAC,gDAAgD;cAC1DoD,WAAW,EAAC,aAAa;cACzB1C,KAAK,EAAEnD,UAAW;cAClBoD,QAAQ,EAAEC,CAAC,IAAIiP,aAAa,CAACjP,CAAC,CAACE,MAAM,CAACJ,KAAK;YAAE;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC,eACF1D,OAAA;cACE+D,SAAS,EAAC,gDAAgD;cAC1DoD,WAAW,EAAC,kBAAkB;cAC9B1C,KAAK,EAAEiS,WAAY;cACnBhS,QAAQ,EAAEC,CAAC,IAAIgS,cAAc,CAAChS,CAAC,CAACE,MAAM,CAACJ,KAAK;YAAE;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C,CAAC,eACF1D,OAAA;cACE+D,SAAS,EAAC,gDAAgD;cAC1DoD,WAAW,EAAC,cAAc;cAC1B1C,KAAK,EAAEmS,aAAc;cACrBlS,QAAQ,EAAEC,CAAC,IAAIkS,gBAAgB,CAAClS,CAAC,CAACE,MAAM,CAACJ,KAAK;YAAE;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD,CAAC,eACF1D,OAAA;cAAK+D,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9BhE,OAAA;gBACEiE,OAAO,EAAE4U,UAAW;gBACpB9U,SAAS,EAAC,iFAAiF;gBAAAC,QAAA,EAE1F8S,eAAe,GAAG,eAAe,GAAG;cAAa;gBAAAvT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5C,CAAC,eACT1D,OAAA;gBACEiE,OAAO,EAAEwU,cAAe;gBACxB1U,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,EAC1D;cAED;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN1D,OAAA;UAAK+D,SAAS,EAAC,yDAAyD;UAAAC,QAAA,gBACtEhE,OAAA;YAAI+D,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACnE4S,OAAO,CAAC/K,MAAM,KAAK,CAAC,gBACnBvL,OAAA;YAAG+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAe;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,gBAExD1D,OAAA;YAAK+D,SAAS,EAAC,iBAAiB;YAAAC,QAAA,eAC9BhE,OAAA;cAAO+D,SAAS,EAAC,2BAA2B;cAAAC,QAAA,gBAC1ChE,OAAA;gBAAO+D,SAAS,EAAC,aAAa;gBAAAC,QAAA,eAC5BhE,OAAA;kBAAAgE,QAAA,gBACEhE,OAAA;oBAAI+D,SAAS,EAAC,iCAAiC;oBAAAC,QAAA,EAAC;kBAAI;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACzD1D,OAAA;oBAAI+D,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAAC;kBAAS;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC/D1D,OAAA;oBAAI+D,SAAS,EAAC,mCAAmC;oBAAAC,QAAA,EAAC;kBAAM;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3D;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACR1D,OAAA;gBAAAgE,QAAA,EACGsS,OAAO,CAACrR,GAAG,CAACuO,CAAC,iBACZxT,OAAA;kBAEE+D,SAAS,EACP,WAAW,IACVyP,CAAC,CAACzE,EAAE,KAAKyH,gBAAgB,GAAG,WAAW,GAAG,EAAE,CAC9C;kBAAAxS,QAAA,gBAEDhE,OAAA;oBAAI+D,SAAS,EAAC,KAAK;oBAAAC,QAAA,eACjBhE,OAAA;sBACEiE,OAAO,EAAEA,CAAA,KAAMsU,cAAc,CAAC/E,CAAC,CAACzE,EAAE,CAAE;sBACpChL,SAAS,EAAC,qDAAqD;sBAAAC,QAAA,GAE9DwP,CAAC,CAACrJ,IAAI,EACNqJ,CAAC,CAACoF,OAAO,GAAG,KAAKpF,CAAC,CAACoF,OAAO,GAAG,GAAG,EAAE;oBAAA;sBAAArV,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7B;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACP,CAAC,eACL1D,OAAA;oBAAI+D,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAC7C2F,MAAM,CAAC6J,CAAC,CAAChT,SAAS,IAAI,CAAC,CAAC,CAAC6N,OAAO,CAAC,CAAC;kBAAC;oBAAA9K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClC,CAAC,eACL1D,OAAA;oBAAI+D,SAAS,EAAC,mCAAmC;oBAAAC,QAAA,gBAC/ChE,OAAA;sBACEiE,OAAO,EAAEA,CAAA,KAAMyU,eAAe,CAAClF,CAAC,CAAE;sBAClCzP,SAAS,EAAC,sDAAsD;sBAAAC,QAAA,EACjE;oBAED;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACT1D,OAAA;sBACEiE,OAAO,EAAEA,CAAA,KAAM+U,YAAY,CAACxF,CAAC,CAAE;sBAC/BzP,SAAS,EAAC,iDAAiD;sBAAAC,QAAA,EAC5D;oBAED;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACP,CAAC;gBAAA,GA/BA8P,CAAC,CAACzE,EAAE;kBAAAxL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAgCP,CACL;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN1D,OAAA;QAAK+D,SAAS,EAAC,yBAAyB;QAAAC,QAAA,eACtChE,OAAA;UAAK+D,SAAS,EAAC,6CAA6C;UAAAC,QAAA,gBAC1DhE,OAAA;YAAI+D,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EACpDwS,gBAAgB,GAAG,eAAe,GAAG;UAAiB;YAAAjT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,EAEJ8S,gBAAgB,iBACfxW,OAAA,CAAAE,SAAA;YAAA8D,QAAA,gBACEhE,OAAA;cAAK+D,SAAS,EAAC,oDAAoD;cAAAC,QAAA,gBACjEhE,OAAA;gBAAK+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,gBACpChE,OAAA;kBAAK+D,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAc;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC3D1D,OAAA;kBAAK+D,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAC3B8R,aAAa,CAACzH,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,gBACpChE,OAAA;kBAAK+D,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAU;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvD1D,OAAA;kBAAK+D,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAC3ByG,SAAS,CAAC4D,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,gBACpChE,OAAA;kBAAK+D,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAe;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC5D1D,OAAA;kBAAK+D,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAC3B8V,UAAU,CAACzL,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,gBACpChE,OAAA;kBAAK+D,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAS;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtD1D,OAAA;kBAAK+D,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAC3B2F,MAAM,CAACnJ,SAAS,IAAI,CAAC,CAAC,CAAC6N,OAAO,CAAC,CAAC;gBAAC;kBAAA9K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN1D,OAAA;cAAK+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,gBAC9ChE,OAAA;gBAAI+D,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAC/B4T,WAAW,GAAG,kBAAkB,GAAG;cAAiB;gBAAArU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC,eACL1D,OAAA;gBAAK+D,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,gBACpDhE,OAAA;kBACE+D,SAAS,EAAC,yCAAyC;kBACnDU,KAAK,EAAEyS,MAAO;kBACdxS,QAAQ,EAAEC,CAAC,IAAIwS,SAAS,CAACxS,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;kBAAAT,QAAA,gBAEzChE,OAAA;oBAAQyE,KAAK,EAAC,UAAU;oBAAAT,QAAA,EAAC;kBAAoB;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACtD1D,OAAA;oBAAQyE,KAAK,EAAC,MAAM;oBAAAT,QAAA,EAAC;kBAAc;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAC5C1D,OAAA;oBAAQyE,KAAK,EAAC,OAAO;oBAAAT,QAAA,EAAC;kBAEtB;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACT1D,OAAA;kBACEoH,IAAI,EAAC,QAAQ;kBACbrD,SAAS,EAAC,yCAAyC;kBACnDoD,WAAW,EAAC,QAAQ;kBACpB1C,KAAK,EAAE2S,QAAS;kBAChB1S,QAAQ,EAAEC,CAAC,IAAI0S,WAAW,CAAC1S,CAAC,CAACE,MAAM,CAACJ,KAAK;gBAAE;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5C,CAAC,eACF1D,OAAA;kBACEoH,IAAI,EAAC,MAAM;kBACXrD,SAAS,EAAC,yCAAyC;kBACnDU,KAAK,EAAEiT,MAAO;kBACdhT,QAAQ,EAAEC,CAAC,IAAIgT,SAAS,CAAChT,CAAC,CAACE,MAAM,CAACJ,KAAK;gBAAE;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACF1D,OAAA;kBACE+D,SAAS,EAAC,yCAAyC;kBACnDoD,WAAW,EAAC,gBAAgB;kBAC5B1C,KAAK,EAAE6S,QAAS;kBAChB5S,QAAQ,EAAEC,CAAC,IAAI4S,WAAW,CAAC5S,CAAC,CAACE,MAAM,CAACJ,KAAK;gBAAE;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5C,CAAC,eACF1D,OAAA;kBACE+D,SAAS,EAAC,yCAAyC;kBACnDoD,WAAW,EAAC,SAAS;kBACrB1C,KAAK,EAAE+S,SAAU;kBACjB9S,QAAQ,EAAEC,CAAC,IAAI8S,YAAY,CAAC9S,CAAC,CAACE,MAAM,CAACJ,KAAK;gBAAE;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7C,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN1D,OAAA;gBAAK+D,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9BhE,OAAA;kBACEiE,OAAO,EAAEqV,eAAgB;kBACzBvV,SAAS,EAAC,+DAA+D;kBAAAC,QAAA,EAExE4T,WAAW,GAAG,oBAAoB,GAAG;gBAAkB;kBAAArU,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClD,CAAC,eACT1D,OAAA;kBACEiE,OAAO,EAAEuU,WAAY;kBACrBzU,SAAS,EAAC,+CAA+C;kBAAAC,QAAA,EAC1D;gBAED;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN1D,OAAA;cAAK+D,SAAS,EAAC,qCAAqC;cAAAC,QAAA,eAClDhE,OAAA;gBAAO+D,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,gBAClChE,OAAA;kBAAO+D,SAAS,EAAC,aAAa;kBAAAC,QAAA,eAC5BhE,OAAA;oBAAAgE,QAAA,gBACEhE,OAAA;sBAAI+D,SAAS,EAAC,iCAAiC;sBAAAC,QAAA,EAAC;oBAAI;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACzD1D,OAAA;sBAAI+D,SAAS,EAAC,iCAAiC;sBAAAC,QAAA,EAAC;oBAAI;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACzD1D,OAAA;sBAAI+D,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,EAAC;oBAAM;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC5D1D,OAAA;sBAAI+D,SAAS,EAAC,iCAAiC;sBAAAC,QAAA,EAAC;oBAAM;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC3D1D,OAAA;sBAAI+D,SAAS,EAAC,iCAAiC;sBAAAC,QAAA,EAAC;oBAAO;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC5D1D,OAAA;sBAAI+D,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,EAAC;oBAAa;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACnE1D,OAAA;sBAAI+D,SAAS,EAAC,mCAAmC;sBAAAC,QAAA,EAAC;oBAAO;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5D;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,eACR1D,OAAA;kBAAAgE,QAAA,GACGgT,MAAM,CAAC/R,GAAG,CAACkU,EAAE,iBACZnZ,OAAA;oBAAgB+D,SAAS,EAAC,UAAU;oBAAAC,QAAA,gBAClChE,OAAA;sBAAI+D,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,EAClCmV,EAAE,CAAC3P,IAAI,GACJ,IAAI6B,IAAI,CAAC8N,EAAE,CAAC3P,IAAI,CAAC,CAAC6L,kBAAkB,CAAC,CAAC,GACtC;oBAAG;sBAAA9R,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACL,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,EAAEmV,EAAE,CAAC/R;oBAAI;sBAAA7D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAC/D1D,OAAA;sBAAI+D,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,EAC7C2F,MAAM,CAACwP,EAAE,CAACC,MAAM,IAAI,CAAC,CAAC,CAAC/K,OAAO,CAAC,CAAC;oBAAC;sBAAA9K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAChC,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,EAAEmV,EAAE,CAAC1S;oBAAM;sBAAAlD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACtD1D,OAAA;sBAAI+D,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,EAAEmV,EAAE,CAACE;oBAAO;sBAAA9V,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACvD1D,OAAA;sBAAI+D,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,EAC7C2F,MAAM,CAACwP,EAAE,CAACe,aAAa,IAAI,CAAC,CAAC,CAAC7L,OAAO,CAAC,CAAC;oBAAC;sBAAA9K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACvC,CAAC,eACL1D,OAAA;sBAAI+D,SAAS,EAAC,mCAAmC;sBAAAC,QAAA,gBAC/ChE,OAAA;wBACEiE,OAAO,EAAEA,CAAA,KAAMiV,WAAW,CAACC,EAAE,CAAE;wBAC/BpV,SAAS,EAAC,sDAAsD;wBAAAC,QAAA,EACjE;sBAED;wBAAAT,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,eACT1D,OAAA;wBACEiE,OAAO,EAAEA,CAAA,KAAMuV,iBAAiB,CAACL,EAAE,CAAE;wBACrCpV,SAAS,EAAC,iDAAiD;wBAAAC,QAAA,EAC5D;sBAED;wBAAAT,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACP,CAAC;kBAAA,GA5BEyV,EAAE,CAACpK,EAAE;oBAAAxL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OA6BV,CACL,CAAC,EACDsT,MAAM,CAACzL,MAAM,KAAK,CAAC,iBAClBvL,OAAA;oBAAAgE,QAAA,eACEhE,OAAA;sBACEma,OAAO,EAAE,CAAE;sBACXpW,SAAS,EAAC,+BAA+B;sBAAAC,QAAA,EAC1C;oBAED;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CACL;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA,eACN,CACH,EAEA,CAAC8S,gBAAgB,iBAChBxW,OAAA;YAAG+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAErC;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN1D,OAAA;MAAK+D,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1DhE,OAAA;QAAK+D,SAAS,EAAC,gDAAgD;QAAAC,QAAA,gBAC7DhE,OAAA;UAAI+D,SAAS,EAAC,iDAAiD;UAAAC,QAAA,EAAC;QAAoC;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzG1D,OAAA;UACEiE,OAAO,EAAEkU,kBAAmB;UAC5BpU,SAAS,EAAC,6CAA6C;UAAAC,QAAA,EAEtDgU,gBAAgB,GAAG,aAAa,GAAG;QAAS;UAAAzU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACN1D,OAAA;QAAG+D,SAAS,EAAC,4BAA4B;QAAAC,QAAA,GAAC,2DAExC,EAAC+V,cAAc,GACX,yBAAyBA,cAAc,CAAC5P,IAAI,GAAG,GAC/C,gBAAgB;MAAA;QAAA5G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACJ1D,OAAA;QAAO+D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBAC1ChE,OAAA;UAAO+D,SAAS,EAAC,aAAa;UAAAC,QAAA,eAC5BhE,OAAA;YAAAgE,QAAA,gBACEhE,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAM;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3D1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzD1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAG;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzD1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAW;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjE1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1D1D,OAAA;cAAI+D,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAS;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/D1D,OAAA;cAAI+D,SAAS,EAAC,iCAAiC;cAAAC,QAAA,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzD1D,OAAA;cAAI+D,SAAS,EAAC,mCAAmC;cAAAC,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1D,OAAA;UAAAgE,QAAA,GACGgW,iBAAiB,CAAC/U,GAAG,CAACgB,CAAC,IAAI;YAC1B,MAAMkK,YAAY,GAAG,CAAClK,CAAC,CAACtF,QAAQ,IAAI,EAAE,EAAEsE,GAAG,CAACyM,CAAC,IAAIA,CAAC,CAACjI,WAAW,CAAC,CAAC6E,IAAI,CAAC,IAAI,CAAC;YAC1E,MAAM0H,QAAQ,GAAG,CAAC/P,CAAC,CAACtF,QAAQ,IAAI,EAAE,EAAEwM,MAAM,CACxC,CAACnD,CAAC,EAAE0H,CAAC,KAAK1H,CAAC,GAAGL,MAAM,CAAC+H,CAAC,CAAC5H,GAAG,IAAI4H,CAAC,CAAC3H,QAAQ,IAAI,CAAC,CAAC,EAC9C,CACF,CAAC;YACD,oBACE/J,OAAA;cAAe+D,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACjChE,OAAA;gBAAI+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAEiC,CAAC,CAAC4O;cAAW;gBAAAtR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC1D1D,OAAA;gBAAI+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAClCiC,CAAC,CAACuD,IAAI,GAAG,IAAI6B,IAAI,CAACpF,CAAC,CAACuD,IAAI,CAAC,CAAC6L,kBAAkB,CAAC,CAAC,GAAG;cAAG;gBAAA9R,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAEmM,YAAY,IAAI;cAAG;gBAAA5M,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAChE1D,OAAA;gBAAI+D,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAAEgS;cAAQ;gBAAAzS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC9C1D,OAAA;gBAAI+D,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC3B2F,MAAM,CAAC1D,CAAC,CAACkP,WAAW,IAAI,CAAC,CAAC,CAAC9G,OAAO,CAAC,CAAC;cAAC;gBAAA9K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC3B2F,MAAM,CAAC1D,CAAC,CAAC6O,QAAQ,IAAI,CAAC,CAAC,CAACzG,OAAO,CAAC,CAAC;cAAC;gBAAA9K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjC,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC3B2F,MAAM,CAAC1D,CAAC,CAACwF,OAAO,IAAI,CAAC,CAAC,CAAC4C,OAAO,CAAC,CAAC;cAAC;gBAAA9K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,eACL1D,OAAA;gBAAI+D,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAEiC,CAAC,CAAC8O;cAAe;gBAAAxR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC9D1D,OAAA;gBAAI+D,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAC/ChE,OAAA;kBACEiE,OAAO,EAAEA,CAAA,KAAMwV,iBAAiB,CAACxT,CAAC,CAAE;kBACpClC,SAAS,EAAC,sDAAsD;kBAAAC,QAAA,EACjE;gBAED;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT1D,OAAA;kBACEiE,OAAO,EAAEA,CAAA,KAAMgV,mBAAmB,CAAChT,CAAC,CAAE;kBACtClC,SAAS,EAAC,iDAAiD;kBAAAC,QAAA,EAC5D;gBAED;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GA9BEuC,CAAC,CAAC8I,EAAE;cAAAxL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+BT,CAAC;UAET,CAAC,CAAC,EACDsW,iBAAiB,CAACzO,MAAM,KAAK,CAAC,iBAC7BvL,OAAA;YAAAgE,QAAA,eACEhE,OAAA;cACE+D,SAAS,EAAC,+BAA+B;cACzCoW,OAAO,EAAE,CAAE;cAAAnW,QAAA,EACZ;YAED;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACL;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACyS,GAAA,CAlrBQ3Q,MAAM;AAAA4U,GAAA,GAAN5U,MAAM;AAorBf,SAAS3B,UAAUA,CAAC;EAAEd;AAAE,CAAC,EAAE;EAAAsX,GAAA;EACzB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG1a,QAAQ,CAAC,OAAO,CAAC;EACrD,MAAM,CAACgO,KAAK,EAAE4C,QAAQ,CAAC,GAAG5Q,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC+H,OAAO,EAAEC,UAAU,CAAC,GAAGhI,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsG,GAAG,EAAEC,MAAM,CAAC,GAAGvG,QAAQ,CAAC,EAAE,CAAC;EAElC,eAAe2a,SAASA,CAACpT,IAAI,GAAGkT,UAAU,EAAE;IAC1C,IAAI;MACFzS,UAAU,CAAC,IAAI,CAAC;MAChBzB,MAAM,CAAC,EAAE,CAAC;MACV,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,yCAAyCY,IAAI,EAAE,CAAC;MACxE,MAAMJ,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACC,CAAC,CAACyB,OAAO,IAAI,4BAA4B,CAAC;MACrEgI,QAAQ,CAACzJ,CAAC,CAAC6G,KAAK,IAAI,EAAE,CAAC;IACzB,CAAC,CAAC,OAAOlJ,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChByB,MAAM,CAACzB,CAAC,CAAC8D,OAAO,IAAI,4BAA4B,CAAC;IACnD,CAAC,SAAS;MACRZ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA/H,SAAS,CAAC,MAAM;IACd0a,SAAS,CAAC,OAAO,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,SAASC,UAAUA,CAACrT,IAAI,EAAE;IACxBmT,aAAa,CAACnT,IAAI,CAAC;IACnBoT,SAAS,CAACpT,IAAI,CAAC;EACjB;EAEA,eAAesT,aAAaA,CAAC3L,EAAE,EAAE;IAC/B,IAAI,CAAClM,MAAM,CAACmM,OAAO,CAAC,sBAAsB,CAAC,EAAE;IAC7C,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CAAC,+CAA+C,EAAE;QACvEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEO,IAAI,EAAEkT,UAAU;UAAEvL;QAAG,CAAC;MAC/C,CAAC,CAAC;MACF,MAAM/H,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,mBAAmB,CAAC;QACvC;MACF;MACA,MAAM+R,SAAS,CAAC,CAAC;MACjBvL,KAAK,CAAC,uBAAuB,CAAC;IAChC,CAAC,CAAC,OAAOtK,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,sBAAsB,CAAC;IAC/B;EACF;EAEA,eAAe0L,YAAYA,CAAC5L,EAAE,EAAE;IAC9B,IAAI,CAAClM,MAAM,CAACmM,OAAO,CAAC,+BAA+B,CAAC,EAAE;IACtD,IAAI;MACF,MAAMzI,GAAG,GAAG,MAAMC,KAAK,CACrB,yCAAyC8T,UAAU,IAAIvL,EAAE,EAAE,EAC3D;QAAEtI,MAAM,EAAE;MAAS,CACrB,CAAC;MACD,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,mCAAmC,CAAC;QACvD;MACF;MACA,MAAM+R,SAAS,CAAC,CAAC;IACnB,CAAC,CAAC,OAAO7V,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF;EAEA,eAAe2L,eAAeA,CAAA,EAAG;IAC/B,IACE,CAAC/X,MAAM,CAACmM,OAAO,CACb,0BAA0BsL,UAAU,0BACtC,CAAC,EAED;IACF,IAAI;MACF,MAAM/T,GAAG,GAAG,MAAMC,KAAK,CACrB,yCAAyC8T,UAAU,EAAE,EACrD;QAAE7T,MAAM,EAAE;MAAS,CACrB,CAAC;MACD,MAAMO,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,CAAC,CAACF,EAAE,EAAE;QACTmI,KAAK,CAACjI,CAAC,CAACyB,OAAO,IAAI,sBAAsB,CAAC;QAC1C;MACF;MACA,MAAM+R,SAAS,CAAC,CAAC;IACnB,CAAC,CAAC,OAAO7V,CAAC,EAAE;MACV+D,OAAO,CAACC,KAAK,CAAChE,CAAC,CAAC;MAChBsK,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF;EAEA,SAAS4L,eAAeA,CAACxI,IAAI,EAAE;IAC7B,IAAIiI,UAAU,KAAK,OAAO,EAAE;MAC1B,OAAO,GAAGjI,IAAI,CAACyI,aAAa,IAAI,SAAS,aACvCzI,IAAI,CAAC8C,WAAW,eACH9C,IAAI,CAAC5G,OAAO,EAAE;IAC/B;IACA,IAAI6O,UAAU,KAAK,WAAW,EAAE;MAC9B,OAAO,GAAGjI,IAAI,CAACwC,WAAW,IAAI,SAAS,aACrCxC,IAAI,CAAC8C,WAAW,eACH9C,IAAI,CAAC5G,OAAO,EAAE;IAC/B;IACA,IAAI6O,UAAU,KAAK,SAAS,EAAE;MAC5B,OAAO,GAAGjI,IAAI,CAAClI,IAAI,IAAI,QAAQ,iBAAiBkI,IAAI,CAAC7R,SAAS,IAAI,CAAC,EAAE;IACvE;IACA,IAAI8Z,UAAU,KAAK,WAAW,EAAE;MAC9B,OAAO,GAAGjI,IAAI,CAAClI,IAAI,IAAI,UAAU,eAC/BkI,IAAI,CAACV,gBAAgB,IAAI,CAAC,EAC1B;IACJ;IACA,OAAO,MAAM;EACf;EAEA,SAASoJ,UAAUA,CAACC,GAAG,EAAE;IACvB,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;IACnB,IAAI;MACF,OAAO,IAAI3P,IAAI,CAAC2P,GAAG,CAAC,CAACpN,cAAc,CAAC,CAAC;IACvC,CAAC,CAAC,MAAM;MACN,OAAOoN,GAAG;IACZ;EACF;EAEA,oBACEhb,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAW;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEvE1D,OAAA;MAAK+D,SAAS,EAAC,2BAA2B;MAAAC,QAAA,GACvC,CAAC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,CAAC,CAACiB,GAAG,CAAEmC,IAAI,iBACvDpH,OAAA;QAEEiE,OAAO,EAAEA,CAAA,KAAMwW,UAAU,CAACrT,IAAI,CAAE;QAChCrD,SAAS,EACP,4BAA4B,IAC3BuW,UAAU,KAAKlT,IAAI,GAChB,uBAAuB,GACvB,8BAA8B,CACnC;QAAApD,QAAA,EAEAoD,IAAI,CAAC6T,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAG9T,IAAI,CAACoG,KAAK,CAAC,CAAC;MAAC,GATxCpG,IAAI;QAAA7D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUH,CACT,CAAC,eAEF1D,OAAA;QACEiE,OAAO,EAAEA,CAAA,KAAMuW,SAAS,CAAC,CAAE;QAC3BzW,SAAS,EAAC,wEAAwE;QAAAC,QAAA,EACnF;MAED;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT1D,OAAA;QACEiE,OAAO,EAAE2W,eAAgB;QACzB7W,SAAS,EAAC,0FAA0F;QAAAC,QAAA,EACrG;MAED;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELkE,OAAO,iBACN5H,OAAA;MAAG+D,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAoB;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAClE,EACAyC,GAAG,iBAAInG,OAAA;MAAG+D,SAAS,EAAC,2BAA2B;MAAAC,QAAA,EAAEmC;IAAG;MAAA5C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEzDmK,KAAK,CAACtC,MAAM,KAAK,CAAC,gBACjBvL,OAAA;MAAG+D,SAAS,EAAC,uBAAuB;MAAAC,QAAA,GAAC,aACxB,EAACsW,UAAU,EAAC,0BACzB;IAAA;MAAA/W,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEJ1D,OAAA;MAAK+D,SAAS,EAAC,kCAAkC;MAAAC,QAAA,EAC9C6J,KAAK,CAAC5I,GAAG,CAAEoN,IAAI,iBACdrS,OAAA;QAEE+D,SAAS,EAAC,0EAA0E;QAAAC,QAAA,gBAEpFhE,OAAA;UAAK+D,SAAS,EAAC,0BAA0B;UAAAC,QAAA,gBACvChE,OAAA;YAAK+D,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAAE6W,eAAe,CAACxI,IAAI;UAAC;YAAA9O,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnE1D,OAAA;YAAK+D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,GAAC,MACjC,EAACqO,IAAI,CAACtD,EAAE,EAAE,GAAG,EAChBsD,IAAI,CAAC7I,IAAI,iBAAIxJ,OAAA,CAAAE,SAAA;cAAA8D,QAAA,GAAE,UAAQ,EAAC+W,UAAU,CAAC1I,IAAI,CAAC7I,IAAI,CAAC;YAAA,eAAG,CAAC,EACjD6I,IAAI,CAAC8I,UAAU,iBACdnb,OAAA,CAAAE,SAAA;cAAA8D,QAAA,GACG,GAAG,EAAC,YACK,EAAC,GAAG,EACb+W,UAAU,CAAC1I,IAAI,CAAC8I,UAAU,CAAC;YAAA,eAC5B,CACH;UAAA;YAAA5X,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN1D,OAAA;UAAK+D,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBhE,OAAA;YACEiE,OAAO,EAAEA,CAAA,KAAMyW,aAAa,CAACrI,IAAI,CAACtD,EAAE,CAAE;YACtChL,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAChE;UAED;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT1D,OAAA;YACEiE,OAAO,EAAEA,CAAA,KAAM0W,YAAY,CAACtI,IAAI,CAACtD,EAAE,CAAE;YACrChL,SAAS,EAAC,iDAAiD;YAAAC,QAAA,EAC5D;UAED;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA,GA/BD2O,IAAI,CAACtD,EAAE;QAAAxL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgCT,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC2W,GAAA,CAnNQxW,UAAU;AAAAuX,GAAA,GAAVvX,UAAU;AAqNnB,SAAS4B,QAAQA,CAAC;EAAE1C,CAAC;EAAE2C;AAAa,CAAC,EAAE;EAAA2V,GAAA;EACrC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG1b,QAAQ,CAACsC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;EAChF,SAASoZ,MAAMA,CAAC7W,CAAC,EAAE;IACjB,MAAM8W,CAAC,GAAG9W,CAAC,CAACE,MAAM,CAAC6W,KAAK,CAAC,CAAC,CAAC;IAC3B,IAAI,CAACD,CAAC,EAAE;IACR,MAAME,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAGC,EAAE,IAAI;MACpBP,WAAW,CAACO,EAAE,CAACjX,MAAM,CAACkX,MAAM,CAAC;MAC7BrW,YAAY,CAACoW,EAAE,CAACjX,MAAM,CAACkX,MAAM,CAAC;IAChC,CAAC;IACDJ,MAAM,CAACK,aAAa,CAACP,CAAC,CAAC;EACzB;EACA,oBACEzb,OAAA;IAAAgE,QAAA,gBACEhE,OAAA;MAAI+D,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAEjB,CAAC,CAAC,UAAU;IAAC;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC3E1D,OAAA;MAAK+D,SAAS,EAAC,6BAA6B;MAAAC,QAAA,gBAC1ChE,OAAA;QAAO+D,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAqB;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC3D1D,OAAA;QACEoH,IAAI,EAAC,MAAM;QACX6U,MAAM,EAAC,SAAS;QAChBvX,QAAQ,EAAE8W,MAAO;QACjBzX,SAAS,EAAC;MAAkC;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,EACD4X,QAAQ,iBACPtb,OAAA;QAAK+D,SAAS,EAAC,MAAM;QAAAC,QAAA,eACnBhE,OAAA;UAAK+E,GAAG,EAAEuW,QAAS;UAACvX,SAAS,EAAC,cAAc;UAACiB,GAAG,EAAC;QAAM;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC2X,GAAA,CA/BQ5V,QAAQ;AAAAyW,IAAA,GAARzW,QAAQ;AAiCjB,eAAe1D,GAAG;AAAC,IAAA4D,EAAA,EAAAG,GAAA,EAAAuB,GAAA,EAAAmI,GAAA,EAAAQ,GAAA,EAAA2C,GAAA,EAAAe,GAAA,EAAA4B,GAAA,EAAAY,GAAA,EAAAkE,GAAA,EAAAgB,GAAA,EAAAc,IAAA;AAAAC,YAAA,CAAAxW,EAAA;AAAAwW,YAAA,CAAArW,GAAA;AAAAqW,YAAA,CAAA9U,GAAA;AAAA8U,YAAA,CAAA3M,GAAA;AAAA2M,YAAA,CAAAnM,GAAA;AAAAmM,YAAA,CAAAxJ,GAAA;AAAAwJ,YAAA,CAAAzI,GAAA;AAAAyI,YAAA,CAAA7G,GAAA;AAAA6G,YAAA,CAAAjG,GAAA;AAAAiG,YAAA,CAAA/B,GAAA;AAAA+B,YAAA,CAAAf,GAAA;AAAAe,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}