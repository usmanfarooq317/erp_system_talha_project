{"ast":null,"code":"var _jsxFileName = \"/home/usman/Desktop/erp_system_talha_project/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STR = {\n  en: {\n    addProduct: 'Add Product',\n    addCustomer: 'Add Customer',\n    paidNow: 'Paid Now',\n    remaining: 'Remaining',\n    previousPending: 'Previous Pending',\n    savePrint: 'Save & Print',\n    products: 'Products',\n    customers: 'Customers',\n    purchases: 'Purchases',\n    sales: 'Sales',\n    reports: 'Reports',\n    debits: 'Debits',\n    settings: 'Settings',\n    login: 'Welcome Back',\n    username: 'Username',\n    password: 'Password',\n    loginBtn: 'Login',\n    vendorName: 'Vendor Name',\n    modeOfPayment: 'Mode of Payment',\n    cash: 'Cash',\n    card: 'Card',\n    cheque: 'Cheque',\n    online: 'Online',\n    availableproducts: 'Available Products',\n    recycleBin: 'Recycle Bin'\n  },\n  ur: {\n    addProduct: 'مصنوع شامل کریں',\n    addCustomer: 'کسٹمر شامل کریں',\n    paidNow: 'ادائیگی',\n    remaining: 'بقیہ',\n    previousPending: 'پچھلا بقایا',\n    savePrint: 'محفوظ کریں اور پرنٹ کریں',\n    products: 'پراڈکٹس',\n    customers: 'کسٹمرز',\n    purchases: 'خریداری',\n    sales: 'فروخت',\n    reports: 'رپورٹس',\n    debits: 'ادائیگیاں',\n    settings: 'سیٹنگز',\n    login: 'لاگ ان کریں',\n    username: 'یوزر',\n    password: 'پاس ورڈ',\n    loginBtn: 'لاگ ان',\n    vendorName: 'سپلائر کا نام',\n    modeOfPayment: 'ادائیگی کا طریقہ',\n    cash: 'نقد',\n    card: 'کارڈ',\n    cheque: 'چیک',\n    online: 'آن لائن',\n    availableproducts: 'دستیاب مصنوعات',\n    recycleBin: 'ری سائیکل بن',\n    login: 'خوش آمدید'\n  }\n};\nfunction App() {\n  _s();\n  const [lang, setLang] = useState(localStorage.getItem('erp_lang') || 'en');\n  const [route, setRoute] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [logo, setLogo] = useState(localStorage.getItem('erp_logo') || '');\n  function t(k) {\n    return STR[lang][k] || k;\n  }\n  useEffect(() => {\n    if (user) setRoute('dashboard');\n  }, [user]);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onSuccess: u => {\n        setUser(u);\n      },\n      logo: logo,\n      t: t,\n      setLang: setLang,\n      lang: lang\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n  const titleMap = {\n    dashboard: 'Dashboard',\n    products: t('products'),\n    sales: t('sales'),\n    purchases: t('purchases'),\n    reports: t('reports'),\n    debits: t('debits'),\n    settings: t('settings'),\n    RecycleBin: t('Recycle Bin')\n  };\n  const currentTitle = titleMap[route] || 'Recycle Bin';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex bg-slate-100 text-slate-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-slate-950 text-slate-50 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 flex items-center gap-3 border-b border-slate-800\",\n        children: [logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"DP\",\n          className: \"h-12 w-12 rounded-full object-cover ring-2 ring-cyan-400 shadow-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-12 w-12 rounded-full bg-slate-800 flex items-center justify-center text-sm font-semibold\",\n          children: \"Recycle Bin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-white\",\n            children: \"Ethehad Traders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-cyan-400\",\n            children: \"ET & Co\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-1 px-2 py-4 space-y-1\",\n        children: [['dashboard', 'Dashboard'], ['products', t('products')], ['sales', t('sales')], ['purchases', t('purchases')], ['reports', t('reports')], ['debits', t('debits')], ['settings', t('settings')], ['recycleBin', t('Recycle Bin')]].map(([value, label]) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRoute(value),\n          className: `w-full flex items-center px-3 py-2 rounded-lg text-sm text-left transition\n                ${route === value ? 'bg-gradient-to-r from-cyan-500/20 via-sky-500/10 to-transparent text-white border-l-4 border-cyan-400' : 'text-slate-300 hover:bg-slate-800/60'}`,\n          children: label\n        }, value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-4 border-t border-slate-800 text-xs text-slate-400 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: user === null || user === void 0 ? void 0 : user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: lang,\n            onChange: e => {\n              const l = e.target.value;\n              setLang(l);\n              localStorage.setItem('erp_lang', l);\n            },\n            className: \"bg-slate-900 border border-slate-700 rounded px-1 py-0.5 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"en\",\n              children: \"EN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ur\",\n              children: \"UR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setUser(null);\n              setRoute('login');\n            },\n            className: \"text-red-400 hover:text-red-300\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 relative overflow-hidden\",\n      children: [logo && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"background\",\n        className: \"pointer-events-none select-none absolute inset-0 w-full h-full object-cover opacity-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative h-full p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 bg-white/80 backdrop-blur-xl shadow-lg rounded-2xl px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-lg font-semibold text-slate-800\",\n            children: currentTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative z-10\",\n          children: [route === 'dashboard' && /*#__PURE__*/_jsxDEV(Dashboard, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 39\n          }, this), route === 'products' && /*#__PURE__*/_jsxDEV(Products, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 38\n          }, this), route === 'sales' && /*#__PURE__*/_jsxDEV(Sales, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 35\n          }, this), route === 'purchases' && /*#__PURE__*/_jsxDEV(Purchases, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 39\n          }, this), route === 'reports' && /*#__PURE__*/_jsxDEV(Reports, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 37\n          }, this), route === 'debits' && /*#__PURE__*/_jsxDEV(Debits, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 36\n          }, this), route === 'recycleBin' && /*#__PURE__*/_jsxDEV(RecycleBin, {\n            t: t\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 40\n          }, this), route === 'settings' && /*#__PURE__*/_jsxDEV(Settings, {\n            t: t,\n            onLogoChange: l => {\n              setLogo(l);\n              localStorage.setItem('erp_logo', l);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"pCscleOUXZH+FLiBFRAlc9IXO3g=\");\n_c = App;\nfunction Header({\n  setRoute,\n  setUser,\n  logo,\n  setLogo,\n  lang,\n  setLang,\n  t\n}) {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-white shadow mb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-2 sm:px-4 md:px-6 py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\",\n          className: \"h-10 w-10 object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-10 w-10 bg-sky-100 rounded flex items-center justify-center text-sky-600\",\n          children: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-lg md:text-xl font-semibold text-sky-600\",\n          children: \"ERP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex flex-wrap items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('dashboard'),\n          children: t('Dashboard')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('products'),\n          children: t('products')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('sales'),\n          children: t('sales')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('purchases'),\n          children: t('purchases')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('reports'),\n          children: t('reports')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('debits'),\n          children: t('debits')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\",\n          onClick: () => setRoute('settings'),\n          children: t('settings')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: lang,\n          onChange: e => {\n            setLang(e.target.value);\n            localStorage.setItem('erp_lang', e.target.value);\n          },\n          className: \"border rounded px-2 py-1 text-xs sm:text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"en\",\n            children: \"EN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ur\",\n            children: \"UR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-md bg-sky-600 text-white hover:bg-sky-700 transition text-xs sm:text-sm\",\n          onClick: () => {\n            setUser(null);\n            localStorage.removeItem('erp_lang');\n          },\n          children: t('login')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n}\n\n// Login function\n_c2 = Header;\nfunction Login({\n  onSuccess,\n  logo,\n  t,\n  setLang,\n  lang\n}) {\n  _s2();\n  const [u, setU] = useState('admin');\n  const [p, setP] = useState('admin');\n  const [err, setErr] = useState('');\n  async function submit(e) {\n    e.preventDefault();\n    try {\n      const res = await fetch('http://localhost:4000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: u,\n          password: p\n        })\n      });\n      if (!res.ok) throw new Error('login failed');\n      const j = await res.json();\n      onSuccess(j.user);\n    } catch (err) {\n      setErr('Wrong Password or Username');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center py-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-xl shadow-md p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-4\",\n        children: logo ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          className: \"h-24 w-24 object-contain\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 59\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-24 w-24 bg-sky-100 rounded-full flex items-center justify-center text-sky-600\",\n          children: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 128\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-xl font-semibold text-gray-700 mb-4\",\n        children: t('login')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: t('username'),\n          className: \"w-full px-4 py-2 border rounded-md focus:outline-sky-300\",\n          value: u,\n          onChange: e => setU(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: t('password'),\n          className: \"w-full px-4 py-2 border rounded-md focus:outline-sky-300\",\n          value: p,\n          onChange: e => setP(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: lang,\n            onChange: e => {\n              setLang(e.target.value);\n              localStorage.setItem('erp_lang', e.target.value);\n            },\n            className: \"border p-1 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"en\",\n              children: \"EN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ur\",\n              children: \"UR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition\",\n            children: t('loginBtn')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 mt-3\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n}\n\n/* Dashboard */\n_s2(Login, \"cRRPyx4NDEbvEcjbMmSDHjuGfLE=\");\n_c3 = Login;\nfunction Dashboard({\n  t\n}) {\n  _s3();\n  const [activeTab, setActiveTab] = useState(\"customers\");\n  const [sales, setSales] = useState([]);\n  const [selectedCustomerName, setSelectedCustomerName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const logoUrl = localStorage.getItem(\"erp_logo\") || \"\";\n\n  // Stock-related state\n  const [stock, setStock] = useState([]);\n  const [movements, setMovements] = useState([]);\n  const [stockLoading, setStockLoading] = useState(false);\n  const [stockErr, setStockErr] = useState(\"\");\n\n  // Initial load\n  useEffect(() => {\n    loadSales();\n    loadStockData();\n  }, []);\n\n  // Load sales\n  async function loadSales() {\n    try {\n      setLoading(true);\n      setErr(\"\");\n      const res = await fetch(\"http://localhost:4000/api/sales\");\n      const j = await res.json();\n      if (!j.ok) {\n        setErr(j.message || \"Failed to load sales\");\n        return;\n      }\n      setSales(j.sales || []);\n    } catch (e) {\n      console.error(e);\n      setErr(\"Failed to load sales\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Load stock data\n  async function loadStockData() {\n    try {\n      setStockLoading(true);\n      setStockErr(\"\");\n      const [pRes, sRes] = await Promise.all([fetch(\"http://localhost:4000/api/purchases\"), fetch(\"http://localhost:4000/api/sales\")]);\n      const [pJson, sJson] = await Promise.all([pRes.json(), sRes.json()]);\n      if (!pJson.ok) throw new Error(pJson.message || \"Failed to load purchases\");\n      if (!sJson.ok) throw new Error(sJson.message || \"Failed to load sales\");\n      const purchases = pJson.purchases || [];\n      const salesData = sJson.sales || [];\n      const mvts = [];\n\n      // Purchases → increase stock\n      purchases.forEach(p => {\n        (p.products || p.lines || []).forEach(line => {\n          mvts.push({\n            date: p.date,\n            type: \"Purchase\",\n            productName: line.productName || \"\",\n            bagWeight: Number(line.weight || 0),\n            bagsDelta: Number(line.qty || line.quantity || 0)\n          });\n        });\n      });\n\n      // Sales → decrease stock\n      salesData.forEach(s => {\n        (s.products || s.lines || []).forEach(line => {\n          mvts.push({\n            date: s.date,\n            type: \"Sale\",\n            productName: line.productName || \"\",\n            bagWeight: Number(line.weight || 0),\n            bagsDelta: Number(line.quantity || line.qty || 0)\n          });\n        });\n      });\n      setMovements(mvts);\n      setStock(mvts);\n    } catch (e) {\n      console.error(e);\n      setStockErr(e.message || \"Failed to load stock data\");\n    } finally {\n      setStockLoading(false);\n    }\n  }\n\n  // Customer grouping\n  const customerGroup = new Map();\n  (sales || []).forEach(s => {\n    const name = s.customerName || \"Unknown\";\n    if (!customerGroup.has(name)) {\n      customerGroup.set(name, {\n        customerName: name,\n        invoices: [],\n        totalGrand: 0,\n        totalPaid: 0\n      });\n    }\n    const entry = customerGroup.get(name);\n    entry.invoices.push(s);\n    entry.totalGrand += Number(s.grandTotal || 0);\n    entry.totalPaid += Number(s.paidNow || 0);\n  });\n  const customersWithPending = Array.from(customerGroup.values()).map(entry => {\n    const sortedInvoices = [...entry.invoices].sort((a, b) => new Date(a.date || 0) - new Date(b.date || 0));\n    const last = sortedInvoices[sortedInvoices.length - 1];\n    const latestPending = Number((last === null || last === void 0 ? void 0 : last.pending) || 0);\n    return {\n      ...entry,\n      invoices: sortedInvoices,\n      totalPending: latestPending\n    };\n  }).filter(entry => entry.totalPending > 0).sort((a, b) => b.totalPending - a.totalPending);\n  const selectedCustomer = customersWithPending.find(c => c.customerName === selectedCustomerName) || null;\n\n  // Stock summary\n  const stockSummaryMap = new Map();\n  (movements || []).forEach(mv => {\n    const name = mv.productName || '';\n    const bagWt = Number(mv.bagWeight || mv.bagWt || 0);\n    if (!name || !bagWt) return;\n    const key = `${name}||${bagWt}`;\n    if (!stockSummaryMap.has(key)) {\n      stockSummaryMap.set(key, {\n        productName: name,\n        bagWeight: bagWt,\n        purchased: 0,\n        sold: 0\n      });\n    }\n    const row = stockSummaryMap.get(key);\n    const qty = Number(mv.bagsDelta || mv.qty || mv.bags || 0);\n    if (mv.type === 'Purchase') {\n      row.purchased += Math.abs(qty);\n    } else if (mv.type === 'Sale') {\n      row.sold += Math.abs(qty);\n    }\n  });\n  const stockSummaryRows = Array.from(stockSummaryMap.values()).map(r => ({\n    ...r,\n    available: r.purchased - r.sold\n  })).sort((a, b) => a.productName.localeCompare(b.productName) || a.bagWeight - b.bagWeight);\n  const maxStockValue = stockSummaryRows.length === 0 ? 1 : Math.max(...stockSummaryRows.map(r => Math.max(r.purchased, r.sold, r.available)), 1);\n\n  // Aggregate by product\n  const productTotalsMap = new Map();\n  stockSummaryRows.forEach(r => {\n    if (!productTotalsMap.has(r.productName)) {\n      productTotalsMap.set(r.productName, {\n        productName: r.productName,\n        purchased: 0,\n        sold: 0,\n        available: 0\n      });\n    }\n    const entry = productTotalsMap.get(r.productName);\n    entry.purchased += r.purchased;\n    entry.sold += r.sold;\n    entry.available += r.available;\n  });\n  const productTotals = Array.from(productTotalsMap.values()).sort((a, b) => b.available - a.available);\n  const maxProductValue = productTotals.length === 0 ? 1 : Math.max(...productTotals.map(p => Math.max(p.purchased, p.sold, p.available)), 1);\n  const totalAvailableBags = productTotals.reduce((sum, p) => sum + Math.max(p.available, 0), 0);\n  const totalProductsInStock = productTotals.filter(p => p.available > 0).length;\n  const lowStockCount = productTotals.filter(p => p.available > 0 && p.available <= 20).length;\n  const topProductsForBars = productTotals.slice(0, 8);\n\n  // Print invoice\n  function printInvoiceForRecord(record) {\n    if (!record) return;\n    const dateTime = record.date ? new Date(record.date).toLocaleString() : new Date().toLocaleString();\n    const items = record.products || record.lines || [];\n    const customerTotal = Number(record.customerTotal || 0);\n    const previousPending = Number(record.previousPending || 0);\n    const grandTotal = Number(record.grandTotal || 0);\n    const paidNow = Number(record.paidNow || 0);\n    const remaining = Number(record.pending || 0);\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\n      <h2 style='text-align:center'>Invoice</h2>\n      <div>Customer: ${record.customerName || ''}</div>\n      <div>Date &amp; Time: ${dateTime}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n          <th>Price</th>\n          <th>Line Total</th>\n        </tr>\n        ${items.map((it, i) => `\n          <tr>\n            <td>${i + 1}</td>\n            <td>${it.productName || ''}</td>\n            <td>${it.quantity || it.qty || 0}</td>\n            <td>${it.pricePerKg || it.price || 0}</td>\n            <td>${Number(it.lineTotal || Number(it.quantity || it.qty || 0) * Number(it.pricePerKg || it.price || 0)).toFixed(2)}</td>\n          </tr>`).join('')}\n      </table>\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\n      <div>Previous Pending: ${previousPending.toFixed(2)}</div>\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\n      <div>Paid: ${paidNow.toFixed(2)}</div>\n      <div>Remaining: ${remaining.toFixed(2)}</div>\n      </body></html>\n    `;\n    const w = window.open(\"\", \"_blank\");\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n  async function deleteSaleFromDashboard(id) {\n    if (!window.confirm(\"Delete this sale?\")) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\n        method: \"DELETE\"\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || \"Failed to delete sale\");\n        return;\n      }\n      setSales(prev => prev.filter(s => s.id !== id));\n    } catch (e) {\n      console.error(e);\n      alert(\"Error deleting sale\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mb-4 gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"customers\"),\n        className: \"px-4 py-2 rounded text-sm \" + (activeTab === \"customers\" ? \"bg-sky-600 text-white\" : \"bg-white text-sky-700 border\"),\n        children: \"Customer Records\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(\"stock\"),\n        className: \"px-4 py-2 rounded text-sm \" + (activeTab === \"stock\" ? \"bg-sky-600 text-white\" : \"bg-white text-sky-700 border\"),\n        children: \"Stocks Updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (activeTab === \"customers\") {\n            loadSales();\n          } else if (activeTab === \"stock\") {\n            loadStockData();\n          }\n        },\n        className: \"ml-auto px-3 py-2 text-xs bg-gray-100 border rounded hover:bg-gray-200\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 7\n    }, this), activeTab === \"customers\" && loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-2\",\n      children: \"Loading sales\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 9\n    }, this), activeTab === \"customers\" && err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600 mb-2\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 9\n    }, this), activeTab === \"stock\" && stockLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-2\",\n      children: \"Loading stock\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 9\n    }, this), activeTab === \"stock\" && stockErr && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600 mb-2\",\n      children: stockErr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 9\n    }, this), activeTab === \"customers\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow lg:col-span-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2 text-sm\",\n          children: \"Customers with Remaining Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 13\n        }, this), customersWithPending.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"No customers with pending amounts.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-left\",\n                children: \"Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-2 text-right\",\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: customersWithPending.map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t cursor-pointer \" + (c.customerName === selectedCustomerName ? \"bg-sky-50\" : \"\"),\n              onClick: () => setSelectedCustomerName(c.customerName),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: c.customerName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: c.totalPending.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 23\n              }, this)]\n            }, c.customerName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow lg:col-span-2\",\n        children: !selectedCustomer ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Select a customer on the left to see full record of their purchases, paid amounts, and remaining balance.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap justify-between mb-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: selectedCustomer.customerName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-500 text-xs\",\n                children: [\"Total Pending:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedCustomer.totalPending.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 771,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-right space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Grand:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedCustomer.totalGrand.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Paid:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedCustomer.totalPaid.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 785,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 17\n          }, this), selectedCustomer.invoices.map(inv => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded mb-3 p-3 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: \"Date: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 25\n                }, this), inv.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: \"Grand: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 803,\n                  columnNumber: 25\n                }, this), inv.grandTotal, \" \\xA0 | \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: \"Paid: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 25\n                }, this), inv.paidNow, \" \\xA0 | \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: \"Remaining: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 807,\n                  columnNumber: 25\n                }, this), inv.pending]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 802,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-[11px] border mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5\",\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 815,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5\",\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 816,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5\",\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 817,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5\",\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 818,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border px-1 py-0.5\",\n                    children: \"Line Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 819,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 814,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: (inv.products || inv.lines || []).map((p, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: idx + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 825,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.quantity || p.qty\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 829,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.pricePerKg || p.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border px-1 py-0.5\",\n                    children: p.lineTotal\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 29\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 824,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 flex justify-end gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => printInvoiceForRecord(inv),\n                className: \"px-2 py-1 bg-indigo-600 text-white rounded\",\n                children: \"Print Invoice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteSaleFromDashboard(inv.id),\n                className: \"px-2 py-1 bg-red-600 text-white rounded\",\n                children: \"\\uD83D\\uDDD1 Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 21\n            }, this)]\n          }, inv.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 9\n    }, this), activeTab === 'stock' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-base\",\n          children: \"Stock Updates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadStockData,\n          className: \"ml-auto px-3 py-1 text-xs border rounded hover:bg-gray-50\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 11\n      }, this), stockLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mb-2\",\n        children: \"Loading stock\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 879,\n        columnNumber: 13\n      }, this), stockErr && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-red-600 mb-2\",\n        children: stockErr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 882,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg px-3 py-2 bg-sky-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[11px] text-sky-700 uppercase\",\n            children: \"Total Products in Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: totalProductsInStock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg px-3 py-2 bg-emerald-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[11px] text-emerald-700 uppercase\",\n            children: \"Total Available Bags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 895,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: totalAvailableBags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg px-3 py-2 bg-amber-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[11px] text-amber-700 uppercase\",\n            children: \"Low Stock Items (\\u2264 20 bags)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: lowStockCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 11\n      }, this), stockSummaryRows.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500\",\n        children: \"No stock calculated yet. Add some purchases / sales first.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 913,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-sm mb-2\",\n              children: \"Available Stock (by product & bag weight)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-xs mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-left\",\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 926,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right\",\n                    children: \"Bag Wt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 927,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right\",\n                    children: \"Purchased\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 928,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right\",\n                    children: \"Sold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 929,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-2 text-right\",\n                    children: \"Available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 930,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 925,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: stockSummaryRows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-t\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2\",\n                    children: r.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 939,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right\",\n                    children: r.bagWeight\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 940,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right\",\n                    children: r.purchased\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 941,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 text-right\",\n                    children: r.sold\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 942,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: 'p-2 text-right ' + (r.available < 0 ? 'text-red-600 font-semibold' : ''),\n                    children: r.available\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 943,\n                    columnNumber: 27\n                  }, this)]\n                }, `${r.productName}-${r.bagWeight}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-sm mb-2\",\n              children: \"Stock Overview by Product (bags)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 19\n            }, this), topProductsForBars.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"No products with stock yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 965,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: topProductsForBars.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-[11px] mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: p.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 973,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Available: \", p.available]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 974,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 972,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-3 bg-gray-100 rounded overflow-hidden flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: p.purchased / maxProductValue * 100 + '%'\n                    },\n                    className: \"bg-blue-500\",\n                    title: `Purchased: ${p.purchased}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 978,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: p.sold / maxProductValue * 100 + '%'\n                    },\n                    className: \"bg-red-400\",\n                    title: `Sold: ${p.sold}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 986,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: Math.max(p.available, 0) / maxProductValue * 100 + '%'\n                    },\n                    className: \"bg-green-500\",\n                    title: `Available: ${p.available}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 994,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 977,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-[10px] text-gray-500 mt-0.5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Purchased: \", p.purchased]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1007,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Sold: \", p.sold]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1008,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Available: \", p.available]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1009,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1006,\n                  columnNumber: 27\n                }, this)]\n              }, `prod-bar-${p.productName}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 text-[10px] text-gray-500 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-3 h-3 bg-blue-500 inline-block rounded-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1018,\n                  columnNumber: 23\n                }, this), ' ', \"Purchased\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1017,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-3 h-3 bg-red-400 inline-block rounded-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1022,\n                  columnNumber: 23\n                }, this), ' ', \"Sold\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1021,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-3 h-3 bg-green-500 inline-block rounded-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1026,\n                  columnNumber: 23\n                }, this), ' ', \"Available\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1025,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 867,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 654,\n    columnNumber: 5\n  }, this);\n}\n\n/* Products */\n_s3(Dashboard, \"B/HgnyQfkNdZ+FnHwBBXPOq655Q=\");\n_c4 = Dashboard;\nfunction Products({\n  t\n}) {\n  _s4();\n  const [name, setName] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [list, setList] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:4000/api/products').then(r => r.json()).then(j => setList(j.products || [])).catch(() => {});\n  }, []);\n  async function add() {\n    if (!name) return alert('Enter product name');\n    const res = await fetch('http://localhost:4000/api/products', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        quantity\n      })\n    });\n    const j = await res.json();\n    if (j.ok) {\n      setList(prev => [...prev, j.prod]);\n      setName('');\n      setQuantity(1);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: t('products')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1067,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Product name\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: quantity,\n          onChange: e => setQuantity(Number(e.target.value)),\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: add,\n          className: \"bg-sky-600 text-white px-4 rounded hover:bg-sky-700 transition\",\n          children: t('addProduct')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1072,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1069,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1068,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2\",\n        children: \"Available Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: list.map(p => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: p.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 133\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 164\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: p.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 181\n            }, this)]\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 118\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 95\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1075,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1066,\n    columnNumber: 5\n  }, this);\n}\n_s4(Products, \"u24eUYqyCwMDG4Em+ogP0yKqQyY=\");\n_c5 = Products;\nfunction Sales({\n  t\n}) {\n  _s5();\n  const [customers, setCustomers] = useState([]);\n  const [productsList, setProductsList] = useState([]);\n  const [selectedCustomerId, setSelectedCustomerId] = useState('');\n  const [customerName, setCustomerName] = useState('');\n  const [previousPending, setPreviousPending] = useState(0);\n  const [items, setItems] = useState([{\n    productName: '',\n    quantity: 1,\n    pricePerKg: 0\n  }]);\n  const [paidNow, setPaidNow] = useState(0);\n  const [calc, setCalc] = useState(null);\n  const [salesRecords, setSalesRecords] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  useEffect(() => {\n    fetch('http://localhost:4000/api/customers').then(r => r.json()).then(j => setCustomers(j.customers || [])).catch(() => {});\n    fetch('http://localhost:4000/api/products').then(r => r.json()).then(j => setProductsList(j.products || [])).catch(() => {});\n    fetch('http://localhost:4000/api/sales').then(r => r.json()).then(j => {\n      if (j.ok) setSalesRecords(j.sales || []);\n    }).catch(() => {});\n  }, []);\n  function addCustomer() {\n    const name = prompt('Customer name');\n    if (!name) return;\n    const location = prompt('Location') || '';\n    const prev = Number(prompt('Previous Pending') || 0);\n    fetch('http://localhost:4000/api/customers', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        location,\n        previousPending: prev\n      })\n    }).then(r => r.json()).then(j => {\n      if (j.ok) {\n        setCustomers(prevList => [...prevList, j.customer]);\n        alert('Customer added');\n      }\n    });\n  }\n  function addItem() {\n    setItems(prev => [...prev, {\n      productName: '',\n      quantity: 1,\n      pricePerKg: 0\n    }]);\n  }\n  function updateItem(i, key, value) {\n    const copy = [...items];\n    copy[i][key] = value;\n    setItems(copy);\n  }\n  function onSelectCustomer(id) {\n    setSelectedCustomerId(id);\n    if (!id) {\n      setPreviousPending(0);\n      setCustomerName('');\n      return;\n    }\n    const c = customers.find(x => x.id === Number(id));\n    if (c) {\n      setCustomerName(c.name);\n      setPreviousPending(c.previousPending || 0);\n    }\n  }\n  async function calculate() {\n    const res = await fetch('http://localhost:4000/api/calculate-invoice', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        products: items,\n        previousPending\n      })\n    });\n    const j = await res.json();\n    setCalc(j);\n  }\n  const customerTotal = calc && typeof calc.customerTotal !== 'undefined' ? Number(calc.customerTotal || 0) : items.reduce((s, it) => s + Number(it.quantity || 0) * Number(it.pricePerKg || 0), 0);\n  const grandTotal = +(customerTotal + Number(previousPending || 0)).toFixed(2);\n  const remaining = +(grandTotal - Number(paidNow || 0)).toFixed(2);\n  const logoUrl = localStorage.getItem('erp_logo') || '';\n  function printGate() {\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:220px;opacity:0.9' />\n      <h2 style='text-align:center'>Gate Pass</h2>\n      <div>Customer: ${customerName}</div>\n      <div>Time: ${new Date().toLocaleString()}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n        </tr>\n        ${items.map((it, i) => `<tr>\n            <td>${i + 1}</td>\n            <td>${it.productName}</td>\n            <td>${it.quantity}</td>\n          </tr>`).join('')}\n      </table>\n      </body></html>`;\n    const w = window.open('', '_blank');\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n  function printInvoice(record) {\n    const dateTime = record && record.date ? new Date(record.date).toLocaleString() : new Date().toLocaleString();\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\n      <h2 style='text-align:center'>Invoice</h2>\n      <div>Customer: ${customerName}</div>\n      <div>Date &amp; Time: ${dateTime}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n          <th>Price</th>\n          <th>Line Total</th>\n        </tr>\n        ${items.map((it, i) => `\n          <tr>\n            <td>${i + 1}</td>\n            <td>${it.productName}</td>\n            <td>${it.quantity}</td>\n            <td>${it.pricePerKg}</td>\n            <td>${(Number(it.quantity || 0) * Number(it.pricePerKg || 0)).toFixed(2)}</td>\n          </tr>`).join('')}\n      </table>\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\n      <div>Previous Pending: ${Number(previousPending || 0).toFixed(2)}</div>\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\n      <div>Paid: ${Number(paidNow || 0).toFixed(2)}</div>\n      <div>Remaining: ${remaining.toFixed(2)}</div>\n      </body></html>\n    `;\n    const w = window.open('', '_blank');\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n  async function saveAndPrint() {\n    const res = await fetch('http://localhost:4000/api/save-sale', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        customerId: selectedCustomerId,\n        customerName,\n        previousPending,\n        products: items,\n        paidNow\n      })\n    });\n    const j = await res.json();\n    if (j.ok) {\n      alert('Saved. Remaining added to customer previous pending: ' + j.record.pending);\n      setSalesRecords(prev => [...prev, j.record]);\n      fetch('http://localhost:4000/api/customers').then(r => r.json()).then(j2 => setCustomers(j2.customers || [])).catch(() => {});\n      printInvoice(j.record);\n    }\n  }\n  async function deleteSale(id) {\n    if (!window.confirm('Delete this sale?')) return;\n    const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\n      method: 'DELETE'\n    });\n    const j = await res.json();\n    if (j.ok) {\n      setSalesRecords(prev => prev.filter(s => s.id !== id));\n    } else {\n      alert('Failed to delete sale');\n    }\n  }\n  function editSales(index) {\n    const s = salesRecords[index];\n    if (!s) return;\n    setSelectedCustomerId(s.customerId || \"\");\n    setCustomerName(s.customerName || \"\");\n    setPreviousPending(Number(s.previousPending || 0));\n    setPaidNow(Number(s.paidNow || 0));\n    const restoredItems = (s.products || s.lines || []).map(item => {\n      var _ref, _item$quantity, _ref2, _item$pricePerKg;\n      return {\n        productName: item.productName || \"\",\n        quantity: Number((_ref = (_item$quantity = item.quantity) !== null && _item$quantity !== void 0 ? _item$quantity : item.qty) !== null && _ref !== void 0 ? _ref : 0),\n        pricePerKg: Number((_ref2 = (_item$pricePerKg = item.pricePerKg) !== null && _item$pricePerKg !== void 0 ? _item$pricePerKg : item.price) !== null && _ref2 !== void 0 ? _ref2 : 0)\n      };\n    });\n    setItems(restoredItems.length ? restoredItems : [{\n      productName: \"\",\n      quantity: 1,\n      pricePerKg: 0\n    }]);\n    setEditingIndex(index);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Sales / Invoice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1331,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 p-4 rounded shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border p-2 rounded\",\n          value: selectedCustomerId,\n          onChange: e => onSelectCustomer(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1340,\n            columnNumber: 13\n          }, this), customers.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c.id,\n            children: [c.name, \" - \", c.location]\n          }, c.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1342,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Customer Name\",\n          value: customerName,\n          onChange: e => setCustomerName(e.target.value),\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Previous Pending\",\n          value: previousPending,\n          onChange: e => setPreviousPending(Number(e.target.value)),\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1353,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addCustomer,\n          className: \"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm\",\n          children: t('addCustomer')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1362,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 p-4 rounded shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-sky-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Line Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: items.map((it, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-full\",\n                value: it.productName,\n                onChange: e => updateItem(i, 'productName', e.target.value),\n                list: \"products-list\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1388,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-20 text-right\",\n                type: \"number\",\n                value: it.quantity,\n                onChange: e => updateItem(i, 'quantity', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1398,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 rounded w-24 text-right\",\n                type: \"number\",\n                value: it.pricePerKg,\n                onChange: e => updateItem(i, 'pricePerKg', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1408,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1407,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: (Number(it.quantity || 0) * Number(it.pricePerKg || 0)).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1417,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1385,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        id: \"products-list\",\n        children: productsList.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p.name\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1430,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-3 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addItem,\n          className: \"px-3 py-1 bg-white border rounded hover:shadow transition text-sm\",\n          children: \"\\u2795 Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: calculate,\n          className: \"px-3 py-1 bg-sky-600 text-white rounded hover:bg-sky-700 transition text-sm\",\n          children: \"Calculate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-auto flex flex-wrap items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm\",\n            children: \"Paid Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: paidNow,\n            onChange: e => setPaidNow(Number(e.target.value)),\n            className: \"border p-1 rounded w-28 text-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveAndPrint,\n            className: \"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\",\n            children: t('savePrint')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1456,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: printGate,\n          className: \"px-3 py-1 bg-slate-700 text-white rounded hover:bg-slate-800 transition text-sm\",\n          children: \"Gate Pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1464,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-3 bg-gray-50 rounded text-sm space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Customer Total:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: customerTotal.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Previous Pending:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: Number(previousPending || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Grand Total:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: grandTotal.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Paid Now:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: Number(paidNow || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1488,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1486,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Remaining:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: remaining.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1492,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1473,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2 text-sm\",\n        children: \"Saved Invoices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1499,\n        columnNumber: 9\n      }, this), salesRecords.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500\",\n        children: \"No invoices saved yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1501,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1507,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Date/Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Grand Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1510,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Remaining\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-center\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1512,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1505,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1504,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: salesRecords.map((s, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1518,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: s.customerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1519,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: s.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1520,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: s.grandTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1521,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: s.paidNow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1522,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-right\",\n              children: s.pending\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1523,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editSales(idx),\n                className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1525,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteSale(s.id),\n                className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                children: \"\\uD83D\\uDDD1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1532,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1524,\n              columnNumber: 19\n            }, this)]\n          }, s.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1517,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1515,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1503,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1498,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1330,\n    columnNumber: 5\n  }, this);\n}\n\n/* Vendor Purchase Management */\n_s5(Sales, \"fVSCglYlAfWCJUgshZu29envLJQ=\");\n_c6 = Sales;\nfunction VendorPurchaseManagement({\n  t\n}) {\n  _s6();\n  const [vendorsSummary, setVendorsSummary] = useState([]);\n  const [selectedVendorName, setSelectedVendorName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  useEffect(() => {\n    loadVendorPurchases();\n  }, []);\n  async function loadVendorPurchases() {\n    try {\n      setLoading(true);\n      setErr(\"\");\n      const res = await fetch(\"http://localhost:4000/api/purchases-with-pending\");\n      const j = await res.json();\n      if (!j.ok) {\n        throw new Error(j.message || \"Failed to load vendor purchases\");\n      }\n      const list = j.purchases || [];\n      const map = new Map();\n      list.forEach(p => {\n        const name = p.vendorName || \"Unknown\";\n        if (!map.has(name)) {\n          map.set(name, {\n            vendorName: name,\n            totalPending: 0,\n            totalGrand: 0,\n            totalPaid: 0,\n            purchases: []\n          });\n        }\n        const g = map.get(name);\n        g.totalPending += Number(p.pending || 0);\n        g.totalGrand += Number(p.grandTotal || 0);\n        g.totalPaid += Number(p.paidNow || 0);\n        g.purchases.push(p);\n      });\n      const groups = Array.from(map.values()).sort((a, b) => b.totalPending - a.totalPending);\n      setVendorsSummary(groups);\n      if (!selectedVendorName && groups.length > 0) {\n        setSelectedVendorName(groups[0].vendorName);\n      }\n    } catch (e) {\n      console.error(e);\n      setErr(e.message || \"Failed to load vendor purchases\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function handleDeletePurchase(purchase) {\n    if (!purchase) return;\n    if (!window.confirm(\"Delete this purchase record?\")) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${purchase.id}`, {\n        method: \"DELETE\"\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || \"Purchase not found!\");\n        return;\n      }\n      await loadVendorPurchases();\n    } catch (e) {\n      console.error(e);\n      alert(\"Error deleting purchase\");\n    }\n  }\n  const selectedVendorSummary = vendorsSummary.find(v => v.vendorName === selectedVendorName) || null;\n  const totalPendingAll = vendorsSummary.reduce((sum, v) => sum + v.totalPending, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded shadow mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-sm flex-1\",\n        children: \"Vendor Purchase Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1642,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadVendorPurchases,\n        className: \"px-2 py-1 text-xs border rounded\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1645,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1641,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500 mb-2\",\n      children: \"Loading vendor purchases\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1654,\n      columnNumber: 9\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-red-600 mb-2\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1656,\n      columnNumber: 15\n    }, this), vendorsSummary.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500\",\n      children: \"No purchases yet. Once you save purchases, you will see vendor-wise summary here.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1659,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1 border rounded p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-2 text-xs\",\n          children: \"Vendors (total purchase & pending)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1666,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-[11px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-1 text-left\",\n                children: \"Vendor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1672,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-1 text-right\",\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1673,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1671,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1670,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: vendorsSummary.map(v => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t cursor-pointer \" + (v.vendorName === selectedVendorName ? \"bg-sky-50\" : \"\"),\n              onClick: () => setSelectedVendorName(v.vendorName),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1\",\n                children: v.vendorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1688,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 text-right\",\n                children: v.totalPending.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1689,\n                columnNumber: 21\n              }, this)]\n            }, v.vendorName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1678,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1676,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1669,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 text-xs text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total Pending: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1698,\n            columnNumber: 15\n          }, this), totalPendingAll.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1697,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1665,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 border rounded p-3\",\n        children: !selectedVendorSummary ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Select a vendor on the left to see full record of your purchases, paid amounts, and remaining balance for that vendor.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1705,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap justify-between mb-3 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: selectedVendorSummary.vendorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1713,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-500\",\n                children: [\"Total Pending:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedVendorSummary.totalPending.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1718,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1716,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1712,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Grand:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedVendorSummary.totalGrand.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1726,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1724,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Paid:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedVendorSummary.totalPaid.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1732,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1730,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1723,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1711,\n            columnNumber: 17\n          }, this), selectedVendorSummary.purchases.map(p => {\n            const items = p.products || [];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border rounded mb-3 p-2 text-[11px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap justify-between mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Date: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1748,\n                    columnNumber: 27\n                  }, this), p.date ? new Date(p.date).toLocaleString() : \"-\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1747,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Grand: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1754,\n                    columnNumber: 27\n                  }, this), p.grandTotal, \" \\xA0|\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Paid: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1756,\n                    columnNumber: 27\n                  }, this), p.paidNow, \" \\xA0|\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [\"Remaining:\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1758,\n                    columnNumber: 27\n                  }, this), p.pending]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1753,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1746,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-[11px] border mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5\",\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1768,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1769,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5\",\n                      children: \"Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1770,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1771,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border px-1 py-0.5\",\n                      children: \"Line Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1772,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1767,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1766,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: idx + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1778,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.productName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1781,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.qty || it.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1784,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.pricePerKg || it.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1787,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border px-1 py-0.5\",\n                      children: it.lineTotal\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1790,\n                      columnNumber: 31\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1777,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1775,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1765,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 flex justify-end gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => alert(\"Edit in form: we can wire this to Purchases later.\"),\n                  className: \"px-2 py-1 bg-sky-600 text-white rounded\",\n                  children: \"Edit in Form\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1799,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeletePurchase(p),\n                  className: \"px-2 py-1 bg-red-600 text-white rounded\",\n                  children: \"\\uD83D\\uDDD1 Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1809,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1798,\n                columnNumber: 23\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1742,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1703,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1664,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1640,\n    columnNumber: 5\n  }, this);\n}\n\n/* Purchases */\n_s6(VendorPurchaseManagement, \"cVXa2hJG5b+rtPz51Xq2U7V5hYM=\");\n_c7 = VendorPurchaseManagement;\nfunction Purchases({\n  t\n}) {\n  _s7();\n  const [vendorName, setVendorName] = useState('');\n  const [rows, setRows] = useState([{\n    productName: '',\n    qty: 1,\n    pricePerKg: 0\n  }]);\n  const [paidNow, setPaidNow] = useState(0);\n  const [mode, setMode] = useState('cash');\n  const [records, setRecords] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [filterDate, setFilterDate] = useState('');\n  const [selectedVendorName, setSelectedVendorName] = useState('');\n\n  // Load purchases from database\n  useEffect(() => {\n    loadPurchases();\n  }, []);\n  async function loadPurchases() {\n    try {\n      const res = await fetch('http://localhost:4000/api/purchases');\n      const j = await res.json();\n      if (!j.ok) {\n        console.error(j.message || 'Failed to load purchases');\n        return;\n      }\n      setRecords(j.purchases || []);\n    } catch (e) {\n      console.error('Error loading purchases', e);\n    }\n  }\n\n  // Build vendor map\n  const vendorMap = new Map();\n  (records || []).forEach(r => {\n    const name = r.vendorName || 'Unknown';\n    if (!vendorMap.has(name)) {\n      vendorMap.set(name, {\n        vendorName: name,\n        totalGrand: 0,\n        totalPaid: 0,\n        totalPending: 0,\n        purchases: []\n      });\n    }\n    const entry = vendorMap.get(name);\n    entry.totalGrand += Number(r.grandTotal || 0);\n    entry.totalPaid += Number(r.paidNow || 0);\n    entry.totalPending += Number(r.pending || 0);\n    entry.purchases.push(r);\n  });\n  const vendorsSummary = Array.from(vendorMap.values()).sort((a, b) => b.totalPending - a.totalPending);\n  const selectedVendorSummary = vendorsSummary.find(v => v.vendorName === selectedVendorName) || null;\n  function addRow() {\n    setRows(prev => [...prev, {\n      productName: '',\n      qty: 1,\n      pricePerKg: 0\n    }]);\n  }\n  function updateRow(i, key, value) {\n    const a = [...rows];\n    a[i][key] = value;\n    setRows(a);\n  }\n\n  // Fixed calculation: quantity * price only (no weight)\n  const total = rows.reduce((s, r) => s + Number(r.qty || 0) * Number(r.pricePerKg || 0), 0);\n  const remaining = +(total - Number(paidNow || 0)).toFixed(2);\n  async function savePurchase() {\n    const payloadProducts = rows.map(r => ({\n      productName: r.productName,\n      qty: Number(r.qty || 0),\n      pricePerKg: Number(r.pricePerKg || 0)\n    }));\n    const payload = {\n      vendorName,\n      products: payloadProducts,\n      paidNow,\n      modeOfPayment: mode\n    };\n    try {\n      let j;\n      if (editingIndex !== null && editingId) {\n        const res = await fetch(`http://localhost:4000/api/purchases/${editingId}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        });\n        j = await res.json();\n        if (!j.ok) {\n          alert(j.message || 'Failed to update purchase');\n          return;\n        }\n        const updated = j.record;\n        setRecords(prev => prev.map(p => p.id === updated.id ? updated : p));\n        alert('Purchase updated');\n      } else {\n        const res = await fetch('http://localhost:4000/api/save-purchase', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        });\n        j = await res.json();\n        if (!j.ok) {\n          alert(j.message || 'Failed to save purchase');\n          return;\n        }\n        setRecords(prev => [...prev, j.record]);\n        alert('Purchase saved');\n      }\n\n      // Reset form\n      setEditingIndex(null);\n      setEditingId(null);\n      setVendorName('');\n      setPaidNow(0);\n      setMode('cash');\n      setRows([{\n        productName: '',\n        qty: 1,\n        pricePerKg: 0\n      }]);\n\n      // Reload purchases\n      loadPurchases();\n    } catch (e) {\n      console.error(e);\n      alert('Error saving purchase');\n    }\n  }\n  function editPurchase(index) {\n    const r = records[index];\n    if (!r) return;\n    setVendorName(r.vendorName || '');\n    setPaidNow(Number(r.paidNow || 0));\n    setMode(r.modeOfPayment || 'cash');\n    const restoredRows = (r.products || []).map(p => ({\n      productName: p.productName,\n      qty: p.qty || p.quantity || 0,\n      pricePerKg: p.pricePerKg || p.price || 0\n    }));\n    setRows(restoredRows.length ? restoredRows : [{\n      productName: '',\n      qty: 1,\n      pricePerKg: 0\n    }]);\n    setEditingIndex(index);\n    setEditingId(r.id);\n  }\n  async function deletePurchase(index) {\n    const r = records[index];\n    if (!r || !r.id) return;\n    if (!window.confirm('Delete this purchase?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${r.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete purchase');\n        return;\n      }\n      setRecords(prev => prev.filter(x => x.id !== r.id));\n      alert('Purchase deleted');\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting purchase');\n    }\n  }\n  const displayedRecords = filterDate ? records.filter(r => {\n    if (!r.date) return false;\n    return r.date.slice(0, 10) === filterDate;\n  }) : records;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: t('purchases')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2035,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: t('vendorName'),\n        value: vendorName,\n        onChange: e => setVendorName(e.target.value),\n        className: \"border p-2 w-full mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2038,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-sky-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2049,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2050,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2051,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2052,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2053,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2048,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2047,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rows.map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2059,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1\",\n                value: r.productName,\n                onChange: e => updateRow(i, 'productName', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2061,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2060,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 w-20\",\n                type: \"number\",\n                value: r.qty,\n                onChange: e => updateRow(i, 'qty', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2070,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2069,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"border p-1 w-28\",\n                type: \"number\",\n                value: r.pricePerKg,\n                onChange: e => updateRow(i, 'pricePerKg', Number(e.target.value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2080,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2079,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: (Number(r.qty || 0) * Number(r.pricePerKg || 0)).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2089,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2058,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2056,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2046,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addRow,\n          className: \"px-3 py-1 border rounded hover:shadow transition\",\n          children: \"\\u2795 Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: mode,\n          onChange: e => setMode(e.target.value),\n          className: \"border p-1 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cash\",\n            children: t('cash')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"card\",\n            children: t('card')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cheque\",\n            children: t('cheque')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"online\",\n            children: t('online')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-auto flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Amount Paid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: paidNow,\n            onChange: e => setPaidNow(Number(e.target.value)),\n            className: \"border p-1 w-28\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 py-2 bg-gray-50 rounded\",\n            children: [\"Remaining:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: remaining.toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: savePurchase,\n            className: \"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition\",\n            children: editingIndex !== null ? 'Update Purchase' : 'Save Purchase'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2037,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VendorPurchaseManagement, {\n      t: t\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2034,\n    columnNumber: 5\n  }, this);\n}\n\n/* Reports */\n_s7(Purchases, \"riSlqXVBosWUAjYs/DkLnU8kLP4=\");\n_c8 = Purchases;\nfunction Reports({\n  t\n}) {\n  _s8();\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const [report, setReport] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n  async function loadReport(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    if (!date) {\n      alert('Select a date');\n      return;\n    }\n    setLoading(true);\n    setErr('');\n    setReport(null);\n    try {\n      const res = await fetch(`http://localhost:4000/api/reports/day?date=${date}`);\n      const j = await res.json();\n      if (!j.ok) throw new Error(j.message || 'Failed to load report');\n      setReport(j);\n    } catch (e) {\n      console.error(e);\n      setErr('Failed to load report');\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: loadReport,\n        className: \"flex flex-wrap items-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-1\",\n            children: \"Select Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: date,\n            onChange: e => setDate(e.target.value),\n            className: \"border p-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition\",\n          children: loading ? 'Loading…' : 'Load Report'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2192,\n          columnNumber: 11\n        }, this), err && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-600 text-sm ml-2\",\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2198,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2181,\n      columnNumber: 7\n    }, this), !report && !loading && !err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: \"Select a date and click \\\"Load Report\\\" to view details.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2203,\n      columnNumber: 9\n    }, this), report && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Total Sales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: Number(report.totalSales || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2211,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Amount Received\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: Number(report.totalReceived || 0).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Number of Bills\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xl font-semibold\",\n            children: (report.invoices || []).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: [\"Products Sold on \", report.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2230,\n          columnNumber: 13\n        }, this), (report.productsSummary || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"No products sold on this date.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2232,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-sm border\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"border px-2 py-1 text-left\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2237,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"border px-2 py-1 text-right\",\n                children: \"Total Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2236,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2235,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: report.productsSummary.map((p, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1\",\n                children: p.productName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2244,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-right\",\n                children: p.totalQty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2245,\n                columnNumber: 23\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2243,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2241,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2234,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: \"Bills / Invoices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2254,\n          columnNumber: 13\n        }, this), (report.invoices || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"No invoices on this date.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2256,\n          columnNumber: 15\n        }, this), (report.invoices || []).map(inv => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded mb-4 p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap justify-between text-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Customer: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2262,\n                columnNumber: 21\n              }, this), inv.customerName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Time: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2266,\n                columnNumber: 21\n              }, this), inv.date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2265,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2260,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-4 text-sm mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Grand Total: \", inv.grandTotal]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2271,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Paid: \", inv.paidNow]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2272,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Pending:  \", inv.pending]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2273,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-xs border\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"border px-1 py-0.5\",\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2278,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"border px-1 py-0.5\",\n                  children: \"Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2279,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"border px-1 py-0.5\",\n                  children: \"Qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2280,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"border px-1 py-0.5\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2281,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"border px-1 py-0.5\",\n                  children: \"Line Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2282,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2277,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2276,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: (inv.products || inv.lines || []).map((p, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"border px-1 py-0.5\",\n                  children: idx + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2288,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"border px-1 py-0.5\",\n                  children: p.productName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2289,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"border px-1 py-0.5\",\n                  children: p.quantity || p.qty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2290,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"border px-1 py-0.5\",\n                  children: p.pricePerKg || p.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2291,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"border px-1 py-0.5\",\n                  children: p.lineTotal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2292,\n                  columnNumber: 25\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2287,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2285,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2275,\n            columnNumber: 17\n          }, this)]\n        }, inv.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2259,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2253,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2178,\n    columnNumber: 5\n  }, this);\n}\n\n/* Debits */\n_s8(Reports, \"ImpzpXrxzFU9LqLJ6vgctTLu2Q4=\");\n_c9 = Reports;\nfunction Debits({\n  t\n}) {\n  _s9();\n  var _vendors$find$remaini, _vendors$find;\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendorId, setSelectedVendorId] = useState('');\n  const [vendorName, setVendorName] = useState('');\n  const [vendorPlace, setVendorPlace] = useState('');\n  const [vendorCompany, setVendorCompany] = useState('');\n  const [editingVendorId, setEditingVendorId] = useState(null);\n  const [ledger, setLedger] = useState([]);\n  const [txType, setTxType] = useState('received');\n  const [txAmount, setTxAmount] = useState(0);\n  const [txMethod, setTxMethod] = useState('');\n  const [txBillRef, setTxBillRef] = useState('');\n  const [txDate, setTxDate] = useState('');\n  const [editingTxId, setEditingTxId] = useState(null);\n  const [purchaseDebits, setPurchaseDebits] = useState([]);\n  const [loadingPurchases, setLoadingPurchases] = useState(false);\n  useEffect(() => {\n    loadVendors();\n    loadPurchaseDebits();\n  }, []);\n  async function loadVendors() {\n    try {\n      const res = await fetch('http://localhost:4000/api/vendors');\n      const j = await res.json();\n      if (j.ok) setVendors(j.vendors || []);\n    } catch (e) {\n      console.error('Failed to load vendors', e);\n    }\n  }\n  async function loadLedger(vendorId) {\n    if (!vendorId) {\n      setLedger([]);\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendorId}/ledger`);\n      const j = await res.json();\n      if (j.ok) {\n        setLedger(j.ledger || []);\n        setVendors(prev => prev.map(v => v.id === vendorId ? j.vendor : v));\n      }\n    } catch (e) {\n      console.error('Failed to load ledger', e);\n    }\n  }\n  async function loadPurchaseDebits() {\n    try {\n      setLoadingPurchases(true);\n      const res = await fetch('http://localhost:4000/api/purchases-with-pending');\n      const j = await res.json();\n      if (j.ok) setPurchaseDebits(j.purchases || []);\n    } catch (e) {\n      console.error('Failed to load purchase debits', e);\n    } finally {\n      setLoadingPurchases(false);\n    }\n  }\n  function onSelectVendor(id) {\n    setSelectedVendorId(id);\n    setEditingTxId(null);\n    resetTxForm();\n    if (id) loadLedger(id);else setLedger([]);\n  }\n  function startNewVendor() {\n    setVendorName('');\n    setVendorPlace('');\n    setVendorCompany('');\n    setEditingVendorId(null);\n  }\n  function startEditVendor(vendor) {\n    setVendorName(vendor.name || '');\n    setVendorPlace(vendor.place || '');\n    setVendorCompany(vendor.company || '');\n    setEditingVendorId(vendor.id);\n  }\n  async function saveVendor() {\n    if (!vendorName) {\n      alert('Vendor name is required');\n      return;\n    }\n    const payload = {\n      id: editingVendorId || undefined,\n      name: vendorName,\n      place: vendorPlace,\n      company: vendorCompany\n    };\n    try {\n      const res = await fetch('http://localhost:4000/api/vendors', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to save vendor');\n        return;\n      }\n      const v = j.vendor;\n      setVendors(prev => {\n        const idx = prev.findIndex(x => x.id === v.id);\n        if (idx === -1) return [...prev, v];\n        const copy = [...prev];\n        copy[idx] = v;\n        return copy;\n      });\n      setVendorName('');\n      setVendorPlace('');\n      setVendorCompany('');\n      setEditingVendorId(null);\n    } catch (e) {\n      console.error(e);\n      alert('Error saving vendor');\n    }\n  }\n  async function deleteVendor(vendor) {\n    if (!window.confirm(`Delete vendor \"${vendor.name}\" and all its debits?`)) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendor.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete vendor');\n        return;\n      }\n      setVendors(prev => prev.filter(v => v.id !== vendor.id));\n      if (selectedVendorId === vendor.id) {\n        setSelectedVendorId('');\n        setLedger([]);\n      }\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting vendor');\n    }\n  }\n  async function deletePurchaseDebit(p) {\n    if (!p || !p.id) return;\n    if (!window.confirm('Delete this pending purchase?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${p.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete purchase');\n        return;\n      }\n      setPurchaseDebits(prev => prev.filter(x => x.id !== p.id));\n      alert('Purchase deleted');\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting purchase');\n    }\n  }\n  function resetTxForm() {\n    setTxType('received');\n    setTxAmount(0);\n    setTxMethod('');\n    setTxBillRef('');\n    setTxDate('');\n    setEditingTxId(null);\n  }\n  function startEditTx(tx) {\n    setTxType(tx.type);\n    setTxAmount(tx.amount);\n    setTxMethod(tx.method || '');\n    setTxBillRef(tx.billRef || '');\n    setTxDate(tx.date ? tx.date.slice(0, 10) : '');\n    setEditingTxId(tx.id);\n  }\n  async function saveTransaction() {\n    if (!selectedVendorId) {\n      alert('Select a vendor first');\n      return;\n    }\n    if (!txAmount || Number(txAmount) <= 0) {\n      alert('Amount must be greater than 0');\n      return;\n    }\n    const payload = {\n      type: txType,\n      amount: Number(txAmount),\n      method: txMethod,\n      billRef: txBillRef,\n      date: txDate ? new Date(txDate).toISOString() : undefined\n    };\n    try {\n      let url = `http://localhost:4000/api/vendors/${selectedVendorId}/transactions`;\n      let method = 'POST';\n      if (editingTxId) {\n        url += `/${editingTxId}`;\n        method = 'PUT';\n      }\n      const res = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to save transaction');\n        return;\n      }\n      setLedger(j.ledger || []);\n      setVendors(prev => prev.map(v => v.id === selectedVendorId ? j.vendor : v));\n      resetTxForm();\n    } catch (e) {\n      console.error(e);\n      alert('Error saving transaction');\n    }\n  }\n  async function deleteTransaction(tx) {\n    if (!selectedVendorId) return;\n    if (!window.confirm('Delete this transaction?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${selectedVendorId}/transactions/${tx.id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete');\n        return;\n      }\n      setLedger(j.ledger || []);\n      setVendors(prev => prev.map(v => v.id === selectedVendorId ? j.vendor : v));\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting transaction');\n    }\n  }\n  async function editPurchaseDebit(p) {\n    if (!p || !p.id) return;\n    const newPaidStr = prompt('Enter new paid amount for this purchase:', String(p.paidNow || 0));\n    if (newPaidStr === null) return;\n    const newPaid = Number(newPaidStr);\n    if (isNaN(newPaid)) {\n      alert('Invalid amount');\n      return;\n    }\n    const payload = {\n      vendorName: p.vendorName,\n      products: p.products || [],\n      paidNow: newPaid,\n      modeOfPayment: p.modeOfPayment\n    };\n    try {\n      const res = await fetch(`http://localhost:4000/api/purchases/${p.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to update purchase');\n        return;\n      }\n      const updated = j.record;\n      setPurchaseDebits(prev => {\n        const arr = prev.map(x => x.id === updated.id ? updated : x).filter(x => Number(x.pending || 0) > 0);\n        return arr;\n      });\n      alert('Purchase updated');\n    } catch (e) {\n      console.error(e);\n      alert('Error updating purchase');\n    }\n  }\n  const totalReceived = ledger.filter(tx => tx.type === 'received').reduce((s, tx) => s + Number(tx.amount || 0), 0);\n  const totalPaid = ledger.filter(tx => tx.type === 'paid').reduce((s, tx) => s + Number(tx.amount || 0), 0);\n  const totalGoods = ledger.filter(tx => tx.type === 'goods').reduce((s, tx) => s + Number(tx.amount || 0), 0);\n  const remaining = (_vendors$find$remaini = (_vendors$find = vendors.find(v => v.id === selectedVendorId)) === null || _vendors$find === void 0 ? void 0 : _vendors$find.remaining) !== null && _vendors$find$remaini !== void 0 ? _vendors$find$remaini : 0;\n  const selectedVendor = vendors.find(v => v.id === selectedVendorId) || null;\n  const filteredPurchases = selectedVendor ? purchaseDebits.filter(p => (p.vendorName || '').toLowerCase() === (selectedVendor.name || '').toLowerCase()) : purchaseDebits;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Debits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2651,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-3\",\n            children: \"Vendor Debit Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2656,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-2 rounded w-full\",\n              placeholder: \"Vendor Name\",\n              value: vendorName,\n              onChange: e => setVendorName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2658,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-2 rounded w-full\",\n              placeholder: \"Place / Location\",\n              value: vendorPlace,\n              onChange: e => setVendorPlace(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2664,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"border p-2 rounded w-full\",\n              placeholder: \"Company Name\",\n              value: vendorCompany,\n              onChange: e => setVendorCompany(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2670,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: saveVendor,\n                className: \"px-3 py-1 bg-teal-600 text-white rounded hover:bg-teal-700 text-sm\",\n                children: editingVendorId ? 'Update Vendor' : 'Save Vendor'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2677,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startNewVendor,\n                className: \"px-3 py-1 border rounded text-sm\",\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2683,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2676,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2657,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2655,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow max-h-[400px] overflow-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-3\",\n            children: \"Vendors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2694,\n            columnNumber: 13\n          }, this), vendors.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"No vendors yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2696,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-left\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2701,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-right\",\n                  children: \"Remaining\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2702,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-2 text-center\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2703,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2700,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2699,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: vendors.map(v => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: 'border-t ' + (v.id === selectedVendorId ? 'bg-sky-50' : ''),\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => onSelectVendor(v.id),\n                    className: \"text-left text-xs hover:underline\",\n                    children: [v.name, v.company ? ` (${v.company})` : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2716,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2715,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-right\",\n                  children: Number(v.remaining || 0).toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2724,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => startEditVendor(v),\n                    className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2728,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteVendor(v),\n                    className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                    children: \"\\uD83D\\uDDD1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2734,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2727,\n                  columnNumber: 23\n                }, this)]\n              }, v.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2708,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2706,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2698,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2693,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2654,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-3\",\n            children: selectedVendorId ? 'Vendor Ledger' : 'Select a Vendor'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2751,\n            columnNumber: 13\n          }, this), selectedVendorId && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Total Received\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2759,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: totalReceived.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2760,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2758,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Total Paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2765,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: totalPaid.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2766,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2764,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Goods Purchased\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2771,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: totalGoods.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2772,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2770,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-sky-50 p-2 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Remaining\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2777,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: Number(remaining || 0).toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2778,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2776,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2757,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border rounded p-3 mb-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold mb-2\",\n                children: editingTxId ? 'Edit Transaction' : 'Add Transaction'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2785,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-5 gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"border p-2 rounded\",\n                  value: txType,\n                  onChange: e => setTxType(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"received\",\n                    children: \"Received from Vendor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2794,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"paid\",\n                    children: \"Paid to Vendor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2795,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"goods\",\n                    children: \"Goods Purchased (vendor takes goods)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2796,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2789,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"border p-2 rounded\",\n                  placeholder: \"Amount\",\n                  value: txAmount,\n                  onChange: e => setTxAmount(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2800,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"border p-2 rounded\",\n                  value: txDate,\n                  onChange: e => setTxDate(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2807,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-2 rounded\",\n                  placeholder: \"Payment Method\",\n                  value: txMethod,\n                  onChange: e => setTxMethod(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2813,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border p-2 rounded\",\n                  placeholder: \"Remarks\",\n                  value: txBillRef,\n                  onChange: e => setTxBillRef(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2819,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2788,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: saveTransaction,\n                  className: \"px-3 py-1 bg-teal-600 text-white rounded text-sm\",\n                  children: editingTxId ? 'Update Transaction' : 'Save Transaction'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2827,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetTxForm,\n                  className: \"px-3 py-1 border rounded text-sm\",\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2833,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2826,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2784,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-h-[380px] overflow-auto text-xs\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left\",\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2846,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left\",\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2847,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-right\",\n                      children: \"Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2848,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left\",\n                      children: \"Method\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2849,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-left\",\n                      children: \"Remarks\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2850,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-right\",\n                      children: \"Balance After\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2851,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"p-2 text-center\",\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2852,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2845,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2844,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [ledger.map(tx => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"border-t\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: tx.date ? new Date(tx.date).toLocaleDateString() : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2858,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 capitalize\",\n                      children: tx.type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2863,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 text-right\",\n                      children: Number(tx.amount || 0).toFixed(2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2864,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: tx.method\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2867,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: tx.billRef\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2868,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 text-right\",\n                      children: Number(tx.balanceAfter || 0).toFixed(2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2869,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => startEditTx(tx),\n                        className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2873,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => deleteTransaction(tx),\n                        className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                        children: \"\\uD83D\\uDDD1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2879,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2872,\n                      columnNumber: 27\n                    }, this)]\n                  }, tx.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2857,\n                    columnNumber: 25\n                  }, this)), ledger.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: 7,\n                      className: \"p-2 text-center text-gray-500\",\n                      children: \"No transactions yet.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2890,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2889,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2855,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2843,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2842,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), !selectedVendorId && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Select a vendor on the left to view and manage their debits.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2905,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2750,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2749,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2653,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold\",\n          children: \"Purchased Vendor (Pending Purchases)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2915,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadPurchaseDebits,\n          className: \"ml-auto px-3 py-1 text-xs border rounded\",\n          children: loadingPurchases ? 'Refreshing…' : 'Refresh'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2916,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2914,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mb-2\",\n        children: [\"Showing all purchases where some amount is still pending.\", selectedVendor ? ` (Filtered by vendor: ${selectedVendor.name})` : ' (All vendors)']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2923,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Vendor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2932,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2933,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2934,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2935,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Grand Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2936,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2937,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-right\",\n              children: \"Remaining\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2938,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2939,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-center\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2940,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2931,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2930,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [filteredPurchases.map(p => {\n            const productsList = (p.products || []).map(x => x.productName).join(', ');\n            const totalQty = (p.products || []).reduce((s, x) => s + Number(x.qty || x.quantity || 0), 0);\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: p.vendorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2952,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: p.date ? new Date(p.date).toLocaleDateString() : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2953,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: productsList || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2956,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: totalQty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2957,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: Number(p.grandTotal || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2958,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: Number(p.paidNow || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2961,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-right\",\n                children: Number(p.pending || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2964,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: p.modeOfPayment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2967,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => editPurchaseDebit(p),\n                  className: \"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2969,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deletePurchaseDebit(p),\n                  className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n                  children: \"\\uD83D\\uDDD1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2975,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2968,\n                columnNumber: 19\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2951,\n              columnNumber: 17\n            }, this);\n          }), filteredPurchases.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 text-center text-gray-500\",\n              colSpan: 9,\n              children: \"No pending purchases found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2987,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2986,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2943,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2929,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2913,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2650,\n    columnNumber: 5\n  }, this);\n}\n_s9(Debits, \"lvukjGN0vac7D9bjeSB75hZmFnw=\");\n_c0 = Debits;\nfunction RecycleBin({\n  t\n}) {\n  _s0();\n  const [activeType, setActiveType] = useState('sales');\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n  async function loadItems(type = activeType) {\n    try {\n      setLoading(true);\n      setErr('');\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${type}`);\n      const j = await res.json();\n      if (!j.ok) throw new Error(j.message || 'Failed to load recycle bin');\n      setItems(j.items || []);\n    } catch (e) {\n      console.error(e);\n      setErr(e.message || 'Failed to load recycle bin');\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    loadItems('sales');\n  }, []);\n  function changeType(type) {\n    setActiveType(type);\n    loadItems(type);\n  }\n  async function handleRestore(id) {\n    if (!window.confirm('Restore this record?')) return;\n    try {\n      const res = await fetch('http://localhost:4000/api/recycle-bin/restore', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          type: activeType,\n          id\n        })\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to restore');\n        return;\n      }\n      await loadItems();\n      alert('Restored successfully');\n    } catch (e) {\n      console.error(e);\n      alert('Error restoring item');\n    }\n  }\n  async function handleDelete(id) {\n    if (!window.confirm('Permanently delete this item?')) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${activeType}/${id}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete from recycle bin');\n        return;\n      }\n      await loadItems();\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting item');\n    }\n  }\n  async function handleDeleteAll() {\n    if (!window.confirm(`Permanently delete ALL ${activeType} items from recycle bin?`)) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${activeType}`, {\n        method: 'DELETE'\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete all');\n        return;\n      }\n      await loadItems();\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting all items');\n    }\n  }\n  function renderMainLabel(item) {\n    if (activeType === 'sales') {\n      return `${item.customerName || 'Unknown'} — Grand: ${item.grandTotal} | Pending: ${item.pending}`;\n    }\n    if (activeType === 'purchases') {\n      return `${item.vendorName || 'Unknown'} — Grand: ${item.grandTotal} | Pending: ${item.pending}`;\n    }\n    if (activeType === 'vendors') {\n      return `${item.name || 'Vendor'} — Remaining: ${item.remaining || 0}`;\n    }\n    if (activeType === 'customers') {\n      return `${item.name || 'Customer'} — Pending: ${item.previousPending || 0}`;\n    }\n    return 'Item';\n  }\n  function formatDate(iso) {\n    if (!iso) return '';\n    try {\n      return new Date(iso).toLocaleString();\n    } catch {\n      return iso;\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Recycle Bin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-4\",\n      children: [['sales', 'purchases', 'vendors', 'customers'].map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => changeType(type),\n        className: 'px-3 py-1 rounded text-sm ' + (activeType === type ? 'bg-sky-600 text-white' : 'bg-white text-sky-700 border'),\n        children: type.charAt(0).toUpperCase() + type.slice(1)\n      }, type, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3128,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => loadItems(),\n        className: \"ml-auto px-3 py-1 text-xs bg-gray-100 border rounded hover:bg-gray-200\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteAll,\n        className: \"px-3 py-1 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200\",\n        children: \"Delete All Permanently\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3126,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-2\",\n      children: \"Loading recycle bin\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3157,\n      columnNumber: 9\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-red-600 mb-2\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3159,\n      columnNumber: 15\n    }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500\",\n      children: [\"No deleted \", activeType, \" records in recycle bin.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3162,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded shadow divide-y\",\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 flex flex-wrap justify-between items-center text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-0.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: renderMainLabel(item)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3173,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"ID: \", item.id, ' ', item.date && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"| Date: \", formatDate(item.date)]\n            }, void 0, true), item.deletedAt && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [' ', \"| Deleted:\", ' ', formatDate(item.deletedAt)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3174,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3172,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 mt-1 sm:mt-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRestore(item.id),\n            className: \"px-2 py-1 text-xs bg-emerald-600 text-white rounded\",\n            children: \"Restore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3188,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(item.id),\n            className: \"px-2 py-1 text-xs bg-red-600 text-white rounded\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3194,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3187,\n          columnNumber: 15\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3168,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3166,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3123,\n    columnNumber: 5\n  }, this);\n}\n\n/* Settings */\n_s0(RecycleBin, \"onojJ+/99yVsWHh6Rf9VwWxSPVU=\");\n_c1 = RecycleBin;\nfunction Settings({\n  t,\n  onLogoChange\n}) {\n  _s1();\n  const [logoData, setLogoData] = useState(localStorage.getItem('erp_logo') || '');\n  function upload(e) {\n    const f = e.target.files[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = ev => {\n      setLogoData(ev.target.result);\n      onLogoChange(ev.target.result);\n    };\n    reader.readAsDataURL(f);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: t('settings')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Upload Logo (PNG/JPG)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: upload,\n        className: \"mt-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3227,\n        columnNumber: 9\n      }, this), logoData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoData,\n          className: \"h-28\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3228,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3228,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3223,\n    columnNumber: 5\n  }, this);\n}\n_s1(Settings, \"wLRAgUtlOK3CM6cwxNPKBnVbKQo=\");\n_c10 = Settings;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Login\");\n$RefreshReg$(_c4, \"Dashboard\");\n$RefreshReg$(_c5, \"Products\");\n$RefreshReg$(_c6, \"Sales\");\n$RefreshReg$(_c7, \"VendorPurchaseManagement\");\n$RefreshReg$(_c8, \"Purchases\");\n$RefreshReg$(_c9, \"Reports\");\n$RefreshReg$(_c0, \"Debits\");\n$RefreshReg$(_c1, \"RecycleBin\");\n$RefreshReg$(_c10, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","STR","en","addProduct","addCustomer","paidNow","remaining","previousPending","savePrint","products","customers","purchases","sales","reports","debits","settings","login","username","password","loginBtn","vendorName","modeOfPayment","cash","card","cheque","online","availableproducts","recycleBin","ur","App","_s","lang","setLang","localStorage","getItem","route","setRoute","user","setUser","logo","setLogo","t","k","Login","onSuccess","u","fileName","_jsxFileName","lineNumber","columnNumber","titleMap","dashboard","RecycleBin","currentTitle","className","children","src","alt","map","value","label","onClick","onChange","e","l","target","setItem","Dashboard","Products","Sales","Purchases","Reports","Debits","Settings","onLogoChange","_c","Header","removeItem","_c2","_s2","setU","p","setP","err","setErr","submit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","Error","j","json","onSubmit","placeholder","type","_c3","_s3","activeTab","setActiveTab","setSales","selectedCustomerName","setSelectedCustomerName","loading","setLoading","logoUrl","stock","setStock","movements","setMovements","stockLoading","setStockLoading","stockErr","setStockErr","loadSales","loadStockData","message","console","error","pRes","sRes","Promise","all","pJson","sJson","salesData","mvts","forEach","lines","line","push","date","productName","bagWeight","Number","weight","bagsDelta","qty","quantity","s","customerGroup","Map","name","customerName","has","set","invoices","totalGrand","totalPaid","entry","get","grandTotal","customersWithPending","Array","from","values","sortedInvoices","sort","a","b","Date","last","length","latestPending","pending","totalPending","filter","selectedCustomer","find","c","stockSummaryMap","mv","bagWt","key","purchased","sold","row","bags","Math","abs","stockSummaryRows","r","available","localeCompare","maxStockValue","max","productTotalsMap","productTotals","maxProductValue","totalAvailableBags","reduce","sum","totalProductsInStock","lowStockCount","topProductsForBars","slice","printInvoiceForRecord","record","dateTime","toLocaleString","items","customerTotal","html","it","i","pricePerKg","price","lineTotal","toFixed","join","w","window","open","document","write","close","setTimeout","print","deleteSaleFromDashboard","id","confirm","alert","prev","inv","idx","style","width","title","_c4","_s4","setName","setQuantity","list","setList","then","catch","add","prod","_c5","_s5","setCustomers","productsList","setProductsList","selectedCustomerId","setSelectedCustomerId","setCustomerName","setPreviousPending","setItems","setPaidNow","calc","setCalc","salesRecords","setSalesRecords","editingIndex","setEditingIndex","editingId","setEditingId","prompt","location","prevList","customer","addItem","updateItem","copy","onSelectCustomer","x","calculate","printGate","printInvoice","saveAndPrint","customerId","j2","deleteSale","editSales","index","restoredItems","item","_ref","_item$quantity","_ref2","_item$pricePerKg","_c6","VendorPurchaseManagement","_s6","vendorsSummary","setVendorsSummary","selectedVendorName","setSelectedVendorName","loadVendorPurchases","g","groups","handleDeletePurchase","purchase","selectedVendorSummary","v","totalPendingAll","_c7","_s7","setVendorName","rows","setRows","mode","setMode","records","setRecords","filterDate","setFilterDate","loadPurchases","vendorMap","addRow","updateRow","total","savePurchase","payloadProducts","payload","updated","editPurchase","restoredRows","deletePurchase","displayedRecords","_c8","_s8","setDate","toISOString","report","setReport","loadReport","totalSales","totalReceived","productsSummary","totalQty","_c9","_s9","_vendors$find$remaini","_vendors$find","vendors","setVendors","selectedVendorId","setSelectedVendorId","vendorPlace","setVendorPlace","vendorCompany","setVendorCompany","editingVendorId","setEditingVendorId","ledger","setLedger","txType","setTxType","txAmount","setTxAmount","txMethod","setTxMethod","txBillRef","setTxBillRef","txDate","setTxDate","editingTxId","setEditingTxId","purchaseDebits","setPurchaseDebits","loadingPurchases","setLoadingPurchases","loadVendors","loadPurchaseDebits","loadLedger","vendorId","vendor","onSelectVendor","resetTxForm","startNewVendor","startEditVendor","place","company","saveVendor","undefined","findIndex","deleteVendor","deletePurchaseDebit","startEditTx","tx","amount","billRef","saveTransaction","url","deleteTransaction","editPurchaseDebit","newPaidStr","String","newPaid","isNaN","arr","totalGoods","selectedVendor","filteredPurchases","toLowerCase","toLocaleDateString","balanceAfter","colSpan","_c0","_s0","activeType","setActiveType","loadItems","changeType","handleRestore","handleDelete","handleDeleteAll","renderMainLabel","formatDate","iso","charAt","toUpperCase","deletedAt","_c1","_s1","logoData","setLogoData","upload","f","files","reader","FileReader","onload","ev","result","readAsDataURL","accept","_c10","$RefreshReg$"],"sources":["/home/usman/Desktop/erp_system_talha_project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst STR = {\n  en: {\n    addProduct: 'Add Product',\n    addCustomer: 'Add Customer',\n    paidNow: 'Paid Now',\n    remaining: 'Remaining',\n    previousPending: 'Previous Pending',\n    savePrint: 'Save & Print',\n    products: 'Products',\n    customers: 'Customers',\n    purchases: 'Purchases',\n    sales: 'Sales',\n    reports: 'Reports',\n    debits: 'Debits',\n    settings: 'Settings',\n    login: 'Welcome Back',\n    username: 'Username',\n    password: 'Password',\n    loginBtn: 'Login',\n    vendorName: 'Vendor Name',\n    modeOfPayment: 'Mode of Payment',\n    cash: 'Cash',\n    card: 'Card',\n    cheque: 'Cheque',\n    online: 'Online',\n    availableproducts: 'Available Products',\n    recycleBin: 'Recycle Bin',\n  },\n  ur: {\n    addProduct: 'مصنوع شامل کریں',\n    addCustomer: 'کسٹمر شامل کریں',\n    paidNow: 'ادائیگی',\n    remaining: 'بقیہ',\n    previousPending: 'پچھلا بقایا',\n    savePrint: 'محفوظ کریں اور پرنٹ کریں',\n    products: 'پراڈکٹس',\n    customers: 'کسٹمرز',\n    purchases: 'خریداری',\n    sales: 'فروخت',\n    reports: 'رپورٹس',\n    debits: 'ادائیگیاں',\n    settings: 'سیٹنگز',\n    login: 'لاگ ان کریں',\n    username: 'یوزر',\n    password: 'پاس ورڈ',\n    loginBtn: 'لاگ ان',\n    vendorName: 'سپلائر کا نام',\n    modeOfPayment: 'ادائیگی کا طریقہ',\n    cash: 'نقد',\n    card: 'کارڈ',\n    cheque: 'چیک',\n    online: 'آن لائن',\n    availableproducts: 'دستیاب مصنوعات',\n    recycleBin: 'ری سائیکل بن',\n    login: 'خوش آمدید',\n  }\n};\n\nfunction App() {\n  const [lang, setLang] = useState(localStorage.getItem('erp_lang') || 'en');\n  const [route, setRoute] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [logo, setLogo] = useState(localStorage.getItem('erp_logo') || '');\n\n  function t(k) { return STR[lang][k] || k; }\n\n  useEffect(() => { if (user) setRoute('dashboard'); }, [user]);\n\n  if (!user) {\n    return (\n      <Login\n        onSuccess={u => { setUser(u); }}\n        logo={logo}\n        t={t}\n        setLang={setLang}\n        lang={lang}\n      />\n    );\n  }\n\n  const titleMap = {\n    dashboard: 'Dashboard',\n    products: t('products'),\n    sales: t('sales'),\n    purchases: t('purchases'),\n    reports: t('reports'),\n    debits: t('debits'),\n    settings: t('settings'),\n    RecycleBin: t('Recycle Bin'),\n  };\n  const currentTitle = titleMap[route] || 'Recycle Bin';\n\n  return (\n    <div className=\"min-h-screen flex bg-slate-100 text-slate-900\">\n      {/* LEFT PANEL / SIDEBAR */}\n      <aside className=\"w-64 bg-slate-950 text-slate-50 flex flex-col\">\n        {/* Top: DP + title */}\n        <div className=\"px-4 py-5 flex items-center gap-3 border-b border-slate-800\">\n          {logo ? (\n            <img\n              src={logo}\n              alt=\"DP\"\n              className=\"h-12 w-12 rounded-full object-cover ring-2 ring-cyan-400 shadow-md\"\n            />\n          ) : (\n            <div className=\"h-12 w-12 rounded-full bg-slate-800 flex items-center justify-center text-sm font-semibold\">\n              Recycle Bin\n            </div>\n          )}\n          <div>\n            <div className=\"font-semibold text-white\">Ethehad Traders</div>\n            <div className=\"text-xs text-cyan-400\">ET & Co</div>\n          </div>\n        </div>\n\n        {/* Menu */}\n        <nav className=\"flex-1 px-2 py-4 space-y-1\">\n          {[\n            ['dashboard', 'Dashboard'],\n            ['products', t('products')],\n            ['sales', t('sales')],\n            ['purchases', t('purchases')],\n            ['reports', t('reports')],\n            ['debits', t('debits')],\n            ['settings', t('settings')],\n            ['recycleBin', t('Recycle Bin')],\n          ].map(([value, label]) => (\n            <button\n              key={value}\n              onClick={() => setRoute(value)}\n              className={`w-full flex items-center px-3 py-2 rounded-lg text-sm text-left transition\n                ${route === value\n                  ? 'bg-gradient-to-r from-cyan-500/20 via-sky-500/10 to-transparent text-white border-l-4 border-cyan-400'\n                  : 'text-slate-300 hover:bg-slate-800/60'\n                }`}\n            >\n              {label}\n            </button>\n          ))}\n        </nav>\n\n        {/* Bottom: user + logout + language */}\n        <div className=\"px-4 py-4 border-t border-slate-800 text-xs text-slate-400 flex items-center justify-between\">\n          <span>{user?.username}</span>\n          <div className=\"flex items-center gap-2\">\n            <select\n              value={lang}\n              onChange={e => { const l = e.target.value; setLang(l); localStorage.setItem('erp_lang', l); }}\n              className=\"bg-slate-900 border border-slate-700 rounded px-1 py-0.5 text-xs\"\n            >\n              <option value=\"en\">EN</option>\n              <option value=\"ur\">UR</option>\n            </select>\n            <button\n              onClick={() => { setUser(null); setRoute('login'); }}\n              className=\"text-red-400 hover:text-red-300\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      </aside>\n\n      {/* MAIN AREA */}\n      <main className=\"flex-1 relative overflow-hidden\">\n        {/* Faded background DP / logo */}\n        {logo && (\n          <img\n            src={logo}\n            alt=\"background\"\n            className=\"pointer-events-none select-none absolute inset-0 w-full h-full object-cover opacity-10\"\n          />\n        )}\n\n        <div className=\"relative h-full p-6\">\n          {/* Glass top bar */}\n          <div className=\"mb-6 bg-white/80 backdrop-blur-xl shadow-lg rounded-2xl px-6 py-4\">\n            <h1 className=\"text-lg font-semibold text-slate-800\">\n              {currentTitle}\n            </h1>\n          </div>\n\n          {/* Page content */}\n          <div className=\"relative z-10\">\n            {route === 'dashboard' && <Dashboard t={t} />}\n            {route === 'products' && <Products t={t} />}\n            {route === 'sales' && <Sales t={t} />}\n            {route === 'purchases' && <Purchases t={t} />}\n            {route === 'reports' && <Reports t={t} />}\n            {route === 'debits' && <Debits t={t} />}\n            {route === 'recycleBin' && <RecycleBin t={t} />}\n            {route === 'settings' && <Settings t={t} onLogoChange={l => { setLogo(l); localStorage.setItem('erp_logo', l); }} />}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nfunction Header({ setRoute, setUser, logo, setLogo, lang, setLang, t }) {\n  return (\n    <header className=\"bg-white shadow mb-4\">\n      <div className=\"max-w-6xl mx-auto px-2 sm:px-4 md:px-6 py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\n        {/* Left: logo + title */}\n        <div className=\"flex items-center gap-3\">\n          {logo ? (\n            <img\n              src={logo}\n              alt=\"logo\"\n              className=\"h-10 w-10 object-contain\"\n            />\n          ) : (\n            <div className=\"h-10 w-10 bg-sky-100 rounded flex items-center justify-center text-sky-600\">\n              Logo\n            </div>\n          )}\n          <h1 className=\"text-lg md:text-xl font-semibold text-sky-600\">\n            ERP\n          </h1>\n        </div>\n\n        {/* Right: nav */}\n        <nav className=\"flex flex-wrap items-center gap-2\">\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('dashboard')}\n          >\n            {t('Dashboard')}\n          </button>\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('products')}\n          >\n            {t('products')}\n          </button>\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('sales')}\n          >\n            {t('sales')}\n          </button>\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('purchases')}\n          >\n            {t('purchases')}\n          </button>\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('reports')}\n          >\n            {t('reports')}\n          </button>\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('debits')}\n          >\n            {t('debits')}\n          </button>\n          <button\n            className=\"px-3 py-1 rounded-md hover:bg-sky-50 transition text-xs sm:text-sm\"\n            onClick={() => setRoute('settings')}\n          >\n            {t('settings')}\n          </button>\n\n          <select\n            value={lang}\n            onChange={e => {\n              setLang(e.target.value);\n              localStorage.setItem('erp_lang', e.target.value);\n            }}\n            className=\"border rounded px-2 py-1 text-xs sm:text-sm\"\n          >\n            <option value=\"en\">EN</option>\n            <option value=\"ur\">UR</option>\n          </select>\n\n          <button\n            className=\"px-3 py-1 rounded-md bg-sky-600 text-white hover:bg-sky-700 transition text-xs sm:text-sm\"\n            onClick={() => {\n              setUser(null);\n              localStorage.removeItem('erp_lang');\n            }}\n          >\n            {t('login')}\n          </button>\n        </nav>\n      </div>\n    </header>\n  );\n}\n\n// Login function\nfunction Login({ onSuccess, logo, t, setLang, lang }) {\n  const [u, setU] = useState('admin');\n  const [p, setP] = useState('admin');\n  const [err, setErr] = useState('');\n\n  async function submit(e) {\n    e.preventDefault();\n    try {\n      const res = await fetch('http://localhost:4000/api/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username: u, password: p })\n      });\n      if (!res.ok) throw new Error('login failed');\n      const j = await res.json();\n      onSuccess(j.user);\n    } catch (err) {\n      setErr('Wrong Password or Username');\n    }\n  }\n\n  return (\n    <div className=\"flex items-center justify-center py-12\">\n      <div className=\"w-full max-w-md bg-white rounded-xl shadow-md p-8\">\n        <div className=\"flex justify-center mb-4\">{logo ? <img src={logo} className=\"h-24 w-24 object-contain\" alt=\"logo\" /> : <div className=\"h-24 w-24 bg-sky-100 rounded-full flex items-center justify-center text-sky-600\">Logo</div>}</div>\n        <h2 className=\"text-center text-xl font-semibold text-gray-700 mb-4\">{t('login')}</h2>\n        <form onSubmit={submit} className=\"space-y-4\">\n          <input placeholder={t('username')} className=\"w-full px-4 py-2 border rounded-md focus:outline-sky-300\" value={u} onChange={e => setU(e.target.value)} />\n          <input type=\"password\" placeholder={t('password')} className=\"w-full px-4 py-2 border rounded-md focus:outline-sky-300\" value={p} onChange={e => setP(e.target.value)} />\n          <div className=\"flex gap-2 items-center\">\n            <select value={lang} onChange={e => { setLang(e.target.value); localStorage.setItem('erp_lang', e.target.value); }} className=\"border p-1 rounded\">\n              <option value=\"en\">EN</option>\n              <option value=\"ur\">UR</option>\n            </select>\n            <button className=\"w-full py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition\">{t('loginBtn')}</button>\n          </div>\n        </form>\n        {err && <p className=\"text-red-500 mt-3\">{err}</p>}\n      </div>\n    </div>\n  );\n}\n\n/* Dashboard */\nfunction Dashboard({ t }) {\n  const [activeTab, setActiveTab] = useState(\"customers\");\n  const [sales, setSales] = useState([]);\n  const [selectedCustomerName, setSelectedCustomerName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const logoUrl = localStorage.getItem(\"erp_logo\") || \"\";\n\n  // Stock-related state\n  const [stock, setStock] = useState([]);\n  const [movements, setMovements] = useState([]);\n  const [stockLoading, setStockLoading] = useState(false);\n  const [stockErr, setStockErr] = useState(\"\");\n\n  // Initial load\n  useEffect(() => {\n    loadSales();\n    loadStockData();\n  }, []);\n\n  // Load sales\n  async function loadSales() {\n    try {\n      setLoading(true);\n      setErr(\"\");\n      const res = await fetch(\"http://localhost:4000/api/sales\");\n      const j = await res.json();\n      if (!j.ok) {\n        setErr(j.message || \"Failed to load sales\");\n        return;\n      }\n      setSales(j.sales || []);\n    } catch (e) {\n      console.error(e);\n      setErr(\"Failed to load sales\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Load stock data\n  async function loadStockData() {\n    try {\n      setStockLoading(true);\n      setStockErr(\"\");\n\n      const [pRes, sRes] = await Promise.all([\n        fetch(\"http://localhost:4000/api/purchases\"),\n        fetch(\"http://localhost:4000/api/sales\"),\n      ]);\n\n      const [pJson, sJson] = await Promise.all([pRes.json(), sRes.json()]);\n\n      if (!pJson.ok) throw new Error(pJson.message || \"Failed to load purchases\");\n      if (!sJson.ok) throw new Error(sJson.message || \"Failed to load sales\");\n\n      const purchases = pJson.purchases || [];\n      const salesData = sJson.sales || [];\n\n      const mvts = [];\n\n      // Purchases → increase stock\n      purchases.forEach((p) => {\n        (p.products || p.lines || []).forEach((line) => {\n          mvts.push({\n            date: p.date,\n            type: \"Purchase\",\n            productName: line.productName || \"\",\n            bagWeight: Number(line.weight || 0),\n            bagsDelta: Number(line.qty || line.quantity || 0),\n          });\n        });\n      });\n\n      // Sales → decrease stock\n      salesData.forEach((s) => {\n        (s.products || s.lines || []).forEach((line) => {\n          mvts.push({\n            date: s.date,\n            type: \"Sale\",\n            productName: line.productName || \"\",\n            bagWeight: Number(line.weight || 0),\n            bagsDelta: Number(line.quantity || line.qty || 0),\n          });\n        });\n      });\n\n      setMovements(mvts);\n      setStock(mvts);\n    } catch (e) {\n      console.error(e);\n      setStockErr(e.message || \"Failed to load stock data\");\n    } finally {\n      setStockLoading(false);\n    }\n  }\n\n  // Customer grouping\n  const customerGroup = new Map();\n\n  (sales || []).forEach((s) => {\n    const name = s.customerName || \"Unknown\";\n    if (!customerGroup.has(name)) {\n      customerGroup.set(name, {\n        customerName: name,\n        invoices: [],\n        totalGrand: 0,\n        totalPaid: 0,\n      });\n    }\n\n    const entry = customerGroup.get(name);\n    entry.invoices.push(s);\n    entry.totalGrand += Number(s.grandTotal || 0);\n    entry.totalPaid += Number(s.paidNow || 0);\n  });\n\n  const customersWithPending = Array.from(customerGroup.values())\n    .map((entry) => {\n      const sortedInvoices = [...entry.invoices].sort(\n        (a, b) => new Date(a.date || 0) - new Date(b.date || 0)\n      );\n      const last = sortedInvoices[sortedInvoices.length - 1];\n      const latestPending = Number(last?.pending || 0);\n\n      return {\n        ...entry,\n        invoices: sortedInvoices,\n        totalPending: latestPending,\n      };\n    })\n    .filter((entry) => entry.totalPending > 0)\n    .sort((a, b) => b.totalPending - a.totalPending);\n\n  const selectedCustomer =\n    customersWithPending.find(\n      (c) => c.customerName === selectedCustomerName\n    ) || null;\n\n  // Stock summary\n  const stockSummaryMap = new Map();\n\n  (movements || []).forEach((mv) => {\n    const name = mv.productName || '';\n    const bagWt = Number(mv.bagWeight || mv.bagWt || 0);\n    if (!name || !bagWt) return;\n\n    const key = `${name}||${bagWt}`;\n    if (!stockSummaryMap.has(key)) {\n      stockSummaryMap.set(key, {\n        productName: name,\n        bagWeight: bagWt,\n        purchased: 0,\n        sold: 0,\n      });\n    }\n    const row = stockSummaryMap.get(key);\n\n    const qty = Number(mv.bagsDelta || mv.qty || mv.bags || 0);\n\n    if (mv.type === 'Purchase') {\n      row.purchased += Math.abs(qty);\n    } else if (mv.type === 'Sale') {\n      row.sold += Math.abs(qty);\n    }\n  });\n\n  const stockSummaryRows = Array.from(stockSummaryMap.values())\n    .map((r) => ({\n      ...r,\n      available: r.purchased - r.sold,\n    }))\n    .sort(\n      (a, b) =>\n        a.productName.localeCompare(b.productName) ||\n        a.bagWeight - b.bagWeight\n    );\n\n  const maxStockValue =\n    stockSummaryRows.length === 0\n      ? 1\n      : Math.max(\n        ...stockSummaryRows.map((r) =>\n          Math.max(r.purchased, r.sold, r.available)\n        ),\n        1\n      );\n\n  // Aggregate by product\n  const productTotalsMap = new Map();\n  stockSummaryRows.forEach((r) => {\n    if (!productTotalsMap.has(r.productName)) {\n      productTotalsMap.set(r.productName, {\n        productName: r.productName,\n        purchased: 0,\n        sold: 0,\n        available: 0,\n      });\n    }\n    const entry = productTotalsMap.get(r.productName);\n    entry.purchased += r.purchased;\n    entry.sold += r.sold;\n    entry.available += r.available;\n  });\n\n  const productTotals = Array.from(productTotalsMap.values()).sort(\n    (a, b) => b.available - a.available\n  );\n\n  const maxProductValue =\n    productTotals.length === 0\n      ? 1\n      : Math.max(\n        ...productTotals.map((p) =>\n          Math.max(p.purchased, p.sold, p.available)\n        ),\n        1\n      );\n\n  const totalAvailableBags = productTotals.reduce(\n    (sum, p) => sum + Math.max(p.available, 0),\n    0\n  );\n\n  const totalProductsInStock = productTotals.filter(\n    (p) => p.available > 0\n  ).length;\n\n  const lowStockCount = productTotals.filter(\n    (p) => p.available > 0 && p.available <= 20\n  ).length;\n\n  const topProductsForBars = productTotals.slice(0, 8);\n\n  // Print invoice\n  function printInvoiceForRecord(record) {\n    if (!record) return;\n\n    const dateTime = record.date\n      ? new Date(record.date).toLocaleString()\n      : new Date().toLocaleString();\n\n    const items = record.products || record.lines || [];\n    const customerTotal = Number(record.customerTotal || 0);\n    const previousPending = Number(record.previousPending || 0);\n    const grandTotal = Number(record.grandTotal || 0);\n    const paidNow = Number(record.paidNow || 0);\n    const remaining = Number(record.pending || 0);\n\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\n      <h2 style='text-align:center'>Invoice</h2>\n      <div>Customer: ${record.customerName || ''}</div>\n      <div>Date &amp; Time: ${dateTime}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n          <th>Price</th>\n          <th>Line Total</th>\n        </tr>\n        ${items\n        .map(\n          (it, i) => `\n          <tr>\n            <td>${i + 1}</td>\n            <td>${it.productName || ''}</td>\n            <td>${it.quantity || it.qty || 0}</td>\n            <td>${it.pricePerKg || it.price || 0}</td>\n            <td>${Number(\n            it.lineTotal ||\n            Number(it.quantity || it.qty || 0) *\n            Number(it.pricePerKg || it.price || 0)\n          ).toFixed(2)}</td>\n          </tr>`\n        )\n        .join('')}\n      </table>\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\n      <div>Previous Pending: ${previousPending.toFixed(2)}</div>\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\n      <div>Paid: ${paidNow.toFixed(2)}</div>\n      <div>Remaining: ${remaining.toFixed(2)}</div>\n      </body></html>\n    `;\n\n    const w = window.open(\"\", \"_blank\");\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n\n  async function deleteSaleFromDashboard(id) {\n    if (!window.confirm(\"Delete this sale?\")) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\n        method: \"DELETE\",\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || \"Failed to delete sale\");\n        return;\n      }\n      setSales((prev) => prev.filter((s) => s.id !== id));\n    } catch (e) {\n      console.error(e);\n      alert(\"Error deleting sale\");\n    }\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">Dashboard</h2>\n\n      {/* Tabs */}\n      <div className=\"flex mb-4 gap-2\">\n        <button\n          onClick={() => setActiveTab(\"customers\")}\n          className={\n            \"px-4 py-2 rounded text-sm \" +\n            (activeTab === \"customers\"\n              ? \"bg-sky-600 text-white\"\n              : \"bg-white text-sky-700 border\")\n          }\n        >\n          Customer Records\n        </button>\n        <button\n          onClick={() => setActiveTab(\"stock\")}\n          className={\n            \"px-4 py-2 rounded text-sm \" +\n            (activeTab === \"stock\"\n              ? \"bg-sky-600 text-white\"\n              : \"bg-white text-sky-700 border\")\n          }\n        >\n          Stocks Updates\n        </button>\n\n        <button\n          onClick={() => {\n            if (activeTab === \"customers\") {\n              loadSales();\n            } else if (activeTab === \"stock\") {\n              loadStockData();\n            }\n          }}\n          className=\"ml-auto px-3 py-2 text-xs bg-gray-100 border rounded hover:bg-gray-200\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {/* Loading / Error */}\n      {activeTab === \"customers\" && loading && (\n        <p className=\"text-sm text-gray-500 mb-2\">Loading sales…</p>\n      )}\n      {activeTab === \"customers\" && err && (\n        <p className=\"text-sm text-red-600 mb-2\">{err}</p>\n      )}\n\n      {activeTab === \"stock\" && stockLoading && (\n        <p className=\"text-sm text-gray-500 mb-2\">Loading stock…</p>\n      )}\n      {activeTab === \"stock\" && stockErr && (\n        <p className=\"text-sm text-red-600 mb-2\">{stockErr}</p>\n      )}\n\n      {/* Customer Records Tab */}\n      {activeTab === \"customers\" && (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n          {/* Left: Customers with remaining */}\n          <div className=\"bg-white p-4 rounded shadow lg:col-span-1\">\n            <h3 className=\"font-semibold mb-2 text-sm\">\n              Customers with Remaining Amount\n            </h3>\n\n            {customersWithPending.length === 0 ? (\n              <p className=\"text-xs text-gray-500\">\n                No customers with pending amounts.\n              </p>\n            ) : (\n              <table className=\"w-full text-xs\">\n                <thead className=\"bg-gray-100\">\n                  <tr>\n                    <th className=\"p-2 text-left\">Customer</th>\n                    <th className=\"p-2 text-right\">Pending</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {customersWithPending.map((c) => (\n                    <tr\n                      key={c.customerName}\n                      className={\n                        \"border-t cursor-pointer \" +\n                        (c.customerName === selectedCustomerName\n                          ? \"bg-sky-50\"\n                          : \"\")\n                      }\n                      onClick={() => setSelectedCustomerName(c.customerName)}\n                    >\n                      <td className=\"p-2\">{c.customerName}</td>\n                      <td className=\"p-2 text-right\">\n                        {c.totalPending.toFixed(2)}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n\n          {/* Right: Selected customer details */}\n          <div className=\"bg-white p-4 rounded shadow lg:col-span-2\">\n            {!selectedCustomer ? (\n              <p className=\"text-sm text-gray-500\">\n                Select a customer on the left to see full record of their\n                purchases, paid amounts, and remaining balance.\n              </p>\n            ) : (\n              <>\n                <div className=\"flex flex-wrap justify-between mb-3 text-sm\">\n                  <div>\n                    <div className=\"font-semibold\">\n                      {selectedCustomer.customerName}\n                    </div>\n                    <div className=\"text-gray-500 text-xs\">\n                      Total Pending:{\" \"}\n                      <strong>\n                        {selectedCustomer.totalPending.toFixed(2)}\n                      </strong>\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-right space-y-1\">\n                    <div>\n                      Total Grand:{\" \"}\n                      <strong>\n                        {selectedCustomer.totalGrand.toFixed(2)}\n                      </strong>\n                    </div>\n                    <div>\n                      Total Paid:{\" \"}\n                      <strong>\n                        {selectedCustomer.totalPaid.toFixed(2)}\n                      </strong>\n                    </div>\n                  </div>\n                </div>\n\n                {selectedCustomer.invoices.map((inv) => (\n                  <div\n                    key={inv.id}\n                    className=\"border rounded mb-3 p-3 text-xs\"\n                  >\n                    <div className=\"flex flex-wrap justify-between mb-1\">\n                      <div>\n                        <span className=\"font-semibold\">Date: </span>\n                        {inv.date}\n                      </div>\n                      <div>\n                        <span className=\"font-semibold\">Grand: </span>\n                        {inv.grandTotal} &nbsp; | &nbsp;\n                        <span className=\"font-semibold\">Paid: </span>\n                        {inv.paidNow} &nbsp; | &nbsp;\n                        <span className=\"font-semibold\">Remaining: </span>\n                        {inv.pending}\n                      </div>\n                    </div>\n\n                    <table className=\"w-full text-[11px] border mt-1\">\n                      <thead className=\"bg-gray-100\">\n                        <tr>\n                          <th className=\"border px-1 py-0.5\">#</th>\n                          <th className=\"border px-1 py-0.5\">Product</th>\n                          <th className=\"border px-1 py-0.5\">Qty</th>\n                          <th className=\"border px-1 py-0.5\">Price</th>\n                          <th className=\"border px-1 py-0.5\">Line Total</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {(inv.products || inv.lines || []).map((p, idx) => (\n                          <tr key={idx}>\n                            <td className=\"border px-1 py-0.5\">{idx + 1}</td>\n                            <td className=\"border px-1 py-0.5\">\n                              {p.productName}\n                            </td>\n                            <td className=\"border px-1 py-0.5\">\n                              {p.quantity || p.qty}\n                            </td>\n                            <td className=\"border px-1 py-0.5\">\n                              {p.pricePerKg || p.price}\n                            </td>\n                            <td className=\"border px-1 py-0.5\">\n                              {p.lineTotal}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n\n                    <div className=\"mt-2 flex justify-end gap-2\">\n                      <button\n                        onClick={() => printInvoiceForRecord(inv)}\n                        className=\"px-2 py-1 bg-indigo-600 text-white rounded\"\n                      >\n                        Print Invoice\n                      </button>\n                      <button\n                        onClick={() => deleteSaleFromDashboard(inv.id)}\n                        className=\"px-2 py-1 bg-red-600 text-white rounded\"\n                      >\n                        🗑 Delete\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Stock Updates Tab */}\n      {activeTab === 'stock' && (\n        <div className=\"bg-white p-4 rounded shadow\">\n          <div className=\"flex items-center mb-4\">\n            <h3 className=\"font-semibold text-base\">Stock Updates</h3>\n            <button\n              onClick={loadStockData}\n              className=\"ml-auto px-3 py-1 text-xs border rounded hover:bg-gray-50\"\n            >\n              Refresh\n            </button>\n          </div>\n\n          {stockLoading && (\n            <p className=\"text-xs text-gray-500 mb-2\">Loading stock…</p>\n          )}\n          {stockErr && (\n            <p className=\"text-xs text-red-600 mb-2\">{stockErr}</p>\n          )}\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6 text-sm\">\n            <div className=\"border rounded-lg px-3 py-2 bg-sky-50\">\n              <div className=\"text-[11px] text-sky-700 uppercase\">\n                Total Products in Stock\n              </div>\n              <div className=\"text-xl font-semibold\">\n                {totalProductsInStock}\n              </div>\n            </div>\n            <div className=\"border rounded-lg px-3 py-2 bg-emerald-50\">\n              <div className=\"text-[11px] text-emerald-700 uppercase\">\n                Total Available Bags\n              </div>\n              <div className=\"text-xl font-semibold\">\n                {totalAvailableBags}\n              </div>\n            </div>\n            <div className=\"border rounded-lg px-3 py-2 bg-amber-50\">\n              <div className=\"text-[11px] text-amber-700 uppercase\">\n                Low Stock Items (&le; 20 bags)\n              </div>\n              <div className=\"text-xl font-semibold\">\n                {lowStockCount}\n              </div>\n            </div>\n          </div>\n\n          {stockSummaryRows.length === 0 ? (\n            <p className=\"text-xs text-gray-500\">\n              No stock calculated yet. Add some purchases / sales first.\n            </p>\n          ) : (\n            <>\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div>\n                  <h4 className=\"font-semibold text-sm mb-2\">\n                    Available Stock (by product &amp; bag weight)\n                  </h4>\n                  <table className=\"w-full text-xs mb-4\">\n                    <thead className=\"bg-gray-100\">\n                      <tr>\n                        <th className=\"p-2 text-left\">Product</th>\n                        <th className=\"p-2 text-right\">Bag Wt</th>\n                        <th className=\"p-2 text-right\">Purchased</th>\n                        <th className=\"p-2 text-right\">Sold</th>\n                        <th className=\"p-2 text-right\">Available</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {stockSummaryRows.map((r) => (\n                        <tr\n                          key={`${r.productName}-${r.bagWeight}`}\n                          className=\"border-t\"\n                        >\n                          <td className=\"p-2\">{r.productName}</td>\n                          <td className=\"p-2 text-right\">{r.bagWeight}</td>\n                          <td className=\"p-2 text-right\">{r.purchased}</td>\n                          <td className=\"p-2 text-right\">{r.sold}</td>\n                          <td\n                            className={\n                              'p-2 text-right ' +\n                              (r.available < 0\n                                ? 'text-red-600 font-semibold'\n                                : '')\n                            }\n                          >\n                            {r.available}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n\n                <div>\n                  <h4 className=\"font-semibold text-sm mb-2\">\n                    Stock Overview by Product (bags)\n                  </h4>\n\n                  {topProductsForBars.length === 0 ? (\n                    <p className=\"text-xs text-gray-500\">\n                      No products with stock yet.\n                    </p>\n                  ) : (\n                    <div className=\"space-y-3\">\n                      {topProductsForBars.map((p) => (\n                        <div key={`prod-bar-${p.productName}`}>\n                          <div className=\"flex justify-between text-[11px] mb-1\">\n                            <span>{p.productName}</span>\n                            <span>Available: {p.available}</span>\n                          </div>\n\n                          <div className=\"h-3 bg-gray-100 rounded overflow-hidden flex\">\n                            <div\n                              style={{\n                                width:\n                                  (p.purchased / maxProductValue) * 100 + '%',\n                              }}\n                              className=\"bg-blue-500\"\n                              title={`Purchased: ${p.purchased}`}\n                            />\n                            <div\n                              style={{\n                                width:\n                                  (p.sold / maxProductValue) * 100 + '%',\n                              }}\n                              className=\"bg-red-400\"\n                              title={`Sold: ${p.sold}`}\n                            />\n                            <div\n                              style={{\n                                width:\n                                  (Math.max(p.available, 0) /\n                                    maxProductValue) *\n                                  100 + '%',\n                              }}\n                              className=\"bg-green-500\"\n                              title={`Available: ${p.available}`}\n                            />\n                          </div>\n\n                          <div className=\"flex justify-between text-[10px] text-gray-500 mt-0.5\">\n                            <span>Purchased: {p.purchased}</span>\n                            <span>Sold: {p.sold}</span>\n                            <span>Available: {p.available}</span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  <div className=\"flex gap-3 text-[10px] text-gray-500 mt-3\">\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"w-3 h-3 bg-blue-500 inline-block rounded-sm\" />{' '}\n                      Purchased\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"w-3 h-3 bg-red-400 inline-block rounded-sm\" />{' '}\n                      Sold\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"w-3 h-3 bg-green-500 inline-block rounded-sm\" />{' '}\n                      Available\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* Products */\nfunction Products({ t }) {\n  const [name, setName] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [list, setList] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:4000/api/products')\n      .then(r => r.json())\n      .then(j => setList(j.products || []))\n      .catch(() => { });\n  }, []);\n  async function add() {\n    if (!name) return alert('Enter product name');\n    const res = await fetch('http://localhost:4000/api/products', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ name, quantity })\n    });\n    const j = await res.json();\n    if (j.ok) {\n      setList(prev => [...prev, j.prod]);\n      setName('');\n      setQuantity(1);\n    }\n  }\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">{t('products')}</h2>\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\n        <div className=\"grid grid-cols-3 gap-2\">\n          <input placeholder=\"Product name\" value={name} onChange={e => setName(e.target.value)} className=\"border p-2 rounded\" />\n          <input type=\"number\" value={quantity} onChange={e => setQuantity(Number(e.target.value))} className=\"border p-2 rounded\" />\n          <button onClick={add} className=\"bg-sky-600 text-white px-4 rounded hover:bg-sky-700 transition\">{t('addProduct')}</button>\n        </div>\n      </div>\n      <div className=\"bg-white p-4 rounded shadow\">\n        <h3 className=\"font-semibold mb-2\">Available Products</h3>\n        <table className=\"w-full\"><thead><tr><th>ID</th><th>Name</th><th>Qty</th></tr></thead><tbody>{list.map(p => (<tr key={p.id}><td className=\"p-2\">{p.id}</td><td>{p.name}</td><td>{p.quantity}</td></tr>))}</tbody></table>\n      </div>\n    </div>\n  );\n}\n\nfunction Sales({ t }) {\n  const [customers, setCustomers] = useState([]);\n  const [productsList, setProductsList] = useState([]);\n  const [selectedCustomerId, setSelectedCustomerId] = useState('');\n  const [customerName, setCustomerName] = useState('');\n  const [previousPending, setPreviousPending] = useState(0);\n  const [items, setItems] = useState([\n    { productName: '', quantity: 1, pricePerKg: 0 },\n  ]);\n  const [paidNow, setPaidNow] = useState(0);\n  const [calc, setCalc] = useState(null);\n  const [salesRecords, setSalesRecords] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n\n  useEffect(() => {\n    fetch('http://localhost:4000/api/customers')\n      .then((r) => r.json())\n      .then((j) => setCustomers(j.customers || []))\n      .catch(() => { });\n\n    fetch('http://localhost:4000/api/products')\n      .then((r) => r.json())\n      .then((j) => setProductsList(j.products || []))\n      .catch(() => { });\n\n    fetch('http://localhost:4000/api/sales')\n      .then((r) => r.json())\n      .then((j) => {\n        if (j.ok) setSalesRecords(j.sales || []);\n      })\n      .catch(() => { });\n  }, []);\n\n  function addCustomer() {\n    const name = prompt('Customer name');\n    if (!name) return;\n    const location = prompt('Location') || '';\n    const prev = Number(prompt('Previous Pending') || 0);\n    fetch('http://localhost:4000/api/customers', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ name, location, previousPending: prev }),\n    })\n      .then((r) => r.json())\n      .then((j) => {\n        if (j.ok) {\n          setCustomers((prevList) => [...prevList, j.customer]);\n          alert('Customer added');\n        }\n      });\n  }\n\n  function addItem() {\n    setItems((prev) => [\n      ...prev,\n      { productName: '', quantity: 1, pricePerKg: 0 },\n    ]);\n  }\n\n  function updateItem(i, key, value) {\n    const copy = [...items];\n    copy[i][key] = value;\n    setItems(copy);\n  }\n\n  function onSelectCustomer(id) {\n    setSelectedCustomerId(id);\n    if (!id) {\n      setPreviousPending(0);\n      setCustomerName('');\n      return;\n    }\n    const c = customers.find((x) => x.id === Number(id));\n    if (c) {\n      setCustomerName(c.name);\n      setPreviousPending(c.previousPending || 0);\n    }\n  }\n\n  async function calculate() {\n    const res = await fetch('http://localhost:4000/api/calculate-invoice', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ products: items, previousPending }),\n    });\n    const j = await res.json();\n    setCalc(j);\n  }\n\n  const customerTotal =\n    calc && typeof calc.customerTotal !== 'undefined'\n      ? Number(calc.customerTotal || 0)\n      : items.reduce(\n        (s, it) =>\n          s +\n          Number(it.quantity || 0) *\n          Number(it.pricePerKg || 0),\n        0\n      );\n\n  const grandTotal = +(customerTotal + Number(previousPending || 0)).toFixed(2);\n  const remaining = +(grandTotal - Number(paidNow || 0)).toFixed(2);\n  const logoUrl = localStorage.getItem('erp_logo') || '';\n\n  function printGate() {\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:220px;opacity:0.9' />\n      <h2 style='text-align:center'>Gate Pass</h2>\n      <div>Customer: ${customerName}</div>\n      <div>Time: ${new Date().toLocaleString()}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n        </tr>\n        ${items.map((it, i) =>\n      `<tr>\n            <td>${i + 1}</td>\n            <td>${it.productName}</td>\n            <td>${it.quantity}</td>\n          </tr>`\n    ).join('')}\n      </table>\n      </body></html>`;\n    const w = window.open('', '_blank');\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n\n  function printInvoice(record) {\n    const dateTime =\n      record && record.date\n        ? new Date(record.date).toLocaleString()\n        : new Date().toLocaleString();\n\n    const html = `\n      <html><body>\n      <img src='${logoUrl}' style='display:block;margin:0 auto;width:180px;opacity:0.9' />\n      <h2 style='text-align:center'>Invoice</h2>\n      <div>Customer: ${customerName}</div>\n      <div>Date &amp; Time: ${dateTime}</div>\n      <table border='1' style='width:100%;border-collapse:collapse'>\n        <tr>\n          <th>#</th>\n          <th>Product</th>\n          <th>Qty</th>\n          <th>Price</th>\n          <th>Line Total</th>\n        </tr>\n        ${items\n        .map(\n          (it, i) => `\n          <tr>\n            <td>${i + 1}</td>\n            <td>${it.productName}</td>\n            <td>${it.quantity}</td>\n            <td>${it.pricePerKg}</td>\n            <td>${(\n            Number(it.quantity || 0) *\n            Number(it.pricePerKg || 0)\n          ).toFixed(2)}</td>\n          </tr>`\n        )\n        .join('')}\n      </table>\n      <h3>Customer Total: ${customerTotal.toFixed(2)}</h3>\n      <div>Previous Pending: ${Number(previousPending || 0).toFixed(2)}</div>\n      <div>Grand Total: ${grandTotal.toFixed(2)}</div>\n      <div>Paid: ${Number(paidNow || 0).toFixed(2)}</div>\n      <div>Remaining: ${remaining.toFixed(2)}</div>\n      </body></html>\n    `;\n    const w = window.open('', '_blank');\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => w.print(), 300);\n  }\n\n  async function saveAndPrint() {\n    const res = await fetch('http://localhost:4000/api/save-sale', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        customerId: selectedCustomerId,\n        customerName,\n        previousPending,\n        products: items,\n        paidNow,\n      }),\n    });\n    const j = await res.json();\n    if (j.ok) {\n      alert(\n        'Saved. Remaining added to customer previous pending: ' +\n        j.record.pending\n      );\n      setSalesRecords((prev) => [...prev, j.record]);\n      fetch('http://localhost:4000/api/customers')\n        .then((r) => r.json())\n        .then((j2) => setCustomers(j2.customers || []))\n        .catch(() => { });\n      printInvoice(j.record);\n    }\n  }\n\n  async function deleteSale(id) {\n    if (!window.confirm('Delete this sale?')) return;\n    const res = await fetch(`http://localhost:4000/api/sales/${id}`, {\n      method: 'DELETE',\n    });\n    const j = await res.json();\n    if (j.ok) {\n      setSalesRecords((prev) => prev.filter((s) => s.id !== id));\n    } else {\n      alert('Failed to delete sale');\n    }\n  }\n\n  function editSales(index) {\n    const s = salesRecords[index];\n    if (!s) return;\n\n    setSelectedCustomerId(s.customerId || \"\");\n    setCustomerName(s.customerName || \"\");\n    setPreviousPending(Number(s.previousPending || 0));\n    setPaidNow(Number(s.paidNow || 0));\n\n    const restoredItems = (s.products || s.lines || []).map((item) => ({\n      productName: item.productName || \"\",\n      quantity: Number(item.quantity ?? item.qty ?? 0),\n      pricePerKg: Number(item.pricePerKg ?? item.price ?? 0),\n    }));\n\n    setItems(\n      restoredItems.length\n        ? restoredItems\n        : [{ productName: \"\", quantity: 1, pricePerKg: 0 }]\n    );\n\n    setEditingIndex(index);\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">Sales / Invoice</h2>\n      {/* Customer selection */}\n      <div className=\"bg-white/80 p-4 rounded shadow mb-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\n          <select\n            className=\"border p-2 rounded\"\n            value={selectedCustomerId}\n            onChange={(e) => onSelectCustomer(e.target.value)}\n          >\n            <option value=\"\">Select Customer</option>\n            {customers.map((c) => (\n              <option key={c.id} value={c.id}>\n                {c.name} - {c.location}\n              </option>\n            ))}\n          </select>\n          <input\n            placeholder=\"Customer Name\"\n            value={customerName}\n            onChange={(e) => setCustomerName(e.target.value)}\n            className=\"border p-2 rounded\"\n          />\n          <input\n            type=\"number\"\n            placeholder=\"Previous Pending\"\n            value={previousPending}\n            onChange={(e) => setPreviousPending(Number(e.target.value))}\n            className=\"border p-2 rounded\"\n          />\n        </div>\n        <div className=\"mt-3\">\n          <button\n            onClick={addCustomer}\n            className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm\"\n          >\n            {t('addCustomer')}\n          </button>\n        </div>\n      </div>\n\n      {/* Items table */}\n      <div className=\"bg-white/80 p-4 rounded shadow mb-4\">\n        <table className=\"w-full text-sm\">\n          <thead className=\"bg-sky-100\">\n            <tr>\n              <th className=\"p-2 text-left\">#</th>\n              <th className=\"p-2 text-left\">Product</th>\n              <th className=\"p-2 text-right\">Qty</th>\n              <th className=\"p-2 text-right\">Price</th>\n              <th className=\"p-2 text-right\">Line Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((it, i) => (\n              <tr key={i} className=\"border-t\">\n                <td className=\"p-2\">{i + 1}</td>\n                <td className=\"p-2\">\n                  <input\n                    className=\"border p-1 rounded w-full\"\n                    value={it.productName}\n                    onChange={(e) =>\n                      updateItem(i, 'productName', e.target.value)\n                    }\n                    list=\"products-list\"\n                  />\n                </td>\n                <td className=\"p-2 text-right\">\n                  <input\n                    className=\"border p-1 rounded w-20 text-right\"\n                    type=\"number\"\n                    value={it.quantity}\n                    onChange={(e) =>\n                      updateItem(i, 'quantity', Number(e.target.value))\n                    }\n                  />\n                </td>\n                <td className=\"p-2 text-right\">\n                  <input\n                    className=\"border p-1 rounded w-24 text-right\"\n                    type=\"number\"\n                    value={it.pricePerKg}\n                    onChange={(e) =>\n                      updateItem(i, 'pricePerKg', Number(e.target.value))\n                    }\n                  />\n                </td>\n                <td className=\"p-2 text-right\">\n                  {(\n                    Number(it.quantity || 0) *\n                    Number(it.pricePerKg || 0)\n                  ).toFixed(2)}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <datalist id=\"products-list\">\n          {productsList.map((p) => (\n            <option key={p.id} value={p.name} />\n          ))}\n        </datalist>\n\n        <div className=\"flex flex-wrap items-center gap-3 mt-4\">\n          <button\n            onClick={addItem}\n            className=\"px-3 py-1 bg-white border rounded hover:shadow transition text-sm\"\n          >\n            ➕ Add Item\n          </button>\n          <button\n            onClick={calculate}\n            className=\"px-3 py-1 bg-sky-600 text-white rounded hover:bg-sky-700 transition text-sm\"\n          >\n            Calculate\n          </button>\n\n          <div className=\"ml-auto flex flex-wrap items-center gap-2\">\n            <label className=\"text-sm\">Paid Now</label>\n            <input\n              type=\"number\"\n              value={paidNow}\n              onChange={(e) => setPaidNow(Number(e.target.value))}\n              className=\"border p-1 rounded w-28 text-right\"\n            />\n            <button\n              onClick={saveAndPrint}\n              className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\n            >\n              {t('savePrint')}\n            </button>\n          </div>\n\n          <button\n            onClick={printGate}\n            className=\"px-3 py-1 bg-slate-700 text-white rounded hover:bg-slate-800 transition text-sm\"\n          >\n            Gate Pass\n          </button>\n        </div>\n\n        {/* Summary */}\n        <div className=\"mt-4 p-3 bg-gray-50 rounded text-sm space-y-1\">\n          <div>\n            Customer Total:{' '}\n            <strong>{customerTotal.toFixed(2)}</strong>\n          </div>\n          <div>\n            Previous Pending:{' '}\n            <strong>{Number(previousPending || 0).toFixed(2)}</strong>\n          </div>\n          <div>\n            Grand Total:{' '}\n            <strong>{grandTotal.toFixed(2)}</strong>\n          </div>\n          <div>\n            Paid Now:{' '}\n            <strong>{Number(paidNow || 0).toFixed(2)}</strong>\n          </div>\n          <div>\n            Remaining:{' '}\n            <strong>{remaining.toFixed(2)}</strong>\n          </div>\n        </div>\n      </div>\n\n      {/* Saved sales list */}\n      <div className=\"bg-white/80 p-4 rounded shadow\">\n        <h3 className=\"font-semibold mb-2 text-sm\">Saved Invoices</h3>\n        {salesRecords.length === 0 ? (\n          <p className=\"text-xs text-gray-500\">No invoices saved yet.</p>\n        ) : (\n          <table className=\"w-full text-xs\">\n            <thead className=\"bg-gray-100\">\n              <tr>\n                <th className=\"p-2 text-left\">#</th>\n                <th className=\"p-2 text-left\">Customer</th>\n                <th className=\"p-2 text-left\">Date/Time</th>\n                <th className=\"p-2 text-right\">Grand Total</th>\n                <th className=\"p-2 text-right\">Paid</th>\n                <th className=\"p-2 text-right\">Remaining</th>\n                <th className=\"p-2 text-center\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {salesRecords.map((s, idx) => (\n                <tr key={s.id} className=\"border-t\">\n                  <td className=\"p-2\">{idx + 1}</td>\n                  <td className=\"p-2\">{s.customerName}</td>\n                  <td className=\"p-2\">{s.date}</td>\n                  <td className=\"p-2 text-right\">{s.grandTotal}</td>\n                  <td className=\"p-2 text-right\">{s.paidNow}</td>\n                  <td className=\"p-2 text-right\">{s.pending}</td>\n                  <td className=\"p-2 text-center\">\n                    <button\n                      onClick={() => editSales(idx)}\n                      className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\n                    >\n                      Action\n                    </button>\n\n                    <button\n                      onClick={() => deleteSale(s.id)}\n                      className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\n                    >\n                      🗑\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/* Vendor Purchase Management */\nfunction VendorPurchaseManagement({ t }) {\n  const [vendorsSummary, setVendorsSummary] = useState([]);\n  const [selectedVendorName, setSelectedVendorName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n\n  useEffect(() => {\n    loadVendorPurchases();\n  }, []);\n\n  async function loadVendorPurchases() {\n    try {\n      setLoading(true);\n      setErr(\"\");\n\n      const res = await fetch(\"http://localhost:4000/api/purchases-with-pending\");\n      const j = await res.json();\n      if (!j.ok) {\n        throw new Error(j.message || \"Failed to load vendor purchases\");\n      }\n\n      const list = j.purchases || [];\n\n      const map = new Map();\n      list.forEach((p) => {\n        const name = p.vendorName || \"Unknown\";\n        if (!map.has(name)) {\n          map.set(name, {\n            vendorName: name,\n            totalPending: 0,\n            totalGrand: 0,\n            totalPaid: 0,\n            purchases: [],\n          });\n        }\n        const g = map.get(name);\n        g.totalPending += Number(p.pending || 0);\n        g.totalGrand += Number(p.grandTotal || 0);\n        g.totalPaid += Number(p.paidNow || 0);\n        g.purchases.push(p);\n      });\n\n      const groups = Array.from(map.values()).sort(\n        (a, b) => b.totalPending - a.totalPending\n      );\n\n      setVendorsSummary(groups);\n\n      if (!selectedVendorName && groups.length > 0) {\n        setSelectedVendorName(groups[0].vendorName);\n      }\n    } catch (e) {\n      console.error(e);\n      setErr(e.message || \"Failed to load vendor purchases\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleDeletePurchase(purchase) {\n    if (!purchase) return;\n    if (!window.confirm(\"Delete this purchase record?\")) return;\n\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/purchases/${purchase.id}`,\n        { method: \"DELETE\" }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || \"Purchase not found!\");\n        return;\n      }\n\n      await loadVendorPurchases();\n    } catch (e) {\n      console.error(e);\n      alert(\"Error deleting purchase\");\n    }\n  }\n\n  const selectedVendorSummary =\n    vendorsSummary.find((v) => v.vendorName === selectedVendorName) || null;\n\n  const totalPendingAll = vendorsSummary.reduce(\n    (sum, v) => sum + v.totalPending,\n    0\n  );\n\n  return (\n    <div className=\"bg-white p-4 rounded shadow mt-4\">\n      <div className=\"flex items-center mb-2\">\n        <h3 className=\"font-semibold text-sm flex-1\">\n          Vendor Purchase Management\n        </h3>\n        <button\n          onClick={loadVendorPurchases}\n          className=\"px-2 py-1 text-xs border rounded\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {loading && (\n        <p className=\"text-xs text-gray-500 mb-2\">Loading vendor purchases…</p>\n      )}\n      {err && <p className=\"text-xs text-red-600 mb-2\">{err}</p>}\n\n      {vendorsSummary.length === 0 ? (\n        <p className=\"text-xs text-gray-500\">\n          No purchases yet. Once you save purchases, you will see vendor-wise\n          summary here.\n        </p>\n      ) : (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n          <div className=\"lg:col-span-1 border rounded p-3\">\n            <h4 className=\"font-semibold mb-2 text-xs\">\n              Vendors (total purchase & pending)\n            </h4>\n            <table className=\"w-full text-[11px]\">\n              <thead className=\"bg-gray-100\">\n                <tr>\n                  <th className=\"p-1 text-left\">Vendor</th>\n                  <th className=\"p-1 text-right\">Pending</th>\n                </tr>\n              </thead>\n              <tbody>\n                {vendorsSummary.map((v) => (\n                  <tr\n                    key={v.vendorName}\n                    className={\n                      \"border-t cursor-pointer \" +\n                      (v.vendorName === selectedVendorName\n                        ? \"bg-sky-50\"\n                        : \"\")\n                    }\n                    onClick={() => setSelectedVendorName(v.vendorName)}\n                  >\n                    <td className=\"p-1\">{v.vendorName}</td>\n                    <td className=\"p-1 text-right\">\n                      {v.totalPending.toFixed(2)}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n\n            <div className=\"mt-3 text-xs text-gray-600\">\n              <strong>Total Pending: </strong>\n              {totalPendingAll.toFixed(2)}\n            </div>\n          </div>\n\n          <div className=\"lg:col-span-2 border rounded p-3\">\n            {!selectedVendorSummary ? (\n              <p className=\"text-xs text-gray-500\">\n                Select a vendor on the left to see full record of your\n                purchases, paid amounts, and remaining balance for that vendor.\n              </p>\n            ) : (\n              <>\n                <div className=\"flex flex-wrap justify-between mb-3 text-xs\">\n                  <div>\n                    <div className=\"font-semibold\">\n                      {selectedVendorSummary.vendorName}\n                    </div>\n                    <div className=\"text-gray-500\">\n                      Total Pending:{\" \"}\n                      <strong>\n                        {selectedVendorSummary.totalPending.toFixed(2)}\n                      </strong>\n                    </div>\n                  </div>\n                  <div className=\"text-right space-y-1\">\n                    <div>\n                      Total Grand:{\" \"}\n                      <strong>\n                        {selectedVendorSummary.totalGrand.toFixed(2)}\n                      </strong>\n                    </div>\n                    <div>\n                      Total Paid:{\" \"}\n                      <strong>\n                        {selectedVendorSummary.totalPaid.toFixed(2)}\n                      </strong>\n                    </div>\n                  </div>\n                </div>\n\n                {selectedVendorSummary.purchases.map((p) => {\n                  const items = p.products || [];\n                  return (\n                    <div\n                      key={p.id}\n                      className=\"border rounded mb-3 p-2 text-[11px]\"\n                    >\n                      <div className=\"flex flex-wrap justify-between mb-1\">\n                        <div>\n                          <span className=\"font-semibold\">Date: </span>\n                          {p.date\n                            ? new Date(p.date).toLocaleString()\n                            : \"-\"}\n                        </div>\n                        <div>\n                          <span className=\"font-semibold\">Grand: </span>\n                          {p.grandTotal} &nbsp;|&nbsp;\n                          <span className=\"font-semibold\">Paid: </span>\n                          {p.paidNow} &nbsp;|&nbsp;\n                          <span className=\"font-semibold\">\n                            Remaining:{\" \"}\n                          </span>\n                          {p.pending}\n                        </div>\n                      </div>\n\n                      <table className=\"w-full text-[11px] border mt-1\">\n                        <thead className=\"bg-gray-100\">\n                          <tr>\n                            <th className=\"border px-1 py-0.5\">#</th>\n                            <th className=\"border px-1 py-0.5\">Product</th>\n                            <th className=\"border px-1 py-0.5\">Qty</th>\n                            <th className=\"border px-1 py-0.5\">Price</th>\n                            <th className=\"border px-1 py-0.5\">Line Total</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {items.map((it, idx) => (\n                            <tr key={idx}>\n                              <td className=\"border px-1 py-0.5\">\n                                {idx + 1}\n                              </td>\n                              <td className=\"border px-1 py-0.5\">\n                                {it.productName}\n                              </td>\n                              <td className=\"border px-1 py-0.5\">\n                                {it.qty || it.quantity}\n                              </td>\n                              <td className=\"border px-1 py-0.5\">\n                                {it.pricePerKg || it.price}\n                              </td>\n                              <td className=\"border px-1 py-0.5\">\n                                {it.lineTotal}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n\n                      <div className=\"mt-2 flex justify-end gap-2\">\n                        <button\n                          onClick={() =>\n                            alert(\n                              \"Edit in form: we can wire this to Purchases later.\"\n                            )\n                          }\n                          className=\"px-2 py-1 bg-sky-600 text-white rounded\"\n                        >\n                          Edit in Form\n                        </button>\n                        <button\n                          onClick={() => handleDeletePurchase(p)}\n                          className=\"px-2 py-1 bg-red-600 text-white rounded\"\n                        >\n                          🗑 Delete\n                        </button>\n                      </div>\n                    </div>\n                  );\n                })}\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* Purchases */\nfunction Purchases({ t }) {\n  const [vendorName, setVendorName] = useState('');\n  const [rows, setRows] = useState([\n    { productName: '', qty: 1, pricePerKg: 0 },\n  ]);\n  const [paidNow, setPaidNow] = useState(0);\n  const [mode, setMode] = useState('cash');\n  const [records, setRecords] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [filterDate, setFilterDate] = useState('');\n  const [selectedVendorName, setSelectedVendorName] = useState('');\n\n  // Load purchases from database\n  useEffect(() => {\n    loadPurchases();\n  }, []);\n\n  async function loadPurchases() {\n    try {\n      const res = await fetch('http://localhost:4000/api/purchases');\n      const j = await res.json();\n      if (!j.ok) {\n        console.error(j.message || 'Failed to load purchases');\n        return;\n      }\n      setRecords(j.purchases || []);\n    } catch (e) {\n      console.error('Error loading purchases', e);\n    }\n  }\n\n  // Build vendor map\n  const vendorMap = new Map();\n\n  (records || []).forEach((r) => {\n    const name = r.vendorName || 'Unknown';\n    if (!vendorMap.has(name)) {\n      vendorMap.set(name, {\n        vendorName: name,\n        totalGrand: 0,\n        totalPaid: 0,\n        totalPending: 0,\n        purchases: [],\n      });\n    }\n    const entry = vendorMap.get(name);\n    entry.totalGrand += Number(r.grandTotal || 0);\n    entry.totalPaid += Number(r.paidNow || 0);\n    entry.totalPending += Number(r.pending || 0);\n    entry.purchases.push(r);\n  });\n\n  const vendorsSummary = Array.from(vendorMap.values()).sort(\n    (a, b) => b.totalPending - a.totalPending\n  );\n\n  const selectedVendorSummary =\n    vendorsSummary.find((v) => v.vendorName === selectedVendorName) || null;\n\n  function addRow() {\n    setRows((prev) => [\n      ...prev,\n      { productName: '', qty: 1, pricePerKg: 0 },\n    ]);\n  }\n\n  function updateRow(i, key, value) {\n    const a = [...rows];\n    a[i][key] = value;\n    setRows(a);\n  }\n\n  // Fixed calculation: quantity * price only (no weight)\n  const total = rows.reduce(\n    (s, r) =>\n      s +\n      Number(r.qty || 0) *\n      Number(r.pricePerKg || 0),\n    0\n  );\n  const remaining = +(total - Number(paidNow || 0)).toFixed(2);\n\n  async function savePurchase() {\n    const payloadProducts = rows.map(r => ({\n      productName: r.productName,\n      qty: Number(r.qty || 0),\n      pricePerKg: Number(r.pricePerKg || 0),\n    }));\n\n    const payload = {\n      vendorName,\n      products: payloadProducts,\n      paidNow,\n      modeOfPayment: mode,\n    };\n\n    try {\n      let j;\n      if (editingIndex !== null && editingId) {\n        const res = await fetch(\n          `http://localhost:4000/api/purchases/${editingId}`,\n          {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(payload),\n          }\n        );\n        j = await res.json();\n        if (!j.ok) {\n          alert(j.message || 'Failed to update purchase');\n          return;\n        }\n\n        const updated = j.record;\n        setRecords(prev =>\n          prev.map(p => (p.id === updated.id ? updated : p))\n        );\n        alert('Purchase updated');\n      } else {\n        const res = await fetch('http://localhost:4000/api/save-purchase', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload),\n        });\n        j = await res.json();\n        if (!j.ok) {\n          alert(j.message || 'Failed to save purchase');\n          return;\n        }\n        setRecords(prev => [...prev, j.record]);\n        alert('Purchase saved');\n      }\n\n      // Reset form\n      setEditingIndex(null);\n      setEditingId(null);\n      setVendorName('');\n      setPaidNow(0);\n      setMode('cash');\n      setRows([{ productName: '', qty: 1, pricePerKg: 0 }]);\n      \n      // Reload purchases\n      loadPurchases();\n    } catch (e) {\n      console.error(e);\n      alert('Error saving purchase');\n    }\n  }\n\n  function editPurchase(index) {\n    const r = records[index];\n    if (!r) return;\n\n    setVendorName(r.vendorName || '');\n    setPaidNow(Number(r.paidNow || 0));\n    setMode(r.modeOfPayment || 'cash');\n\n    const restoredRows = (r.products || []).map((p) => ({\n      productName: p.productName,\n      qty: p.qty || p.quantity || 0,\n      pricePerKg: p.pricePerKg || p.price || 0,\n    }));\n\n    setRows(\n      restoredRows.length\n        ? restoredRows\n        : [{ productName: '', qty: 1, pricePerKg: 0 }]\n    );\n\n    setEditingIndex(index);\n    setEditingId(r.id);\n  }\n\n  async function deletePurchase(index) {\n    const r = records[index];\n    if (!r || !r.id) return;\n    if (!window.confirm('Delete this purchase?')) return;\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/purchases/${r.id}`,\n        { method: 'DELETE' }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete purchase');\n        return;\n      }\n\n      setRecords(prev => prev.filter(x => x.id !== r.id));\n      alert('Purchase deleted');\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting purchase');\n    }\n  }\n\n  const displayedRecords = filterDate\n    ? records.filter((r) => {\n      if (!r.date) return false;\n      return r.date.slice(0, 10) === filterDate;\n    })\n    : records;\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">{t('purchases')}</h2>\n      {/* Purchase form */}\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\n        <input\n          placeholder={t('vendorName')}\n          value={vendorName}\n          onChange={(e) => setVendorName(e.target.value)}\n          className=\"border p-2 w-full mb-3\"\n        />\n\n        {/* Items table */}\n        <table className=\"w-full\">\n          <thead className=\"bg-sky-100\">\n            <tr>\n              <th>#</th>\n              <th>Product</th>\n              <th>Qty</th>\n              <th>Price</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {rows.map((r, i) => (\n              <tr key={i} className=\"border-t\">\n                <td className=\"p-2\">{i + 1}</td>\n                <td className=\"p-2\">\n                  <input\n                    className=\"border p-1\"\n                    value={r.productName}\n                    onChange={(e) =>\n                      updateRow(i, 'productName', e.target.value)\n                    }\n                  />\n                </td>\n                <td className=\"p-2\">\n                  <input\n                    className=\"border p-1 w-20\"\n                    type=\"number\"\n                    value={r.qty}\n                    onChange={(e) =>\n                      updateRow(i, 'qty', Number(e.target.value))\n                    }\n                  />\n                </td>\n                <td className=\"p-2\">\n                  <input\n                    className=\"border p-1 w-28\"\n                    type=\"number\"\n                    value={r.pricePerKg}\n                    onChange={(e) =>\n                      updateRow(i, 'pricePerKg', Number(e.target.value))\n                    }\n                  />\n                </td>\n                <td className=\"p-2\">\n                  {(\n                    Number(r.qty || 0) *\n                    Number(r.pricePerKg || 0)\n                  ).toFixed(2)}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {/* Controls */}\n        <div className=\"flex items-center gap-2 mt-4\">\n          <button\n            onClick={addRow}\n            className=\"px-3 py-1 border rounded hover:shadow transition\"\n          >\n            ➕ Add Item\n          </button>\n\n          <select\n            value={mode}\n            onChange={(e) => setMode(e.target.value)}\n            className=\"border p-1 rounded\"\n          >\n            <option value=\"cash\">{t('cash')}</option>\n            <option value=\"card\">{t('card')}</option>\n            <option value=\"cheque\">{t('cheque')}</option>\n            <option value=\"online\">{t('online')}</option>\n          </select>\n\n          <div className=\"ml-auto flex items-center gap-2\">\n            <label>Amount Paid</label>\n            <input\n              type=\"number\"\n              value={paidNow}\n              onChange={(e) => setPaidNow(Number(e.target.value))}\n              className=\"border p-1 w-28\"\n            />\n            <div className=\"px-3 py-2 bg-gray-50 rounded\">\n              Remaining:{' '}\n              <strong>{remaining.toFixed(2)}</strong>\n            </div>\n            <button\n              onClick={savePurchase}\n              className=\"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition\"\n            >\n              {editingIndex !== null ? 'Update Purchase' : 'Save Purchase'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Vendor Purchase Management */}\n      <VendorPurchaseManagement t={t} />\n    </div>\n  );\n}\n\n/* Reports */\nfunction Reports({ t }) {\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const [report, setReport] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n\n  async function loadReport(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    if (!date) {\n      alert('Select a date');\n      return;\n    }\n    setLoading(true);\n    setErr('');\n    setReport(null);\n    try {\n      const res = await fetch(`http://localhost:4000/api/reports/day?date=${date}`);\n      const j = await res.json();\n      if (!j.ok) throw new Error(j.message || 'Failed to load report');\n      setReport(j);\n    } catch (e) {\n      console.error(e);\n      setErr('Failed to load report');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">Reports</h2>\n\n      <div className=\"bg-white p-4 rounded shadow mb-4\">\n        <form onSubmit={loadReport} className=\"flex flex-wrap items-end gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Select Date</label>\n            <input\n              type=\"date\"\n              value={date}\n              onChange={e => setDate(e.target.value)}\n              className=\"border p-2 rounded\"\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition\"\n          >\n            {loading ? 'Loading…' : 'Load Report'}\n          </button>\n          {err && <span className=\"text-red-600 text-sm ml-2\">{err}</span>}\n        </form>\n      </div>\n\n      {!report && !loading && !err && (\n        <p className=\"text-sm text-gray-600\">Select a date and click \"Load Report\" to view details.</p>\n      )}\n\n      {report && (\n        <>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div className=\"bg-white p-4 rounded shadow\">\n              <div className=\"text-sm text-gray-500\">Total Sales</div>\n              <div className=\"text-xl font-semibold\">\n                {Number(report.totalSales || 0).toFixed(2)}\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded shadow\">\n              <div className=\"text-sm text-gray-500\">Amount Received</div>\n              <div className=\"text-xl font-semibold\">\n                {Number(report.totalReceived || 0).toFixed(2)}\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded shadow\">\n              <div className=\"text-sm text-gray-500\">Number of Bills</div>\n              <div className=\"text-xl font-semibold\">\n                {(report.invoices || []).length}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-4 rounded shadow mb-4\">\n            <h3 className=\"font-semibold mb-2\">Products Sold on {report.date}</h3>\n            {(report.productsSummary || []).length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No products sold on this date.</p>\n            ) : (\n              <table className=\"w-full text-sm border\">\n                <thead className=\"bg-gray-100\">\n                  <tr>\n                    <th className=\"border px-2 py-1 text-left\">Product</th>\n                    <th className=\"border px-2 py-1 text-right\">Total Qty</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {report.productsSummary.map((p, i) => (\n                    <tr key={i}>\n                      <td className=\"border px-2 py-1\">{p.productName}</td>\n                      <td className=\"border px-2 py-1 text-right\">{p.totalQty}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n\n          <div className=\"bg-white p-4 rounded shadow\">\n            <h3 className=\"font-semibold mb-2\">Bills / Invoices</h3>\n            {(report.invoices || []).length === 0 && (\n              <p className=\"text-sm text-gray-500\">No invoices on this date.</p>\n            )}\n            {(report.invoices || []).map(inv => (\n              <div key={inv.id} className=\"border rounded mb-4 p-3\">\n                <div className=\"flex flex-wrap justify-between text-sm mb-1\">\n                  <div>\n                    <span className=\"font-semibold\">Customer: </span>\n                    {inv.customerName}\n                  </div>\n                  <div>\n                    <span className=\"font-semibold\">Time: </span>\n                    {inv.date}\n                  </div>\n                </div>\n                <div className=\"flex flex-wrap gap-4 text-sm mb-2\">\n                  <div>Grand Total: {inv.grandTotal}</div>\n                  <div>Paid: {inv.paidNow}</div>\n                  <div>Pending:  {inv.pending}</div>\n                </div>\n                <table className=\"w-full text-xs border\">\n                  <thead className=\"bg-gray-100\">\n                    <tr>\n                      <th className=\"border px-1 py-0.5\">#</th>\n                      <th className=\"border px-1 py-0.5\">Product</th>\n                      <th className=\"border px-1 py-0.5\">Qty</th>\n                      <th className=\"border px-1 py-0.5\">Price</th>\n                      <th className=\"border px-1 py-0.5\">Line Total</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(inv.products || inv.lines || []).map((p, idx) => (\n                      <tr key={idx}>\n                        <td className=\"border px-1 py-0.5\">{idx + 1}</td>\n                        <td className=\"border px-1 py-0.5\">{p.productName}</td>\n                        <td className=\"border px-1 py-0.5\">{p.quantity || p.qty}</td>\n                        <td className=\"border px-1 py-0.5\">{p.pricePerKg || p.price}</td>\n                        <td className=\"border px-1 py-0.5\">{p.lineTotal}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\n/* Debits */\nfunction Debits({ t }) {\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendorId, setSelectedVendorId] = useState('');\n  const [vendorName, setVendorName] = useState('');\n  const [vendorPlace, setVendorPlace] = useState('');\n  const [vendorCompany, setVendorCompany] = useState('');\n  const [editingVendorId, setEditingVendorId] = useState(null);\n  const [ledger, setLedger] = useState([]);\n  const [txType, setTxType] = useState('received');\n  const [txAmount, setTxAmount] = useState(0);\n  const [txMethod, setTxMethod] = useState('');\n  const [txBillRef, setTxBillRef] = useState('');\n  const [txDate, setTxDate] = useState('');\n  const [editingTxId, setEditingTxId] = useState(null);\n  const [purchaseDebits, setPurchaseDebits] = useState([]);\n  const [loadingPurchases, setLoadingPurchases] = useState(false);\n\n  useEffect(() => {\n    loadVendors();\n    loadPurchaseDebits();\n  }, []);\n\n  async function loadVendors() {\n    try {\n      const res = await fetch('http://localhost:4000/api/vendors');\n      const j = await res.json();\n      if (j.ok) setVendors(j.vendors || []);\n    } catch (e) {\n      console.error('Failed to load vendors', e);\n    }\n  }\n\n  async function loadLedger(vendorId) {\n    if (!vendorId) {\n      setLedger([]);\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendorId}/ledger`);\n      const j = await res.json();\n      if (j.ok) {\n        setLedger(j.ledger || []);\n        setVendors(prev =>\n          prev.map(v => (v.id === vendorId ? j.vendor : v))\n        );\n      }\n    } catch (e) {\n      console.error('Failed to load ledger', e);\n    }\n  }\n\n  async function loadPurchaseDebits() {\n    try {\n      setLoadingPurchases(true);\n      const res = await fetch('http://localhost:4000/api/purchases-with-pending');\n      const j = await res.json();\n      if (j.ok) setPurchaseDebits(j.purchases || []);\n    } catch (e) {\n      console.error('Failed to load purchase debits', e);\n    } finally {\n      setLoadingPurchases(false);\n    }\n  }\n\n  function onSelectVendor(id) {\n    setSelectedVendorId(id);\n    setEditingTxId(null);\n    resetTxForm();\n    if (id) loadLedger(id);\n    else setLedger([]);\n  }\n\n  function startNewVendor() {\n    setVendorName('');\n    setVendorPlace('');\n    setVendorCompany('');\n    setEditingVendorId(null);\n  }\n\n  function startEditVendor(vendor) {\n    setVendorName(vendor.name || '');\n    setVendorPlace(vendor.place || '');\n    setVendorCompany(vendor.company || '');\n    setEditingVendorId(vendor.id);\n  }\n\n  async function saveVendor() {\n    if (!vendorName) {\n      alert('Vendor name is required');\n      return;\n    }\n\n    const payload = {\n      id: editingVendorId || undefined,\n      name: vendorName,\n      place: vendorPlace,\n      company: vendorCompany,\n    };\n\n    try {\n      const res = await fetch('http://localhost:4000/api/vendors', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to save vendor');\n        return;\n      }\n\n      const v = j.vendor;\n      setVendors(prev => {\n        const idx = prev.findIndex(x => x.id === v.id);\n        if (idx === -1) return [...prev, v];\n        const copy = [...prev];\n        copy[idx] = v;\n        return copy;\n      });\n\n      setVendorName('');\n      setVendorPlace('');\n      setVendorCompany('');\n      setEditingVendorId(null);\n    } catch (e) {\n      console.error(e);\n      alert('Error saving vendor');\n    }\n  }\n\n  async function deleteVendor(vendor) {\n    if (!window.confirm(`Delete vendor \"${vendor.name}\" and all its debits?`)) return;\n    try {\n      const res = await fetch(`http://localhost:4000/api/vendors/${vendor.id}`, {\n        method: 'DELETE',\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete vendor');\n        return;\n      }\n      setVendors(prev => prev.filter(v => v.id !== vendor.id));\n      if (selectedVendorId === vendor.id) {\n        setSelectedVendorId('');\n        setLedger([]);\n      }\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting vendor');\n    }\n  }\n\n  async function deletePurchaseDebit(p) {\n    if (!p || !p.id) return;\n    if (!window.confirm('Delete this pending purchase?')) return;\n\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/purchases/${p.id}`,\n        { method: 'DELETE' }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete purchase');\n        return;\n      }\n\n      setPurchaseDebits(prev => prev.filter(x => x.id !== p.id));\n      alert('Purchase deleted');\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting purchase');\n    }\n  }\n\n  function resetTxForm() {\n    setTxType('received');\n    setTxAmount(0);\n    setTxMethod('');\n    setTxBillRef('');\n    setTxDate('');\n    setEditingTxId(null);\n  }\n\n  function startEditTx(tx) {\n    setTxType(tx.type);\n    setTxAmount(tx.amount);\n    setTxMethod(tx.method || '');\n    setTxBillRef(tx.billRef || '');\n    setTxDate(tx.date ? tx.date.slice(0, 10) : '');\n    setEditingTxId(tx.id);\n  }\n\n  async function saveTransaction() {\n    if (!selectedVendorId) {\n      alert('Select a vendor first');\n      return;\n    }\n    if (!txAmount || Number(txAmount) <= 0) {\n      alert('Amount must be greater than 0');\n      return;\n    }\n\n    const payload = {\n      type: txType,\n      amount: Number(txAmount),\n      method: txMethod,\n      billRef: txBillRef,\n      date: txDate ? new Date(txDate).toISOString() : undefined,\n    };\n\n    try {\n      let url = `http://localhost:4000/api/vendors/${selectedVendorId}/transactions`;\n      let method = 'POST';\n\n      if (editingTxId) {\n        url += `/${editingTxId}`;\n        method = 'PUT';\n      }\n\n      const res = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to save transaction');\n        return;\n      }\n\n      setLedger(j.ledger || []);\n      setVendors(prev =>\n        prev.map(v => (v.id === selectedVendorId ? j.vendor : v))\n      );\n      resetTxForm();\n    } catch (e) {\n      console.error(e);\n      alert('Error saving transaction');\n    }\n  }\n\n  async function deleteTransaction(tx) {\n    if (!selectedVendorId) return;\n    if (!window.confirm('Delete this transaction?')) return;\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/vendors/${selectedVendorId}/transactions/${tx.id}`,\n        { method: 'DELETE' }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete');\n        return;\n      }\n      setLedger(j.ledger || []);\n      setVendors(prev =>\n        prev.map(v => (v.id === selectedVendorId ? j.vendor : v))\n      );\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting transaction');\n    }\n  }\n\n  async function editPurchaseDebit(p) {\n    if (!p || !p.id) return;\n\n    const newPaidStr = prompt(\n      'Enter new paid amount for this purchase:',\n      String(p.paidNow || 0)\n    );\n    if (newPaidStr === null) return;\n    const newPaid = Number(newPaidStr);\n    if (isNaN(newPaid)) {\n      alert('Invalid amount');\n      return;\n    }\n\n    const payload = {\n      vendorName: p.vendorName,\n      products: p.products || [],\n      paidNow: newPaid,\n      modeOfPayment: p.modeOfPayment,\n    };\n\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/purchases/${p.id}`,\n        {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload),\n        }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to update purchase');\n        return;\n      }\n\n      const updated = j.record;\n\n      setPurchaseDebits((prev) => {\n        const arr = prev\n          .map((x) => (x.id === updated.id ? updated : x))\n          .filter((x) => Number(x.pending || 0) > 0);\n        return arr;\n      });\n\n      alert('Purchase updated');\n\n    } catch (e) {\n      console.error(e);\n      alert('Error updating purchase');\n    }\n  }\n\n  const totalReceived = ledger\n    .filter(tx => tx.type === 'received')\n    .reduce((s, tx) => s + Number(tx.amount || 0), 0);\n\n  const totalPaid = ledger\n    .filter(tx => tx.type === 'paid')\n    .reduce((s, tx) => s + Number(tx.amount || 0), 0);\n\n  const totalGoods = ledger\n    .filter(tx => tx.type === 'goods')\n    .reduce((s, tx) => s + Number(tx.amount || 0), 0);\n\n  const remaining =\n    (vendors.find(v => v.id === selectedVendorId)?.remaining ?? 0);\n\n  const selectedVendor = vendors.find(v => v.id === selectedVendorId) || null;\n\n  const filteredPurchases = selectedVendor\n    ? purchaseDebits.filter(p =>\n      (p.vendorName || '').toLowerCase() ===\n      (selectedVendor.name || '').toLowerCase()\n    )\n    : purchaseDebits;\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">Debits</h2>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\n        <div className=\"lg:col-span-1 space-y-4\">\n          <div className=\"bg-white p-4 rounded shadow\">\n            <h3 className=\"font-semibold mb-3\">Vendor Debit Management</h3>\n            <div className=\"space-y-2 text-sm\">\n              <input\n                className=\"border p-2 rounded w-full\"\n                placeholder=\"Vendor Name\"\n                value={vendorName}\n                onChange={e => setVendorName(e.target.value)}\n              />\n              <input\n                className=\"border p-2 rounded w-full\"\n                placeholder=\"Place / Location\"\n                value={vendorPlace}\n                onChange={e => setVendorPlace(e.target.value)}\n              />\n              <input\n                className=\"border p-2 rounded w-full\"\n                placeholder=\"Company Name\"\n                value={vendorCompany}\n                onChange={e => setVendorCompany(e.target.value)}\n              />\n              <div className=\"flex gap-2 mt-2\">\n                <button\n                  onClick={saveVendor}\n                  className=\"px-3 py-1 bg-teal-600 text-white rounded hover:bg-teal-700 text-sm\"\n                >\n                  {editingVendorId ? 'Update Vendor' : 'Save Vendor'}\n                </button>\n                <button\n                  onClick={startNewVendor}\n                  className=\"px-3 py-1 border rounded text-sm\"\n                >\n                  New\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-4 rounded shadow max-h-[400px] overflow-auto\">\n            <h3 className=\"font-semibold mb-3\">Vendors</h3>\n            {vendors.length === 0 ? (\n              <p className=\"text-xs text-gray-500\">No vendors yet.</p>\n            ) : (\n              <table className=\"w-full text-xs\">\n                <thead className=\"bg-gray-100\">\n                  <tr>\n                    <th className=\"p-2 text-left\">Name</th>\n                    <th className=\"p-2 text-right\">Remaining</th>\n                    <th className=\"p-2 text-center\">Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {vendors.map(v => (\n                    <tr\n                      key={v.id}\n                      className={\n                        'border-t ' +\n                        (v.id === selectedVendorId ? 'bg-sky-50' : '')\n                      }\n                    >\n                      <td className=\"p-2\">\n                        <button\n                          onClick={() => onSelectVendor(v.id)}\n                          className=\"text-left text-xs hover:underline\"\n                        >\n                          {v.name}\n                          {v.company ? ` (${v.company})` : ''}\n                        </button>\n                      </td>\n                      <td className=\"p-2 text-right\">\n                        {Number(v.remaining || 0).toFixed(2)}\n                      </td>\n                      <td className=\"p-2 text-center\">\n                        <button\n                          onClick={() => startEditVendor(v)}\n                          className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\n                        >\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => deleteVendor(v)}\n                          className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\n                        >\n                          🗑\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </div>\n\n        <div className=\"lg:col-span-2 space-y-4\">\n          <div className=\"bg-white p-4 rounded shadow\">\n            <h3 className=\"font-semibold mb-3\">\n              {selectedVendorId ? 'Vendor Ledger' : 'Select a Vendor'}\n            </h3>\n\n            {selectedVendorId && (\n              <>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 text-sm\">\n                  <div className=\"bg-sky-50 p-2 rounded\">\n                    <div className=\"text-xs text-gray-500\">Total Received</div>\n                    <div className=\"font-semibold\">\n                      {totalReceived.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className=\"bg-sky-50 p-2 rounded\">\n                    <div className=\"text-xs text-gray-500\">Total Paid</div>\n                    <div className=\"font-semibold\">\n                      {totalPaid.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className=\"bg-sky-50 p-2 rounded\">\n                    <div className=\"text-xs text-gray-500\">Goods Purchased</div>\n                    <div className=\"font-semibold\">\n                      {totalGoods.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className=\"bg-sky-50 p-2 rounded\">\n                    <div className=\"text-xs text-gray-500\">Remaining</div>\n                    <div className=\"font-semibold\">\n                      {Number(remaining || 0).toFixed(2)}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"border rounded p-3 mb-4 text-sm\">\n                  <h4 className=\"font-semibold mb-2\">\n                    {editingTxId ? 'Edit Transaction' : 'Add Transaction'}\n                  </h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-5 gap-2\">\n                    <select\n                      className=\"border p-2 rounded\"\n                      value={txType}\n                      onChange={e => setTxType(e.target.value)}\n                    >\n                      <option value=\"received\">Received from Vendor</option>\n                      <option value=\"paid\">Paid to Vendor</option>\n                      <option value=\"goods\">\n                        Goods Purchased (vendor takes goods)\n                      </option>\n                    </select>\n                    <input\n                      type=\"number\"\n                      className=\"border p-2 rounded\"\n                      placeholder=\"Amount\"\n                      value={txAmount}\n                      onChange={e => setTxAmount(e.target.value)}\n                    />\n                    <input\n                      type=\"date\"\n                      className=\"border p-2 rounded\"\n                      value={txDate}\n                      onChange={e => setTxDate(e.target.value)}\n                    />\n                    <input\n                      className=\"border p-2 rounded\"\n                      placeholder=\"Payment Method\"\n                      value={txMethod}\n                      onChange={e => setTxMethod(e.target.value)}\n                    />\n                    <input\n                      className=\"border p-2 rounded\"\n                      placeholder=\"Remarks\"\n                      value={txBillRef}\n                      onChange={e => setTxBillRef(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"flex gap-2 mt-3\">\n                    <button\n                      onClick={saveTransaction}\n                      className=\"px-3 py-1 bg-teal-600 text-white rounded text-sm\"\n                    >\n                      {editingTxId ? 'Update Transaction' : 'Save Transaction'}\n                    </button>\n                    <button\n                      onClick={resetTxForm}\n                      className=\"px-3 py-1 border rounded text-sm\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"max-h-[380px] overflow-auto text-xs\">\n                  <table className=\"w-full\">\n                    <thead className=\"bg-gray-100\">\n                      <tr>\n                        <th className=\"p-2 text-left\">Date</th>\n                        <th className=\"p-2 text-left\">Type</th>\n                        <th className=\"p-2 text-right\">Amount</th>\n                        <th className=\"p-2 text-left\">Method</th>\n                        <th className=\"p-2 text-left\">Remarks</th>\n                        <th className=\"p-2 text-right\">Balance After</th>\n                        <th className=\"p-2 text-center\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {ledger.map(tx => (\n                        <tr key={tx.id} className=\"border-t\">\n                          <td className=\"p-2\">\n                            {tx.date\n                              ? new Date(tx.date).toLocaleDateString()\n                              : '-'}\n                          </td>\n                          <td className=\"p-2 capitalize\">{tx.type}</td>\n                          <td className=\"p-2 text-right\">\n                            {Number(tx.amount || 0).toFixed(2)}\n                          </td>\n                          <td className=\"p-2\">{tx.method}</td>\n                          <td className=\"p-2\">{tx.billRef}</td>\n                          <td className=\"p-2 text-right\">\n                            {Number(tx.balanceAfter || 0).toFixed(2)}\n                          </td>\n                          <td className=\"p-2 text-center\">\n                            <button\n                              onClick={() => startEditTx(tx)}\n                              className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\n                            >\n                              Edit\n                            </button>\n                            <button\n                              onClick={() => deleteTransaction(tx)}\n                              className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\n                            >\n                              🗑\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                      {ledger.length === 0 && (\n                        <tr>\n                          <td\n                            colSpan={7}\n                            className=\"p-2 text-center text-gray-500\"\n                          >\n                            No transactions yet.\n                          </td>\n                        </tr>\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              </>\n            )}\n\n            {!selectedVendorId && (\n              <p className=\"text-xs text-gray-500\">\n                Select a vendor on the left to view and manage their debits.\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white p-4 rounded shadow\">\n        <div className=\"flex items-center mb-3\">\n          <h3 className=\"font-semibold\">Purchased Vendor (Pending Purchases)</h3>\n          <button\n            onClick={loadPurchaseDebits}\n            className=\"ml-auto px-3 py-1 text-xs border rounded\"\n          >\n            {loadingPurchases ? 'Refreshing…' : 'Refresh'}\n          </button>\n        </div>\n        <p className=\"text-xs text-gray-500 mb-2\">\n          Showing all purchases where some amount is still pending.\n          {selectedVendor\n            ? ` (Filtered by vendor: ${selectedVendor.name})`\n            : ' (All vendors)'}\n        </p>\n        <table className=\"w-full text-xs\">\n          <thead className=\"bg-gray-100\">\n            <tr>\n              <th className=\"p-2 text-left\">Vendor</th>\n              <th className=\"p-2 text-left\">Date</th>\n              <th className=\"p-2 text-left\">Product</th>\n              <th className=\"p-2 text-right\">Qty</th>\n              <th className=\"p-2 text-right\">Grand Total</th>\n              <th className=\"p-2 text-right\">Paid</th>\n              <th className=\"p-2 text-right\">Remaining</th>\n              <th className=\"p-2 text-left\">Mode</th>\n              <th className=\"p-2 text-center\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredPurchases.map(p => {\n              const productsList = (p.products || []).map(x => x.productName).join(', ');\n              const totalQty = (p.products || []).reduce(\n                (s, x) => s + Number(x.qty || x.quantity || 0),\n                0\n              );\n              return (\n                <tr key={p.id} className=\"border-t\">\n                  <td className=\"p-2\">{p.vendorName}</td>\n                  <td className=\"p-2\">\n                    {p.date ? new Date(p.date).toLocaleDateString() : '-'}\n                  </td>\n                  <td className=\"p-2\">{productsList || '-'}</td>\n                  <td className=\"p-2 text-right\">{totalQty}</td>\n                  <td className=\"p-2 text-right\">\n                    {Number(p.grandTotal || 0).toFixed(2)}\n                  </td>\n                  <td className=\"p-2 text-right\">\n                    {Number(p.paidNow || 0).toFixed(2)}\n                  </td>\n                  <td className=\"p-2 text-right\">\n                    {Number(p.pending || 0).toFixed(2)}\n                  </td>\n                  <td className=\"p-2\">{p.modeOfPayment}</td>\n                  <td className=\"p-2 text-center\">\n                    <button\n                      onClick={() => editPurchaseDebit(p)}\n                      className=\"px-2 py-1 text-xs bg-sky-600 text-white rounded mr-1\"\n                    >\n                      Edit\n                    </button>\n                    <button\n                      onClick={() => deletePurchaseDebit(p)}\n                      className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\n                    >\n                      🗑\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n            {filteredPurchases.length === 0 && (\n              <tr>\n                <td\n                  className=\"p-2 text-center text-gray-500\"\n                  colSpan={9}\n                >\n                  No pending purchases found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nfunction RecycleBin({ t }) {\n  const [activeType, setActiveType] = useState('sales');\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n\n  async function loadItems(type = activeType) {\n    try {\n      setLoading(true);\n      setErr('');\n      const res = await fetch(`http://localhost:4000/api/recycle-bin/${type}`);\n      const j = await res.json();\n      if (!j.ok) throw new Error(j.message || 'Failed to load recycle bin');\n      setItems(j.items || []);\n    } catch (e) {\n      console.error(e);\n      setErr(e.message || 'Failed to load recycle bin');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadItems('sales');\n  }, []);\n\n  function changeType(type) {\n    setActiveType(type);\n    loadItems(type);\n  }\n\n  async function handleRestore(id) {\n    if (!window.confirm('Restore this record?')) return;\n    try {\n      const res = await fetch('http://localhost:4000/api/recycle-bin/restore', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: activeType, id }),\n      });\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to restore');\n        return;\n      }\n      await loadItems();\n      alert('Restored successfully');\n    } catch (e) {\n      console.error(e);\n      alert('Error restoring item');\n    }\n  }\n\n  async function handleDelete(id) {\n    if (!window.confirm('Permanently delete this item?')) return;\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/recycle-bin/${activeType}/${id}`,\n        { method: 'DELETE' }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete from recycle bin');\n        return;\n      }\n      await loadItems();\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting item');\n    }\n  }\n\n  async function handleDeleteAll() {\n    if (\n      !window.confirm(\n        `Permanently delete ALL ${activeType} items from recycle bin?`\n      )\n    )\n      return;\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/recycle-bin/${activeType}`,\n        { method: 'DELETE' }\n      );\n      const j = await res.json();\n      if (!j.ok) {\n        alert(j.message || 'Failed to delete all');\n        return;\n      }\n      await loadItems();\n    } catch (e) {\n      console.error(e);\n      alert('Error deleting all items');\n    }\n  }\n\n  function renderMainLabel(item) {\n    if (activeType === 'sales') {\n      return `${item.customerName || 'Unknown'} — Grand: ${item.grandTotal} | Pending: ${item.pending}`;\n    }\n    if (activeType === 'purchases') {\n      return `${item.vendorName || 'Unknown'} — Grand: ${item.grandTotal} | Pending: ${item.pending}`;\n    }\n    if (activeType === 'vendors') {\n      return `${item.name || 'Vendor'} — Remaining: ${item.remaining || 0}`;\n    }\n    if (activeType === 'customers') {\n      return `${item.name || 'Customer'} — Pending: ${item.previousPending || 0}`;\n    }\n    return 'Item';\n  }\n\n  function formatDate(iso) {\n    if (!iso) return '';\n    try {\n      return new Date(iso).toLocaleString();\n    } catch {\n      return iso;\n    }\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">Recycle Bin</h2>\n\n      <div className=\"flex gap-2 mb-4\">\n        {['sales', 'purchases', 'vendors', 'customers'].map((type) => (\n          <button\n            key={type}\n            onClick={() => changeType(type)}\n            className={\n              'px-3 py-1 rounded text-sm ' +\n              (activeType === type\n                ? 'bg-sky-600 text-white'\n                : 'bg-white text-sky-700 border')\n            }\n          >\n            {type.charAt(0).toUpperCase() + type.slice(1)}\n          </button>\n        ))}\n\n        <button\n          onClick={() => loadItems()}\n          className=\"ml-auto px-3 py-1 text-xs bg-gray-100 border rounded hover:bg-gray-200\"\n        >\n          Refresh\n        </button>\n        <button\n          onClick={handleDeleteAll}\n          className=\"px-3 py-1 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200\"\n        >\n          Delete All Permanently\n        </button>\n      </div>\n\n      {loading && (\n        <p className=\"text-sm text-gray-500 mb-2\">Loading recycle bin…</p>\n      )}\n      {err && <p className=\"text-sm text-red-600 mb-2\">{err}</p>}\n\n      {items.length === 0 ? (\n        <p className=\"text-sm text-gray-500\">\n          No deleted {activeType} records in recycle bin.\n        </p>\n      ) : (\n        <div className=\"bg-white rounded shadow divide-y\">\n          {items.map((item) => (\n            <div\n              key={item.id}\n              className=\"p-3 flex flex-wrap justify-between items-center text-sm\"\n            >\n              <div className=\"space-y-0.5\">\n                <div className=\"font-medium\">{renderMainLabel(item)}</div>\n                <div className=\"text-xs text-gray-500\">\n                  ID: {item.id}{' '}\n                  {item.date && <>| Date: {formatDate(item.date)}</>}\n                  {item.deletedAt && (\n                    <>\n                      {' '}\n                      | Deleted:{' '}\n                      {formatDate(item.deletedAt)}\n                    </>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex gap-2 mt-1 sm:mt-0\">\n                <button\n                  onClick={() => handleRestore(item.id)}\n                  className=\"px-2 py-1 text-xs bg-emerald-600 text-white rounded\"\n                >\n                  Restore\n                </button>\n                <button\n                  onClick={() => handleDelete(item.id)}\n                  className=\"px-2 py-1 text-xs bg-red-600 text-white rounded\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* Settings */\nfunction Settings({ t, onLogoChange }) {\n  const [logoData, setLogoData] = useState(localStorage.getItem('erp_logo') || '');\n  function upload(e) {\n    const f = e.target.files[0];\n    if (!f) return;\n    const reader = new FileReader();\n    reader.onload = ev => {\n      setLogoData(ev.target.result);\n      onLogoChange(ev.target.result);\n    };\n    reader.readAsDataURL(f);\n  }\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">{t('settings')}</h2>\n      <div className=\"bg-white p-4 rounded shadow\">\n        <label>Upload Logo (PNG/JPG)</label>\n        <input type=\"file\" accept=\"image/*\" onChange={upload} className=\"mt-2\" />\n        {logoData && <div className=\"mt-4\"><img src={logoData} className=\"h-28\" alt=\"logo\" /></div>}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}